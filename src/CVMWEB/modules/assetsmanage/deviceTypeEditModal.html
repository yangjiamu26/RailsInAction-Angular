
<div class="modal-content">
	<div class="modal-header">
		<button type="button" class="close" ng-click="close()"><span aria-hidden="true">&times;</span></button>
		<h4 class="modal-title" style="text-align:center">修改设备类型</h4>
	</div>
	<div class="modal-body" style="padding-right:40px;">
		<form class="row form-horizontal">
			<div class="col-xs-6">
				<div class="form-group">
				    <label class="control-label col-xs-5">设备类型名称：</label>
				    <div class="col-xs-7">
				    	<input type="text" class="form-control required" ng-class="{'danger': deviceTypeOptions.name=='' && Required}" ng-model="deviceTypeOptions.name"><i>*</i>
				    	<div class="requiredTip" ng-if="deviceTypeOptions.name=='' && Required">请填写设备类型名称</div>
					</div>
				</div>
			</div>

			<div class="col-xs-6">
				<div class="form-group">
				    <label class="control-label col-xs-5">是否有子类型：</label>
				    <div class="col-xs-7">
					    <select class="form-control required" disabled ng-class="{'danger': deviceTypeOptions.hasChildType=='' && Required}" ng-model="deviceTypeOptions.hasChildType">
					    	<option value="Y">是</option>
					    	<option value="N">否</option>
					    </select>
				    </div>
				</div>
			</div>

			<div class="col-xs-6">
				<div class="form-group">
				    <label class="control-label col-xs-5">单位：</label>
				    <div class="col-xs-7">
					    <select class="form-control required" ng-class="{'danger': deviceTypeOptions.unit=='' && Required}" ng-model="deviceTypeOptions.unit">
					    	<option value="台">台</option>
					    	<option value="个">个</option>
					    </select><i>*</i>
					    <div class="requiredTip" ng-if="deviceTypeOptions.unit=='' && Required">请选择单位</div>
				    </div>
				</div>
			</div>

			<div class="col-xs-6">
				<div class="form-group">
				    <label class="control-label col-xs-5">设备占用U数：</label>
				    <div class="col-xs-7">
					    <select class="form-control" disabled ng-model="deviceTypeOptions.uNumber">
					    	<option value="0">1</option>
					    	<option value="1">2</option>
					    	<option value="2">3</option>
							<option value="3">4</option>
							<option value="4">5</option>
					    	<option value="5">6</option>
					    	<option value="6">7</option>
							<option value="7">8</option>
							<option value="8">9</option>
					    	<option value="9">10</option>
					    	<option value="10">11</option>
					    	<option value="11">12</option>
							<option value="12">13</option>
							<option value="13">14</option>
					    	<option value="14">15</option>
					    </select>
				    </div>
				</div>
			</div>

			<div class="col-xs-6">
				<div class="form-group">
				    <label class="control-label col-xs-5">设备功率：</label>
				    <div class="col-xs-6">
				    	<input type="text" class="form-control required" ng-class="{'danger': deviceTypeOptions.power=='' && Required}" ng-model="deviceTypeOptions.power" onpropertychange="value=value.replace(/[^\d]/g,'')" oninput="value=value.replace(/[^\d]/g,'')"><i style="margin-right:-25px;">*</i>
				    	<div class="requiredTip" ng-if="deviceTypeOptions.power=='' && Required">请填写设备功率</div>
					</div>
				    <span class="control-label col-xs-1">瓦</span>
				</div>
			</div>

			<div class="col-xs-6">
				<div class="form-group">
				    <label class="control-label col-xs-5">设备类型描述：</label>
				    <div class="col-xs-7">
				    	<input type="text" class="form-control" ng-model="deviceTypeOptions.description">
					</div>
				</div>
			</div>
			
			<div class="col-xs-6">
				<div class="form-group">
				    <label class="control-label col-xs-5">设备类型图片：</label>
				    <div class="col-xs-7" style="position:relative;">
				    	<input type="text" class="form-control required" ng-class="{'danger': deviceTypeOptions.image=='' && Required}" disabled ng-model="deviceTypeOptions.image"><i>*</i><span ng-if="!deviceTypeOptions.image" style="position:absolute;top: 8px;left: 100%;margin-left: 13px;white-space: nowrap;color:#666">(请上传正确比例的面板图)</span>
				    	<div class="form-inline" style="position:absolute;top:0;margin-right:6px;height:100%;">
					    	<form name="myForm">
					    		<input style="width:100%;opacity:0;" class="form-control upload" ng-class='{"filesIn":!!picFile}' type="file" ngf-select ng-model="picFile" name="file" ngf-accept="'image/*'" required>
					    		<div class="progress"ng-if="progressPercentage" style="width:100%;height:2px;">
							      <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: {{progressPercentage}}%">
							      </div>
							    </div>
					    		<button class="btn btn-default" style="margin-top:5px;padding:2px 6px;" ng-disable="!picFile" ng-click="uploadPic(picFile)">上传</button> <a ng-if="deviceTypeOptions.image" class="btn btn-default" style="margin-top:5px;padding:2px 6px;position:relative;" ng-click="previewNow = !previewNow">预览
					    			<div ng-show="previewNow" class="popover top" style="top:-200px;left:6px;margin-left:-150px;width:300px;height:200px; display: block;">
						    			<div class="arrow" style="left: 60%;"></div>
						    			<div class="popover-content" style="height:180px;margin-top:10px;padding:0 10px;overflow-y:auto;">
						    				<img ng-src="{{ fileUrl+deviceTypeOptions.image }}" width="100%">
						    			</div>
						    		</div>
					    		</a>
					    	</form>
				    	</div>
				    </div>
				</div>
			</div>
			<div class="clear" style="height:15px;"></div>


			<p style="text-align:center;">
				<button class="btn btn-primary" ng-disabled="submitStart" style="margin-right:10px;" ng-click="update_action()">确定</button>
				<button class="btn btn-default" ng-click="close()">取消</button>
			</p>
			
		</form>
	</div>
</div>