<div class="modal-content">
	<div class="modal-header">
		<button type="button" class="close" ng-click="close()"><span aria-hidden="true">&times;</span></button>
		<h4 class="modal-title" style="text-align:center">机房信息修改</h4>
	</div>
	<div class="modal-body" id="device-modal-body" style="padding-right:30px;padding-left:0;">
		<form class="row form-horizontal">
			<div class="col-md-6">
				<div class="form-group">
				    <label class="control-label col-xs-4">机房编号：</label>
				    <div class="col-xs-8">
				    	<span class="form-control" disabled>{{ roomOptions.roomCode }}</span>
				    </div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="form-group">
				    <label class="control-label col-xs-4">机房名称：</label>
				    <div class="col-xs-8">
				    	<input type="text" class="form-control required" ng-class="{'danger': roomOptions.name=='' && Required}" ng-model="roomOptions.name"><i>*</i>
				    	<div class="requiredTip" ng-if="roomOptions.name=='' && Required">请填写机房名称</div>
				    </div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="form-group">
				    <label class="control-label col-xs-4">数据中心：</label>
				    <div class="col-xs-8">
					    <select class="form-control required" ng-class="{'danger': roomOptions.dcId=='' && Required}" ng-model="roomOptions.dcId" ng-change="changeDatacenter()">
						  <option ng-repeat="datacenter in datacenters.data" ng-selected="roomOptions.dcId==datacenter.id" value="{{ datacenter.id }}">{{ datacenter.name }}</option>
						</select><i>*</i>
						<div class="requiredTip" ng-if="roomOptions.dcId=='' && Required">请选择数据中心</div>
					</div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="form-group">
					<label class="control-label col-xs-4">省：</label>
				    <div class="col-xs-8 form-inline">
					    <select class="form-control" ng-class="{'danger': roomOptions.province=='' && Required}" ng-model="roomOptions.province" style="width:68px;padding:0;text-indent:5px;" disabled>
						  <option value="广西壮族自治区" selected="true">广西壮族自治区</option>
						</select>
					    <label>市：</label>
					    <select class="form-control required" ng-class="{'danger': roomOptions.city=='' && Required}" ng-model="roomOptions.city" style="width:68px;padding:0;text-indent:5px;margin:0;">
						  <option value="南宁市">南宁市</option>
						  <option value="桂林市">桂林市</option>
						  <option value="柳州市">柳州市</option>
						  <option value="梧州市">梧州市</option>
						  <option value="贵港市">贵港市</option>
						  <option value="玉林市">玉林市</option>
						  <option value="钦州市">钦州市</option>
						  <option value="北海市">北海市</option>
						  <option value="来宾市">来宾市</option>
						  <option value="百色市">百色市</option>
						  <option value="贺州市">贺州市</option>
						  <option value="崇左市">崇左市</option>
						  <option value="防城港市">防城港市</option>
						  <option value="河池市">河池市</option>
						</select><i>*</i>
						<div class="requiredTip" ng-if="roomOptions.city=='' && Required">请选择市</div>
					</div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="form-group" style="display:block">
				    <label class="control-label col-xs-4">行政区域：</label>
				    <div class="col-xs-8">
				    	<input type="text" class="form-control required" ng-class="{'danger': roomOptions.roomArea=='' && Required}" ng-model="roomOptions.roomArea"><i>*</i>
				    	<div class="requiredTip" ng-if="roomOptions.roomArea=='' && Required">请填写行政区域</div>
				    </div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="form-group" style="display:block">
				    <label class="control-label col-xs-4">机房地址：</label>
				    <div class="col-xs-8">
				    	<input type="text" class="form-control" ng-model="roomOptions.address">
				    </div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="form-group">
				    <label class="control-label col-xs-4">责任人：</label>
				    <div class="col-xs-8">
				    	<input type="text" class="form-control" ng-model="roomOptions.responser">
				    </div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="form-group">
				    <label class="control-label col-xs-4">责任人电话：</label>
				    <div class="col-xs-8">
				    	<input type="text" class="form-control" ng-model="roomOptions.telephone" onpropertychange="value=value.replace(/[^\d]/g,'')" oninput="value=value.replace(/[^\d]/g,'')">
				    </div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="form-group">
				    <label class="control-label col-xs-4">描述：</label>
				    <div class="col-xs-8">
				    	<input type="text" class="form-control" ng-model="roomOptions.description">
				    </div>
				</div>
			</div>
			
			<div class="col-md-6">
				<div class="form-group" style="display:block">
				    <label class="control-label col-xs-4">机房图片：</label>
				    <div class="col-xs-8" style="position:relative;">
				    	<input type="text" class="form-control" disabled ng-model="roomOptions.image">
				    	<div class="form-inline" style="position:absolute;top:0;margin-right:6px;height:100%;">
					    	<form name="myForm">
					    		<input style="width:100%;opacity:0;" class="form-control upload" ng-class='{"filesIn":!!picFile}' type="file" ngf-select ng-model="picFile" name="file" ngf-accept="'image/*'" required>
					    		<div class="progress"ng-if="progressPercentage" style="width:100%;height:2px;">
							      <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: {{progressPercentage}}%">
							      </div>
							    </div>
					    		<button class="btn btn-default" style="margin-top:5px;padding:2px 6px;" ng-disable="!picFile" ng-click="uploadPic(picFile)">上传</button> <a ng-if="roomOptions.image" class="btn btn-default" style="margin-top:5px;padding:2px 6px;position:relative;" ng-click="previewNow = !previewNow">预览
					    			<div ng-show="previewNow" class="popover top" style="top:-200px;left:6px;margin-left:-150px;width:300px;height:200px; display: block;">
						    			<div class="arrow" style="left: 60%;"></div>
						    			<div class="popover-content">
						    				<img ng-src="{{ fileUrl+roomOptions.image }}" width="100%">
						    			</div>
						    		</div>
					    		</a>
					    	</form>
				    	</div>
				    </div>
				</div>
			</div>
			<div class="clear" style="height:15px;"></div>
			<p style="text-align:center;">
				<button class="btn btn-primary" ng-disabled="submitStart" style="margin-right:10px;" ng-click="update_action()">确定</button>
				<button class="btn btn-default" ng-click="close()">取消</button>
			</p>
		</form>
	</div>
</div>