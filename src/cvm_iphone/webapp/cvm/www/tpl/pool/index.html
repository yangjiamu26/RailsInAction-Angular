
<!-- Page, data-page contains page name-->
<div data-page="pool-index" class="page">
    <div class="navbar">
      <div class="navbar-inner">
          <div class="left">
            <a href="#" class="link open-popover">
              <i class="icon icon-bars"></i>
              <span>资源池</span>
            </a>
          </div>
          <div class="center" data-bind="with: dcInfo"><span data-bind="text: name"></span>-资源</div>
          <div class=" right">
            <a href="#" class="link icon-only open-panel" data-panel="right">筛选</a>
          </div>
      </div>
    </div>
    <!-- Scrollable page content-->
    <div class="page-content pull-to-refresh-content">
        <div class="pull-to-refresh-layer">
          <div class="preloader"></div>
          <div class="pull-to-refresh-arrow"></div>
        </div>
        <div class="pool_statistics">
          <div class="homechartlist" data-bind="with: stat">
            <div class="list-block contacts-block list-progress">
              <div class="list-group">
                <ul>
                  <li>
                    <div class="item-content">
                      <div class="item-media"><i class="icon icon-pool"></i></div>
                      <div class="item-inner" style="bottom: -12px;">
                        <div class="item-title" style="font-size:23px;">资源池总数</div>
                        <div class="item-after" style="font-size:20px;"><span style="font-size:50px;line-height:16px;" data-bind="text: size"></span>个</div>
                      </div>
                    </div>
                    <div style="margin:0 12px;">
                      <span style="color:#fff">虚拟化 (WinServer：<span data-bind="text: winserverNum"></span>个,VMware：<span data-bind="text: vmwareNum"></span>个,power：<span data-bind="text: powerNum"></span>个)</span>
                    </div>
                  </li>
                  <li>
                    <div class="item-content">
                      <div class="item-inner">
                        <div class="item-title"><i></i>CPU X86</div>
                        <div class="item-after">已分配<span data-bind="text: (X86CpuTotal-X86AvailCpu).toFixed(2) || 0"></span>&nbsp;/&nbsp;<span data-bind="text: X86CpuTotal || 0"></span>GHz (<span data-bind="text: myApp.CalculatPercent(X86CpuTotal-X86AvailCpu,X86CpuTotal) || 0"></span>%)</div>
                      </div>
                    </div>
                    <div style="margin:0 12px;">
                      <div class="progress" style="height:3px;"><span class="progress-bar" data-bind="attr:{'style':'width:'+myApp.CalculatPercent(X86CpuTotal-X86AvailCpu,X86CpuTotal)+'%'},css:myApp.CalculatPercent(X86CpuTotal-X86AvailCpu,X86CpuTotal)<60?'progress-bar-normal':myApp.CalculatPercent(X86CpuTotal-X86AvailCpu,X86CpuTotal)<80?'progress-bar-warning':'progress-bar-danger'"></span></div>
                    </div>
                  </li>
                  <li>
                    <div class="item-content">
                      <div class="item-inner">
                        <div class="item-title"><i></i>CPU 小型机</div>
                        <div class="item-after">已分配<span data-bind="text: (pvmCpuTotal-pvmAvailCpu).toFixed(2) || 0"></span>&nbsp;/&nbsp;<span data-bind="text: pvmCpuTotal || 0"></span>核 (<span data-bind="text: myApp.CalculatPercent(pvmCpuTotal-pvmAvailCpu,pvmCpuTotal) || 0"></span>%)</div>
                      </div>
                    </div>
                    <div style="margin:0 12px;">
                      <div class="progress" style="height:3px;"><span class="progress-bar progress-bar-normal" data-bind="attr:{'style':'width:'+myApp.CalculatPercent(pvmCpuTotal-pvmAvailCpu,pvmCpuTotal)+'%'},css:myApp.CalculatPercent(pvmCpuTotal-pvmAvailCpu,pvmCpuTotal)<60?'progress-bar-normal':myApp.CalculatPercent(pvmCpuTotal-pvmAvailCpu,pvmCpuTotal)<80?'progress-bar-warning':'progress-bar-danger'"></span></div>
                    </div>
                  </li>
                  <li>
                    <div class="item-content">
                      <div class="item-inner">
                        <div class="item-title"><i></i>内存</div>
                        <div class="item-after">已分配<span data-bind="text: (memoryTotal-availMemory).toFixed(2) || 0"></span>&nbsp;/&nbsp;<span data-bind="text: memoryTotal || 0"></span>GB (<span data-bind="text: myApp.CalculatPercent(memoryTotal-availMemory,memoryTotal) || 0"></span>%)</div>
                      </div>
                    </div>
                    <div style="margin:0 12px;">
                      <div class="progress" style="height:3px;"><span class="progress-bar progress-bar-normal" data-bind="attr:{'style':'width:'+myApp.CalculatPercent(memoryTotal-availMemory,memoryTotal)+'%'},css:myApp.CalculatPercent(memoryTotal-availMemory,memoryTotal)<60?'progress-bar-normal':myApp.CalculatPercent(memoryTotal-availMemory,memoryTotal)<80?'progress-bar-warning':'progress-bar-danger'"></span></div>
                    </div>
                  </li>
                  <li>
                    <div class="item-content">
                      <div class="item-inner">
                        <div class="item-title"><i></i>存储</div>
                        <div class="item-after">已分配<span data-bind="text: (storageTotal-availStorage).toFixed(2) || 0"></span>&nbsp;/&nbsp;<span data-bind="text: storageTotal || 0"></span>TB (<span data-bind="text: myApp.CalculatPercent(storageTotal-availStorage,storageTotal) || 0"></span>%)</div>
                      </div>
                    </div>
                    <div style="margin:0 12px;">
                      <div class="progress" style="height:3px;"><span class="progress-bar progress-bar-normal" data-bind="attr:{'style':'width:'+myApp.CalculatPercent(storageTotal-availStorage,storageTotal)+'%'},css:myApp.CalculatPercent(storageTotal-availStorage,storageTotal)<60?'progress-bar-normal':myApp.CalculatPercent(storageTotal-availStorage,storageTotal)<80?'progress-bar-warning':'progress-bar-danger'"></span></div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <table data-bind="visible: dataList().length==0" width="100%">
          <tbody>
            <tr>
              <td colspan="4" align="center">暂无数据</td>
            </tr>
          </tbody>
        </table>
        <!-- ko foreach: dataList-->
        <div class="list-block card">
          <a data-bind="attr:{'href':'tpl/pool/summary.html?resourcePoolName='+resourcePoolName+'&id='+resourcePoolId}" class="item-link">
            <div class="item-content card-content">
              <div class="item-media"><i class="icon icon-pool"></i></div>
              <div class="item-inner card-content-inner">
                <div class="cart-content-block">
                  <strong data-bind="text: name"></strong>
                  <div class="row">
                    <span class="col-33" style="white-space:nowrap;">虚拟化：</span><span class="col-66"><span data-bind="text: hypervisor"></span></span>
                    <span class="col-33" style="white-space:nowrap;">物理机：</span><span class="col-66"><span data-bind="text: hostNum"></span>台</span>
                    <span class="col-33" style="white-space:nowrap;">虚拟机：</span><span class="col-66"><span data-bind="text: vmNum"></span>台</span>
                  </div>
                </div>
              </div>
            </div>
          </a>
        </div>
        <!-- /ko -->
        <div class="text-center" data-bind="visible: noMore()&&dataList().length>0">所有数据加载完毕！</div>

        <div class="infinite-scroll-preloader">
          <div class="preloader"></div>
        </div> 
        
        <div style="height:60px;"></div>   
    </div>
</div>
