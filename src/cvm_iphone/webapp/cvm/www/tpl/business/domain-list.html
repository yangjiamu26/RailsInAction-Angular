<div data-page="domain-list" class="page">
  <form class="searchbar hide ajax-submit" id="domain-search">
    <div class="searchbar-input">
      <input type="search" placeholder="Search" class="" data-bind="value: searchVal" onkeyup="window.BusinessDomainVO.SearchKeyup(event)">
    </div><a href="#" class="button button-fill" style="width: 54px;background: #6fd4fd;margin-left: 5px;line-height: 29px;" data-bind="click: startSearch">搜索</a>
  </form>
  <div class="page-content pull-to-refresh-content infinite-scroll" style="padding-top:44px;">
    <div class="pull-to-refresh-layer">
      <div class="preloader"></div>
      <div class="pull-to-refresh-arrow"></div>
    </div>

    <table data-bind="visible: dataList().length==0" width="100%">
      <tbody>
        <tr>
          <td colspan="4" align="center">暂无数据</td>
        </tr>
      </tbody>
    </table>
    
    <div style="padding:10px 0 0 10px;">业务域数：<span data-bind="text: busdomain.busdomainNum"></span>，业务系统数：<span data-bind="text: busdomain.projectNum"></span></div>
    <!-- ko foreach: dataList -->
    <div class="list-block card">
      <a data-bind="attr:{'href':'tpl/business/index-project.html?domainId='+id+'&domainName='+name}" class="item-link">
        <div class="item-content card-content">
          <div class="item-media"><i class="icon icon-domain"></i></div>
          <div class="item-inner card-content-inner">
            <div class="cart-content-block">
              <strong data-bind="text: name"></strong><br>业务系统：<span data-bind="text: projectNum"></span>个
            </div>
          </div>
        </div>
        <div class="row row-sm p-lr-15 p-b-10">
          <div class="col-33 cart-inner-panel cart-content-block">
            <strong style="line-height:1">CPU</strong>
            <div class="progress-mini">
              <span class="left"><span data-bind="text: cpuUsed || 0"></span>/<span data-bind="text: cpuTotal || 0"></span>核</span>
              <span class="right"><span data-bind="text: myApp.CalculatPercentInt(cpuUsed,cpuTotal) || 0"></span>%</span>
              <div style="clear:both;"></div>
            </div>
            <div style="margin:0;">
              <div class="progress" style="height:3px;"><span class="progress-bar" data-bind="attr:{'style':'width:'+myApp.CalculatPercentInt(cpuUsed,cpuTotal)+'%'},css:myApp.CalculatPercentInt(cpuUsed,cpuTotal)<60?'progress-bar-normal':myApp.CalculatPercentInt(cpuUsed,cpuTotal)<80?'progress-bar-warning':'progress-bar-danger'"></span></div>
            </div>
          </div>
          <div class="col-33 cart-inner-panel cart-content-block">
            <strong style="line-height:1">内存</strong>
            <div class="progress-mini">
              <span class="left"><span data-bind="text: memoryUsed || 0"></span>/<span data-bind="text: memoryTotal || 0"></span>GB</span>
              <span class="right"><span data-bind="text: myApp.CalculatPercentInt(memoryUsed,memoryTotal) || 0"></span>%</span>
              <div style="clear:both;"></div>
            </div>
            <div style="margin:0;">
              <div class="progress" style="height:3px;"><span class="progress-bar" data-bind="attr:{'style':'width:'+myApp.CalculatPercentInt(memoryUsed,memoryTotal)+'%'},css:myApp.CalculatPercentInt(memoryUsed,memoryTotal)<60?'progress-bar-normal':myApp.CalculatPercentInt(memoryUsed,memoryTotal)<80?'progress-bar-warning':'progress-bar-danger'"></span></div>
            </div>
          </div>
          <div class="col-33 cart-inner-panel cart-content-block">
            <strong style="line-height:1">存储</strong>
            <div class="progress-mini">
              <span class="left"><span data-bind="text: storageUsed || 0"></span>/<span data-bind="text: storageTotal || 0"></span>TB</span>
              <span class="right"><span data-bind="text: myApp.CalculatPercentInt(storageUsed,storageTotal) || 0"></span>%</span>
              <div style="clear:both;"></div>
            </div>
            <div style="margin:0;">
              <div class="progress" style="height:3px;"><span class="progress-bar" data-bind="attr:{'style':'width:'+myApp.CalculatPercentInt(storageUsed,storageTotal)+'%'},css:myApp.CalculatPercentInt(storageUsed,storageTotal)<60?'progress-bar-normal':myApp.CalculatPercentInt(storageUsed,storageTotal)<80?'progress-bar-warning':'progress-bar-danger'"></span></div>
            </div>
          </div>
        </div>
      </a>
    </div>
    <!-- /ko -->

    <div style="margin-top:10px;" class="text-center" data-bind="visible: noMore()&&dataList().length>0">所有数据加载完毕！</div>
    <div style="height:60px;"></div>

  </div>
</div>