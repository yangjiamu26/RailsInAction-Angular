
<div data-page="storage-index" class="page whitebg">
  <div class="navbar">
    <div class="navbar-inner">
        <div class="center sliding">存储池总览</div>  
        <div class="right">
            <a href="#" class="link icon-only open-panel" data-panel="right">筛选</a>
        </div>          
    </div>
  </div>
  <div class="page-content pull-to-refresh-content infinite-scroll content-storage hide-bars-on-scroll">
    <div class="pull-to-refresh-layer">
      <div class="preloader"></div>
      <div class="pull-to-refresh-arrow"></div>
    </div>
    <div class="top-storage sliding">
      <div class="row no-gutter">
        <div class="col-25"><span class="topbg"></span></div>
        <div class="col-75">
          <div class="row">
            <div class="col-50">
              <div id="storage_share_chart" style="height: 160px; width: 330px"></div>
            </div>
            <div class="col-50">
              <div id="storage_use_chart" style="height: 160px; width: 330px"></div>
            </div>
          </div>
          <div class="row" data-bind="with: infos">
            <div class="col-20 text-right"><h2><span data-bind="text: total"></span>TB</h2><span>存储总量</span></div>
            <div class="col-20 text-right"><h2><span data-bind="text: svc"></span></h2><span>SVC(个)</span></div>
            <div class="col-20 text-right"><h2><span data-bind="text: nfs"></span></h2><span>NFS(个)</span></div>
            <div class="col-20 text-right"><h2><span data-bind="text: storage"></span></h2><span>本地存储(个)</span></div>
            <div class="col-5"></div>
          </div>
        </div>
      </div>
    </div>       
    <div class="content-block noborder">
      <div class="content-block-inner">
        <div class="product-list clearfix" data-bind="foreach: dataList">
          <a data-bind="attr: {'href':'tpl/storage/show.html?id='+id+'&resourcePoolId='+resourcePoolId+'&hypervisor='+hypervisor}">
            <div class="block-product block-storage">
                <div class="block-storage-title row">
                  <div class="col-20">
                    <span class="icon-storage-title"></span>
                  </div>
                  <div class="col-80 txt" data-bind="text: name"></div>
                </div>
                <table class="listtablestyle1">
                  <tbody>
                    <tr>
                      <td colspan="2"><span class="storage-path-txt" data-bind="text: path"></span></td>
                    </tr>
                    <tr>
                      <td colspan="2">
                        <span class="progress-description"><span data-bind="text: availStorage"></span>GB剩余，共<span data-bind="text: storageTotal"></span>GB</span>
                        <div class="progress progress-mini">
                            <div style="width:20.8%" class="progress-bar progress-bar-success"></div>
                        </div>                          
                      </td>
                    </tr>
                    <tr>
                      <th><span class="block-icon pool"></span>所属资源池:</th>
                      <td colspan="2" class="text-right"><span class="host-pool-txt" data-bind="text: resourcePoolName"></span></td>                  
                    </tr>
                    <tr>
                      <th><span class="block-icon host"></span>存储类型:</th>
                      <td class="text-right"><span data-bind="text: type"></span></td>                       
                    </tr>
                    <tr>
                      <th><span class="block-icon vm"></span>虚拟磁盘:</th>
                      <td class="text-right"><span data-bind="text: vdisk"></span>个</td>                       
                    </tr>
                    <tr>
                      <td colspan="2" class="status">
                        <div data-bind="visible: state=='OK'">
                          <span class="icon-circle green"></span> <span class="green">活动</span>
                        </div>
                        <div data-bind="visible: state=='FAULT'">
                          <span class="icon-circle orange"></span> <span class="orange">故障</span>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
            </div>
          </a>
        </div>
      </div>
    </div>    
      <div class="infinite-scroll-preloader">
        <div class="preloader"></div>
      </div> 
  </div>

</div>

