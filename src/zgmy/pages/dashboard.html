<div class="row dashboard">
  <div class="col-md-3" style="margin:15px 0 0">
        <div class="sidebar1">
          <div class="panel panel-warning panel-style1">
            <div class="panel-heading">注册设备活动情况</div>
            <div class="panel-body">
              <div id="device" style="height:250px;"></div>
            </div>
          </div>
          <div class="panel panel-warning panel-style1">
            <div class="panel-heading">注册设备型号</div>
            <div class="panel-body">
              <div id="device_type" style="height:400px;"></div>
            </div>
          </div>
        </div>
            
  </div>

  <div class="col-md-9" style="margin:15px 0 0;">

    <section class="panel panel-info panel-style1">
        <div class="panel-body">
            <ul class="summary-list">
                <li>
                    <p>
                        <i class="fa fa-mobile text-primary"></i>
                        <b class="text-primary">2658</b>个 注册设备
                    </p>
                </li>
                <li>
                    <p>
                        <i class="fa fa-mobile text-warning"></i>
                        <b class="text-warning">1750</b>个 活动设备
                    </p>
                </li>
                <li>
                    <p>
                        <i class="fa fa-bar-chart-o text-info"></i>
                        <b class="text-info">38525</b>次 总任务
                    </p>
                </li>
                <li>
                    <p>
                        <i class="fa fa-level-up text-success"></i>
                        <b class="text-success">15887</b>次 任务发出
                    </p>
                </li>
                <li>
                    <p>
                        <i class="fa fa-level-down text-danger"></i>
                        <b class="text-danger">11558</b>次 任务反馈
                    </p>
                </li>
            </ul>
        </div>
    </section>

    <section class="panel panel-warning panel-style1">
        <div class="panel-heading">
          <div class="row">
            <div class="col-md-2" style="padding-top:5px">注册设备地区分布</div>
            <div class="col-md-4">
              <div class="control-group">
                <div class="controls">
                 <div class="input-prepend input-group">
                   <span class="add-on input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span><input type="text" id="daterange" class="form-control input-sm" value=""/>
                 </div>
                </div>
              </div>
            </div>
          </div>

        </div>
        <div class="panel-body">
          <div id="device_area" style="height:250px;"></div>

        </div>
    </section>

    <section class="panel panel-info">
      <div class="panel-body table-responsive">
          <table class="table table-striped table-advance table-hover">
              <thead>
              <tr>
                  <th width="15%"><i class="fa fa-user"></i> 手机号码</th>
                  <th width="25%"><i class="fa fa-mobile"></i> 设备类型</th>
                  <th width="15%"><i class="fa fa-calendar"></i> 注册时间</th>
                  <th width="15%"><i class="fa fa-map-marker"></i> 地区</th>
                  <th width="15%"><i class="fa fa-edit"></i> 状态</th>
                  <th><i class="fa fa-file-text-o"></i> 备注</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                  <td>13812345678</td>
                  <td>三星Galaxy S4 I959</td>
                  <td>2014-04-16</td>
                  <td>广东广州</td>
                  <td><span class="label label-success">活动</span></td>
                  <td></td>
              </tr>
              <tr>
                  <td>13478545888</td>
                  <td>苹果iPhone 5S</td>
                  <td>2014-04-16</td>
                  <td>广东广州</td>
                  <td><span class="label label-success">活动</span></td>
                  <td></td>
              </tr>
              <tr>
                  <td>15985222457</td>
                  <td>华为 G610-T11</td>
                  <td>2014-04-14</td>
                  <td>广东深圳</td>
                  <td><span class="label label-success">活动</span></td>
                  <td></td>
              </tr>
              <tr>
                  <td>18852547442</td>
                  <td>HTC Desire 816</td>
                  <td>2014-03-10</td>
                  <td>广东珠海</td>
                  <td><span class="label label-success">活动</span></td>
                  <td></td>
              </tr>
              <tr>
                  <td>13563233245</td>
                  <td>中兴 极客Geek移动版 U988S</td>
                  <td>2014-02-10</td>
                  <td>广东清远</td>
                  <td><span class="label label-default">非活动</span></td>
                  <td></td>
              </tr>
              <tr>
                  <td>13358896547</td>
                  <td>小米 2s</td>
                  <td>2014-04-10</td>
                  <td>北京</td>
                  <td><span class="label label-success">活动</span></td>
                  <td></td>
              </tr>
              <tr>
                  <td>13812345678</td>
                  <td>三星 Galaxy Note II N7108</td>
                  <td>2014-01-12</td>
                  <td>上海</td>
                  <td><span class="label label-success">活动</span></td>
                  <td><button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="left" title="Tooltip on left">Tooltip on left</button>

<button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Tooltip on top">Tooltip on top</button>

<button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Tooltip on bottom">Tooltip on bottom</button>

<button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="right" title="Tooltip on right">Tooltip on right</button>
</td>
              </tr>
              </tbody>
          </table>
      </div>
      <div class="panel-footer clearfix">
          <ul class="pagination pagination-sm pull-right" style="margin:0">
              <li><a href="#">«</a></li>
              <li><a href="#">1</a></li>
              <li><a href="#">2</a></li>
              <li><a href="#">3</a></li>
              <li><a href="#">4</a></li>
              <li><a href="#">5</a></li>
              <li><a href="#">»</a></li>
              <li class="linpt">跳<input type="text" class="form-control input-sm">/<b>12</b>页</li>
          </ul>
      </div>
    </section>

    <section class="panel panel-info">
      <div id="J_map-cont" style="height:300px"></div>
    </section>

  </div>
</div>

<script type="text/javascript">
    // daterange             
    $('#daterange').val(moment().subtract('days', 29).format('YYYY/MM/DD') + ' 至 ' + moment().format('YYYY/MM/DD')).daterangepicker(
      {
        format:'YYYY/MM/DD',
        startDate: moment().subtract('days', 29),
        endDate: moment(),
        separator:'至',
        locale:{
          applyLabel: '确认',
          cancelLabel: '取消',
          fromLabel: '开始日期',
          toLabel: '结束日期',
          weekLabel: '周',
          customRangeLabel: '自定义范围',                            
          daysOfWeek:["日","一","二","三","四","五","六"],
          monthNames:['01月','02月','03月','04月','05月','06月','07月','08月','09月','10月','11月','12月',]
        },
        ranges: {
         '当天': [moment(), moment()],
         '昨天': [moment().subtract('days', 1), moment().subtract('days', 1)],
         '近7天': [moment().subtract('days', 6), moment()],
         '近30天': [moment().subtract('days', 29), moment()],
         '当月': [moment().startOf('month'), moment().endOf('month')],
         '上月': [moment().subtract('month', 1).startOf('month'), moment().subtract('month', 1).endOf('month')]
        }
      }

    ); 
// 注册设备活动情况
$('#device').highcharts({
          chart: {
              plotBackgroundColor: null,
              plotBorderWidth: null,
              plotShadow: false,
              backgroundColor: "none"
          },
          exporting:{
              enabled: false
          },
          credits:{
              enabled: false,
              text : ""
          },

          title: {
              floating:true,
              text: ''
          },
          legend:{
            enabled:true,
            backgroundColor:"none",
            borderColor:"none",
            labelFormat: '{name}:{y}个',
            itemHoverStyle: {
              color: '#000'
            },
            itemStyle: {
              color: ''
            }
          },
          tooltip: {
            headerFormat: '<span style="font-size: 12px;font-weight:700">{point.key}</span><br/>',
            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
          },
          plotOptions: {
              pie: {
                  innerSize: '50%',
                  borderWidth:1,
                  allowPointSelect: false,
                  cursor: 'pointer',
                  dataLabels: {
                      enabled: true,
                      distance: -25,
                      color: '#fff',
                      style:{
                        fontSize:'12px'
                      },
                      connectorColor: '#000000',
                      format: '{point.percentage:.1f} %'
                  },
                  showInLegend: true
              }
          },
          series: [{
              type: 'pie',
              name: '注册设备',
              data: [{
                      name: '活动',
                      y: 105,
                      color:"#1BC2A1"
                  },
                  {
                      name: '非活动',
                      y: 17,
                      color:"#BCBCBC"
                  }
              ]
          }]
      });   
  // 注册设备型号
    $('#device_type').highcharts({
        chart: {
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false,
            backgroundColor: "none"
        },
        title: {
            text: ''
        },
        credits:{
          enabled: false,
          text : ""
        }, 
        // colors: ["#DDDF0D", "#7798BF", "#55BF3B", "#DF5353", "#aaeeee", "#ff0066", "#eeaaee","#55BF3B", "#DF5353", "#7798BF", "#aaeeee"],            
        tooltip: {
            headerFormat: '<span style="font-size: 12px;font-weight:700">{point.key}</span><br/>',
            pointFormat: '<b>{point.percentage:.1f}%</b>'
        },
        legend:{
          borderColor:"none",
          itemMarginTop: 5,
          padding:0,
          labelFormat: '{name}：<b>{y}</b> 个',
          itemStyle: {
            color:"",
        },
        itemHoverStyle: {
          color: '#000',
        }
        },
        plotOptions: {
            pie: {
                borderWidth:0,
                allowPointSelect: true,
                cursor: 'pointer',
                dataLabels: {
                    enabled: false
                },
                showInLegend: true
            }
        },
        series: [{
            type: 'pie',
            name: '设备',
            data: [{
                  name: '三星Galaxy S4 I959',
                  y: 25,
                  color:"#DDDF0D"
              },
              {
                  name: '苹果iPhone 5S',
                  y: 26,
                  color:"#7798BF"
              },
              {
                  name: '华为 G610-T11',
                  y: 26,
                  color:"#55BF3B"
              },
              {
                  name: 'HTC Desire 816',
                  y: 5,
                  color:"#DF5353"
              },
              {
                  name: '中兴 极客Geek移动版 U988S',
                  y: 6,
                  color:"#aaeeee"
              },
              {
                  name: '小米 2s',
                  y: 7,
                  color:"#ff0066"
              },
              {
                  name: '三星 Galaxy Note II N7108',
                  y: 20,
                  color:"#8175c7"
              }
          ]
        }]
    });
  // 注册设备地区

   $('#device_area').highcharts({
       chart: {
           type: 'column',
           margin: [30, 30, 50, 50],
           backgroundColor: "#fafafa"
       },
       title: {
           text: ''
       },
       credits:{
          enabled: false,
          text : ""
        }, 
       xAxis: {
           categories: ['北京', '上海', '天津', '重庆', '广东', '广西', '海南', '江苏', '山东', '浙江', '安徽', '福建', '江西', '湖南', '湖北', '河南', '河北', '山西', '云南', '贵州', '四川' , '其他'],
           labels: {
               rotation: -45,
               align: 'right',
               style: {
                   fontSize: '12px',
                   color: '#333',
                   fontFamily: 'Microsoft YaHei'
               }
           }
       },
       yAxis: {
           min: 0,
           title: {
               text: ''
           },
           gridLineColor: '#eee',
           labels: {
              formatter: function() {
                  return this.value +'个';
              }
            }
       },
       legend: {
           enabled: false
       },
       colors: ["#55BF3B"],            
       tooltip: {
            headerFormat: '<span style="font-size: 12px;font-weight:700">{point.key}</span>',
            pointFormat: '<b>{point.y}个</b>',
       },
       series: [{
           name: null,
           data: [34, 21, 20, 20, 19, 19, 19, 18, 18, 17, 16, 15, 14, 14, 13, 12, 12, 11, 11, 11, 11, 12],
           dataLabels: {
               enabled: true,
               rotation: -90,
               color: '#FFFFFF',
               align: 'right',
               x: 4,
               y: 10,
               style: {
                   fontSize: '12px',
                   fontFamily: 'Verdana, sans-serif',
                   textShadow: '0 0 3px black'
               }
           }
       }]
   });

// 百度地图API功能
    var map = new BMap.Map('J_map-cont');
    var point = new BMap.Point(113.273155,23.136799);
    map.centerAndZoom(point, 15);
    map.addControl(new BMap.NavigationControl());  //添加默认缩放平移控件

    //创建检索信息窗口对象
    var searchInfoWindow = null;
    searchInfoWindow = new BMapLib.SearchInfoWindow(map, $("#mapid").html(), {
            title  : "广东省政府",      //标题
            width  : 300,             //宽度
            height : 160,              //高度
            enableAutoPan : true,     //自动平移
            searchTypes :[
            ]
        });
    var marker = new BMap.Marker(point); //创建marker对象
    marker.addEventListener("click", function(e){
        searchInfoWindow.open(marker);
    })
    map.addOverlay(marker); //在地图中添加marker

    $(".btn").tooltip('hide');

</script>
<div id="mapid" style="display:none">
  <div class="baidupop-content">
    <div class="form-horizontal">
      <div class="form-group">
        <label class="col-md-4 control-label">手机号码：</label>
        <div class="col-md-8">13812345678</div>
      </div>
      <div class="form-group">
        <label class="col-md-4 control-label">设备类型：</label>
        <div class="col-md-8">三星Galaxy S4 I959</div>
      </div>
      <div class="form-group">
        <label class="col-md-4 control-label">地区：</label>
        <div class="col-md-8">广东广州</div>
      </div>
      <div class="form-group">
        <label class="col-md-4 control-label">状态：</label>
        <div class="col-md-8">活动</div>
      </div>
    </div>
  </div>
</div>