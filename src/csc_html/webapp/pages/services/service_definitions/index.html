
<link href="assets/lib/zTree/css/ibos/ibos.css" rel="stylesheet" type="text/css" />
<style>
.left-title{font-size:18px;}
.left-title .glyphicon{cursor:pointer;}
.left-title span{margin-right:10px;}
.left-title span:last-child{margin-right:0;}
.table.left-list > tbody > tr > td, .table.left-list > tfoot > tr > td{padding:0;}
.left-list tr td a{display:block;padding: 8px 15px;}
.left-list tr.active td a{background:#2aabd2;color:#fff;}

#serverDefinitionsTree *{font-size:14px;}
</style>

<div class="app-content-full">
  <!-- hbox layout -->
  <div class="hbox hbox-auto-xs bg-light ">
    <!-- column -->
    <div class="col w lter b-r">
      <div class="vbox">
        <div class="wrapper b-b">
          <div class="left-title clearfix"><span style="font-size:16px;">服务目录</span><span data-bind="click: addCatelog" class="glyphicon glyphicon-pencil pull-right service-edit-btn" style="color:#9c9c9c;top:3px;"></span><span class="glyphicon glyphicon-minus pull-right service-delete-btn" style="color:#9c9c9c;top:3px;"></span><span data-bind="click: addCatelog" class="glyphicon glyphicon-plus pull-right service-add-btn" style="color:#2aabd2;top:3px;margin-right:10px;"></span></div>
        </div>
        <div class="row-row">
          <div class="cell scrollable hover">
            <div class="cell-inner">
              <div id="serverDefinitionsTree" class="ztree" style="margin-left:8px;">
                
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /column -->
  
  <!-- column -->
    <div class="col">
      <div class="vbox">
        <div class="row-row">
          <div class="cell">
            <div class="cell-inner">
              <div class="wrapper-md">

                <div class="panel panel-default">
                  <div class="row wrapper">
                    <div class="col-md-3">
                      <a class="btn btn-sm btn-primary" onclick="showModal('pages/services/service_definitions/addService.html')">创建服务</a>
                    </div>
                    <div class="col-md-6 text-right">
                      服务状态：
                      <select class="input-sm form-control w-xs inline v-middle">
                        <option value="">全部</option>
                      </select>
                      产品名称：
                      <select class="input-sm form-control w-xs inline v-middle">
                        <option value="">全部</option>
                      </select>
                    </div>
                    <div class="col-md-3">
                      <div class="input-group">
                        <input type="text" class="input-sm form-control" placeholder="请输入名称">
                        <span class="input-group-btn">
                          <button class="btn btn-sm btn-default" type="button">搜索</button>
                        </span>
                      </div>
                    </div>
                  </div>   
      
                  <div class="table-responsive">
                    <table class="table table-striped">
                      <thead>
                        <th>服务名称</th>
                        <th>所属产品</th>
                        <th>服务状态</th>
                        <th>服务目录</th>
                        <th>创建人</th>
                        <th>生效时间</th>
                        <th>操作</th>
                      </thead>
                      <tbody>
                        <tr class="b-l b-l-3x b-l-info">
                          <td>windows服务</td>
                          <td>云主机</td>
                          <td><span class="label label-info">未发布</span></td>
                          <td>金牌服务</td>
                          <td>张三</td>
                          <td>2016-4-15至2016-6-15</td>
                          <td><a onclick="confirm('确定发布吗？')">发布</a> | <a onclick="showModal('pages/services/service_definitions/addService.html')">修改</a> | <a onclick="confirm('确定删除吗？')">删除</a></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <footer class='panel-footer'>
                    <ul class="pagination">
                      <li class="page active">
                        <a href="#pages/javascript:void(0)">1</a></li>
                      <li class="page">
                        <a rel="next" href="#pages/http://localhost/resource_partitions?locale=zh-CN&amp;page_partitions=2">2</a></li>
                      <li class="page">
                        <a href="#pages/http://localhost/resource_partitions?locale=zh-CN&amp;page_partitions=3">3</a></li>
                      <li class="next">
                        <a rel="next" href="#pages/http://localhost/resource_partitions?locale=zh-CN&amp;page_partitions=2">下页 &rsaquo;</a></li>
                      <li class="last">
                        <a href="#pages/http://localhost/resource_partitions?locale=zh-CN&amp;page_partitions=3">末页 &raquo;</a></li>
                    </ul>
                  </footer>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>

<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isAddCatelog }">
  <div class='modal-dialog modal-lg' style="width:600px;">
    <div class='modal-content'>
      <div class='modal-header'>
        <h3 class='modal-title'>创建服务目录</h3>
      </div>
      <div class='modal-body form-horizontal row'>
        <div class="form-group">
          <label class="col-sm-3 control-label">服务目录名称：</label>
          <div class="col-sm-9">
            <input type="email" class="form-control" placeholder="请输入名称">
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-3 control-label">上级服务目录：</label>
          <div class="col-sm-9">
            <input type="email" class="form-control" placeholder="请输入名称">
          </div>
        </div>
        
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info">确定</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>

<!-- page specific plugin scripts -->
<script type="text/javascript">
  var scripts = [null, 'assets/lib/zTree/js/jquery.ztree.core.js', null]
  $('.page-content-area').ace_ajax('loadScripts', scripts, function(args) {
    //inline scripts related to this page

    <!--
    var setting = {
      view:{
        showIcon:false,
        showLine:false
      }
    };

    var zNodes =[
      { name:"服务目录", open:true,
        children: [
          { name:"服务目录1", isParent:true},
          { name:"负载均衡", isParent:true},
          { name:"金牌服务目录", open:true,
            children: [
              { name:"云主机"},
              { name:"云硬盘"}
            ]}
        ]
      }
    ];

    $(document).ready(function(){
      $.fn.zTree.init($("#serverDefinitionsTree"), setting, zNodes);
    });
    //-->

    $('.service-delete-btn').click(function(){
      if(confirm('确定删除吗？')){
        console.log('执行删除！')
      }
    })

    function ViewModel(){
      this.isAddCatelog = ko.observable(false);

      this.addCatelog = function(){
        this.isAddCatelog(true);
      }
    }

    ko.applyBindings(new ViewModel(), $('.page-content-area')[0]);

  });
</script>