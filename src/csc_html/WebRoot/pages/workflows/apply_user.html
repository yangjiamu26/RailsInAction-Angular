<div class="app-content-full">
  <div class="bg-light lter b-b wrapper-sm">
    <ol class="breadcrumb">
      <li>当前位置：</li>
      <li>工作</li>
      <li class="active">新建工作</li>
    </ol>
  </div>
  <!-- hbox layout -->
  <div class="hbox hbox-auto-xs bg-light " style="height:94%">
    <!-- column -->
    <div class="col w lter b-r">
      <div class="vbox">
        <div class="wrapper b-b" style="padding:10px 15px;">
          <div class="left-title text-md">流程类型</div>
        </div>
        <div class="row-row">
          <div class="cell scrollable hover">
            <div class="cell-inner">
              <div class='table-responsive'>
                <table class='table table-striped table-hover left-list'>
                  <tbody class="left-list-body">
                    <tr class="active">
                      <td><a>资源申请</a></td>
                    </tr>
                    <tr>
                      <td><a>资源变更</a></td>
                    </tr>
                    <tr>
                      <td><a>有效时间变更</a></td>
                    </tr>
                    <tr>
                      <td><a>资源删除</a></td>
                    </tr>
                    <tr>
                      <td><a>VDC申请</a></td>
                    </tr>
                    <tr>
                      <td><a>自定义流程</a></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /column -->
    
    <!-- column -->
    <div class="col">
      <div class="vbox">
        <div class="row-row">
          <div class="cell">
            <div class="cell-inner">
              <div class='wrapper-md right-list-body'>
                <div class="row" >
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">资源申请-云主机</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/services/service_applies/index?type=1" href="#pages/services/service_applies/index?type=1">申请</a></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">资源申请-云硬盘</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/services/service_applies/index?type=2" href="#pages/services/service_applies/index?type=2">申请</a></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">资源申请-公网IP</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/services/service_applies/index?type=4" href="#pages/services/service_applies/index?type=4">申请</a></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">资源申请-负载均衡器</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/services/service_applies/index?type=5" href="#pages/services/service_applies/index?type=5">申请</a></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">资源申请-SSH密钥</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/services/service_applies/index?type=6" href="#pages/services/service_applies/index?type=6">申请</a></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">资源申请-对象存储</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/services/service_applies/index?type=3" href="#pages/services/service_applies/index?type=3">申请</a></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row" style="display:none">
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">资源变更-云主机</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/resources/instances/index?type=0" href="#pages/resources/instances/index?type=0">申请</a></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">资源变更-云硬盘</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/resources/instances/index?type=1" href="#pages/resources/instances/index?type=1">申请</a></div>
                      </div>
                    </div>
                  </div>
                  <!-- <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">资源变更-对象存储</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/resources/instances/index?type=2" href="#pages/resources/instances/index?type=2">申请</a></div>
                      </div>
                    </div>
                  </div> -->
                </div>
                <div class="row" style="display:none">
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">有效时间变更-云主机</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/resources/instances/index?type=0" href="#pages/resources/instances/index?type=0">申请</a></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">有效时间变更-公网IP</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/resources/instances/index?type=2" href="#pages/resources/instances/index?type=2">申请</a></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">有效时间变更-负载均衡器</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/resources/instances/index?type=3" href="#pages/resources/instances/index?type=3">申请</a></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">有效时间变更-对象存储</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/resources/instances/index?type=5" href="#pages/resources/instances/index?type=5">申请</a></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">有效时间变更-SSH密钥</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/resources/instances/index?type=4" href="#pages/resources/instances/index?type=4">申请</a></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row" style="display:none">
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">资源删除-云主机</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/resources/instances/index?type=0" href="#pages/resources/instances/index?type=0">申请</a></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">资源删除-云硬盘</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/resources/instances/index?type=1" href="#pages/resources/instances/index?type=1">申请</a></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">资源删除-公网IP</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/resources/instances/index?type=2" href="#pages/resources/instances/index?type=2">申请</a></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">资源删除-负载均衡器</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/resources/instances/index?type=3" href="#pages/resources/instances/index?type=3">申请</a></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">资源删除-对象存储</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/resources/instances/index?type=5" href="#pages/resources/instances/index?type=5">申请</a></div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">资源删除-SSH密钥</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/resources/instances/index?type=4" href="#pages/resources/instances/index?type=4">申请</a></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row" style="display:none">
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading">VDC申请</div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                        <div><a class="btn btn-info pull-right" data-url="pages/services/service_applies/index?type=0" href="#pages/services/service_applies/index?type=0">申请</a></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row" style="display:none" data-bind="foreach: customProcess">
                  <div class="col-xs-4">
                    <div class="panel panel-default">
                      <div class="panel-heading" data-bind="text: name"></div>
                      <div class="panel-body">
                        <div><span class="glyphicon glyphicon-equalizer"></span> 流程图</div>
                         <div><a class="btn btn-info pull-right" data-bind="attr:{'href':'#pages/workflows/knockout.form?processDefinitionId='+id}">申请</a></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
  <!-- page specific plugin scripts -->
  <script type="text/javascript">
    var scripts = [null, null]
    $('.page-content-area').ace_ajax('loadScripts', scripts, function(args) {
    	
    	if(args.type){
    		$(".left-list-body tr").eq(args.type).addClass("active").siblings().removeClass("active");
	    	$(".row").eq(args.type).show().siblings().hide();
	    }
    	
    	function ViewModel(){
  	    	var self = this;
  	      
  	    	this.customProcess = ko.observable("");
	    	csc.rest.get('api/v5.0.0/workflows/process-definitions/custom',function(data){
	    		console.log(data)
	    		self.customProcess(data);
			})
  	      
    	}
    	
      $(".left-list-body tr").click(function(){
        $(this).addClass("active").siblings().removeClass("active");
        var index = $(this).index();
        $(".right-list-body > div.row").eq(index).show().siblings().hide();
      });
      
      ko.applyBindings(new ViewModel(), $('#page-content')[0]);
    });
  </script>