<style>
<!--
.float_r{float:right;}
-->
</style>


   
<div>
<button id="backBtn" class="btn btn-info pull-right" type="button" onclick="javascript:$('#workflow_content').show();$('#workflow_edit').hide();">返回</button>
<iframe id="editWorkFlow" style="width: 100%;height: 730px"  frameborder="0"></iframe>
</div>
<script>
$(function() {
  	var id = window.parent.document.getElementById("editModelId").value;
  	var type = window.parent.document.getElementById("editModelType").value;
	if(type=='model'){
		$("#backBtn").hide();
		$("#editWorkFlow").attr("src","/csc/modeler.html?modelId="+id);
	}else if(type=='processDef'){
		$("#editWorkFlow").attr("src","/csc/diagram-viewer/index.html?processDefinitionId="+id);
	}else if(type=='processInst'){
		var processInstanceId = window.parent.document.getElementById("editProcessinstanceId").value;
		//此处需进行编码，不然第一次进入页面的时候会乱码   by wujie 2016-08-11
		$("#editWorkFlow").attr("src","/csc/diagram-viewer/index.html?processDefinitionId="+encodeURIComponent(id)+"&processInstanceId="+processInstanceId);
	}
});

function createXHR() {     
   if (window.XMLHttpRequest) {         
      return new XMLHttpRequest();     
   }     
   if (window.ActiveXObject) { 
      var msxmls = ['MSXML3', 'MSXML2', 'Microsoft'];         
      for (var i=0; i < msxmls.length; i++) {             
         try {                 
         return new ActiveXObject(msxmls[i]+'.XMLHTTP') ;           
         } catch (e) {                           }         
      }         
   throw new Error("No XML component installed!");
   }; 
};


</script>