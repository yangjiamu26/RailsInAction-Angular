<div id="instance_balancer_details" style="display: ">
  <div class="wrapper-md nav-tabs-alt bg-white-only">
    <div style="position:relative;">
      <a style="position:absolute;right:10px;top:5px;" class="btn btn-sm btn-default" href="#" onclick="$('#instance_balancer').show().siblings().hide();$('#instance_balancer_details').prev().show()"><i class="fa fa-arrow-left"></i> 返回</a>
      <ul class="nav nav-tabs" role="tablist">
        <li class="active" role="presentation">
          <a aria-controls="VPN" data-toggle="tab" role="tab">详细信息</a>
        </li>
      </ul>
    </div>
    <div class="tab-content">
      <div class="wrapper-md form-inline">
        <a class="btn btn-sm btn-info">编辑VIP</a>
        <a class="btn btn-sm btn-info">有效时间变更</a>
        <a class="btn btn-sm btn-default">终止</a>
        <a class="btn btn-sm btn-default">删除</a>
      </div>
      
      <div class="row">
        <div class="col-sm-3">
          <div class='panel panel-default'>
            <div class="panel-heading">基本信息</div>
            <div class='panel-body'>
              <div class="row">
                <label class="col-xs-6">负载均衡器名称：</label>
                <span class="col-xs-6">负载均衡器1</span>
              </div>
              <div class="row">
                <label class="col-xs-6">所属VDC：</label>
                <span class="col-xs-6">VDC1</span>
              </div>
              <div class="row">
                <label class="col-xs-6">可用分区：</label>
                <span class="col-xs-6">可用分区1</span>
              </div>
              <div class="row">
                <label class="col-xs-6">所属VPC：</label>
                <span class="col-xs-6">VPC1</span>
              </div>
              <div class="row">
                <label class="col-xs-6">网络：</label>
                <span class="col-xs-6">208</span>
              </div>
              <div class="row">
                <label class="col-xs-6">协议：</label>
                <span class="col-xs-6">TCP</span>
              </div>
              <div class="row">
                <label class="col-xs-6">负载方式：</label>
                <span class="col-xs-6">SOURCE_IP</span>
              </div>
              <div class="row">
                <label class="col-xs-6">备注：</label>
                <span class="col-xs-6">XXXX</span>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <div class='panel panel-default'>
            <div class="panel-heading">服务信息</div>
            <div class='panel-body'>
              <div class="row">
                <label class="col-xs-6">服务状态：</label>
                <span class="col-xs-6"><span class="label label-success">正常</span></span>
              </div>
              <div class="row">
                <label class="col-xs-6">创建时间：</label>
                <span class="col-xs-6">2016-08-01 15:00:00</span>
              </div>
              <div class="row">
                <label class="col-xs-6">生效时间：</label>
                <span class="col-xs-6">2016-08-01 15:00:00</span>
              </div>
              <div class="row">
                <label class="col-xs-6">失效时间：</label>
                <span class="col-xs-6">2016-08-01 15:00:00</span>
              </div>
              
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <div class='panel panel-default'>
            <div class="panel-heading">VIP信息</div>
            <div class='panel-body'>
              <div class="row">
                <label class="col-xs-6">VIP名称：</label>
                <span class="col-xs-6">负载均衡器1</span>
              </div>
              <div class="row">
                <label class="col-xs-6">网络：</label>
                <span class="col-xs-6">208</span>
              </div>
              <div class="row">
                <label class="col-xs-6">IP地址：</label>
                <span class="col-xs-6">192.1.1.1</span>
              </div>
              <div class="row">
                <label class="col-xs-6">协议：</label>
                <span class="col-xs-6">TCP</span>
              </div>
              <div class="row">
                <label class="col-xs-6">协议端口：</label>
                <span class="col-xs-6">8080</span>
              </div>
              <div class="row">
                <label class="col-xs-6">会话持久性：</label>
                <span class="col-xs-6">是</span>
              </div>
              <div class="row">
                <label class="col-xs-6">连接限制：</label>
                <span class="col-xs-6">5000</span>
              </div>
              <div class="row">
                <label class="col-xs-6">备注：</label>
                <span class="col-xs-6">XXXX</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class='panel panel-default'>
        <div class="panel-heading">成员列表</div>
        <div class="panel-body">
          <p class="form-inline">
            <a class="btn btn-info" data-bind="click: addMember">添加成员</a>
            <a class="btn btn-success pull-right">刷新</a>
          </p>
          <div class='table-responsive'>
            <table class="table table-striped table-bordered">
              <thead>
                <tr>
                  <th>云主机名称</th>
                  <th>IP地址</th>
                  <th>状态</th>
                  <th>协议端口</th>
                  <th>权重</th>
                  <th>所属负载均衡器</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>VM1</td>
                  <td>192.169.22.56</td>
                  <td><span class="label label-success">运行中</span></td>
                  <td>TCP</td>
                  <td>20</td>
                  <td>负载均衡器1</td>
                  <td><a data-bind="click: addMember">修改</a> | <a>删除</a></td>
                </tr>
                <tr>
                  <td>VM2</td>
                  <td>192.169.22.56</td>
                  <td><span class="label label-success">运行中</span></td>
                  <td>TCP</td>
                  <td>20</td>
                  <td>负载均衡器1</td>
                  <td><a data-bind="click: addMember">修改</a> | <a>删除</a></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class='panel panel-default'>
        <div class="panel-heading">监控列表</div>
        <div class="panel-body">
          <p class="form-inline">
            <a class="btn btn-info" data-bind="click: addMonitor">添加监控</a>
            <a class="btn btn-success pull-right">刷新</a>
          </p>
          <div class='table-responsive'>
            <table class="table table-striped table-bordered">
              <thead>
                <tr>
                  <th>监控类型</th>
                  <th>延迟</th>
                  <th>超时</th>
                  <th>最大重试次数</th>
                  <th>http方式</th>
                  <th>URL</th>
                  <th>期望http状态代码</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>TCP</td>
                  <td>7</td>
                  <td>10</td>
                  <td>5</td>
                  <td>GET</td>
                  <td>/192.168.1.1:8090</td>
                  <td>200</td>
                  <td><a data-bind="click: addMonitor">修改</a> | <a>删除</a></td>
                </tr>
                <tr>
                  <td>TCP</td>
                  <td>7</td>
                  <td>10</td>
                  <td>5</td>
                  <td>GET</td>
                  <td>/192.168.1.1:8090</td>
                  <td>200</td>
                  <td><a data-bind="click: addMonitor">修改</a> | <a>删除</a></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>  


  <!-- 添加成员 -->
  <div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isAddMember }">
    <div class='modal-dialog' role='document'>
      <div class='modal-content'>
        <div class='modal-header'>
          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
          <h3 class='modal-title'>添加成员</h3>
        </div>
        <div class='modal-body form-horizontal'>
      <div class="tab-pane active">
        <div class="form-group">
              <label class="col-xs-4 control-label">负载均衡器名称：</label>
              <div class="col-xs-5">
                <input disable class="form-control" type="text" value="负载均衡器1" />
              </div>
              <div class="col-xs-3">
                <span class="text-danger inline m-l-n m-t-sm">*</span>
              </div>          
            </div>
            <div class="form-group">
              <label class="col-xs-4 control-label">云主机：</label>
              <div class="col-xs-5">
                <select class="form-control">
                  <option value="">VM1</option>
                  <option value="">VM2</option>
                </select>
              </div>
              <div class="col-xs-3">
                <span class="text-danger inline m-l-n m-t-sm">*</span>
              </div>          
            </div>
            <div class="form-group">
              <label class="col-xs-4 control-label">协议端口：</label>
              <div class="col-xs-5">
                <input class="form-control" type="text" />
              </div>
              <div class="col-xs-3">
                <span class="text-danger inline m-l-n m-t-sm">*</span>
              </div>          
            </div>
            <div class="form-group">
              <label class="col-xs-4 control-label">权重：</label>
              <div class="col-xs-5">
                <input class="form-control" type="text" />
              </div>
              <div class="col-xs-3">
                <span class="text-danger inline m-l-n m-t-sm">*</span>
              </div>          
            </div>
          </div>  
        </div>

        <div class='modal-footer'>
          <input type="button" name="commit" value="确定" class="btn btn-default btn-info" />
          <button name="button" type="submit" class="btn btn-default btn btn-default" data-dismiss="modal">取消</button>
        </div>
      </div>
    </div>
  </div>
  <!-- 添加成员 -->

  <!-- 添加监控 -->
  <div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isAddMonitor }">
    <div class='modal-dialog' role='document'>
      <div class='modal-content'>
        <div class='modal-header'>
          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
          <h3 class='modal-title'>添加监控</h3>
        </div>
        <div class='modal-body form-horizontal'>
          <div class="tab-pane active">
            <div class="form-group">
              <label class="col-xs-4 control-label">监控类型：</label>
              <div class="col-xs-5">
                <select class="form-control">
                  <option value="">TCP</option>
                  <option value="">2</option>
                </select>
              </div>
              <div class="col-xs-3">
                <span class="text-danger inline m-l-n m-t-sm">*</span>
              </div>          
            </div>
            <div class="form-group">
              <label class="col-xs-4 control-label">延迟：</label>
              <div class="col-xs-5">
                <input class="form-control" type="text" />
              </div>
              <div class="col-xs-3">
                <span class="text-danger inline m-l-n m-t-sm">*</span>
              </div>          
            </div>
            <div class="form-group">
              <label class="col-xs-4 control-label">超时：</label>
              <div class="col-xs-5">
                <input class="form-control" type="text" />
              </div>
              <div class="col-xs-3">
                <span class="text-danger inline m-l-n m-t-sm">*</span>
              </div>          
            </div>
            <div class="form-group">
              <label class="col-xs-4 control-label">最大重试次数：</label>
              <div class="col-xs-5">
                <input class="form-control" type="text" />
              </div>
              <div class="col-xs-3">
                <span class="text-danger inline m-l-n m-t-sm">*</span>
                <span>(1~10)</span>
              </div>          
            </div>
          </div>  
        </div>

        <div class='modal-footer'>
          <input type="button" name="commit" value="确定" class="btn btn-default btn-info" />
          <button name="button" type="submit" class="btn btn-default btn btn-default" data-dismiss="modal">取消</button>
        </div>
      </div>
    </div>
  </div>
  <!-- 添加监控 -->

</div>
<script type="text/javascript">
  var scripts = [null,null]
  $('.page-content-area').ace_ajax('loadScripts', scripts, function(args) {
    function ViewModel(){
      var self = this;

      this.isAddMember = ko.observable(false);
      this.addMember = function(){
        this.isAddMember(true);
      }
      this.isAddMonitor = ko.observable(false);
      this.addMonitor = function(){
        this.isAddMonitor(true);
      }
    }
    var viewModel = new ViewModel();
    ko.applyBindings(viewModel, $("#instance_balancer_details")[0]);
  });
</script>
