<form class="simple_form form-horizontal" novalidate="novalidate" >
  <div class='modal-dialog' role='document'>
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>添加规则</h3>
      </div>
      <div class='modal-body'>
        <div class="form-group">
          <label class="col-xs-3 control-label">
            协议
          </label>
          <div class="col-xs-8">
            <select class="form-control" id="s-protocol">
              <option value="">请选择</option>
              <option value="v-port">TCP</option>
              <option value="v-port">UDP</option>
              <option value="v-noPort">DNS</option>
              <option value="v-noPort">HTTP</option>
              <option value="v-noPort">HTTPS</option>
              <option value="v-icmp">ICMP</option>
              <option value="v-others">其他</option>
            </select>
          </div>
          <div class="col-xs-1">
            <span class="text-danger inline m-l-n m-t-sm">*</span>
          </div>          
        </div>      
        <div class="form-group" id="field-port" style="display:none">
          <label class="col-xs-3 control-label">
            端口/端口范围
          </label>
          <div class="col-xs-8">
            <input class="form-control" type="text"/>
            <span class="text-info">端口为1~65535的整数，如输入范围，格式为1:65535</span>
          </div>
          <div class="col-xs-1">
            <span class="text-danger inline m-l-n m-t-sm">*</span>
          </div>          
        </div> 
        <div id="field-icmp" style="display:none">
          <div class="form-group">
            <label class="col-xs-3 control-label">
              类型
            </label>
            <div class="col-xs-8">
              <input class="form-control" type="text"/>
              <span class="text-info">0~18的整数</span>
            </div>
            <div class="col-xs-1">
              <span class="text-danger inline m-l-n m-t-sm">*</span>
            </div>          
          </div> 
          <div class="form-group">
            <label class="col-xs-3 control-label">
              编码
            </label>
            <div class="col-xs-8">
              <input class="form-control" type="text"/>
              <span class="text-info">0~15的整数</span>
            </div>
            <div class="col-xs-1">
              <span class="text-danger inline m-l-n m-t-sm">*</span>
            </div>          
          </div> 
        </div>       
        <div class="form-group" id="field-protocolNum" style="display:none">
          <label class="col-xs-3 control-label">
            协议号
          </label>
          <div class="col-xs-8">
            <input class="form-control" type="text"/>
            <span class="text-info">0~255的整数，或-1做通配符</span>
          </div>
          <div class="col-xs-1">
            <span class="text-danger inline m-l-n m-t-sm">*</span>
          </div>          
        </div>  
        <div class="form-group">
          <label class="col-xs-3 control-label">
            目的地
          </label>
          <div class="col-xs-8">
            <div class="radio">
              <label>
                <input type="radio" name="optionsRadios" id="optionsRadios1" value="option1" checked>
                IP段 <input class="form-control inline w-lg v-middle m-l-md" type="text"/>
              </label>
            </div>
            <div class="radio">
              <label>
                <input type="radio" name="optionsRadios" id="optionsRadios2" value="option2">
                安全组
                <select class="form-control inline w-lg v-middle m-l-xs">
                  <option>组1</option>
                  <option>组2</option>
                </select>                
              </label>
            </div>          
          </div>
          <div class="col-xs-1">
            <span class="text-danger inline m-l-n m-t-sm">*</span>
          </div>          
        </div>              
      </div>
      <div class='modal-footer' style="text-align: center">
        <input type="button" name="commit" value="确定" class="btn btn-default btn-info" />
        <button name="button" type="submit" class="btn btn-default btn btn-default" data-dismiss="modal">取消</button>
      </div>
    </div>
  </div>
</form>

<!-- page specific plugin scripts -->
<script type="text/javascript">
  var scripts = [null, null]
  $('.page-content-area').ace_ajax('loadScripts', scripts, function(args) {

    // 根据协议显示隐藏相关字段
    $('#s-protocol').bind('change', function(){
      var val = $(this).val();
      switch(val){
      case 'v-port': $('#field-port').show(); $('#field-icmp, #field-protocolNum').hide(); break;
      case 'v-noPort': $('#field-port, #field-icmp, #field-protocolNum').hide(); break;
      case 'v-icmp': $('#field-icmp').show(); $('#field-port, #field-protocolNum').hide(); break;
      case 'v-others': $('#field-protocolNum').show(); $('#field-port, #field-icmp').hide(); break;
      }
    }); 


});
</script>