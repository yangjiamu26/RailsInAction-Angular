<style>
  .ztree.release li a.curSelectedNode{background:none;color: #82939E;}
  .ztree.release li a:hover{border-color:#fff;background-color:#fff;}
  .col-xs-1, .col-xs-10, .col-xs-11, .col-xs-12, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9{padding-left:5px;padding-right:5px;}
</style>
<div class="app-content-full">
	<div class="bg-light lter b-b wrapper-sm">
		<ol class="breadcrumb">
			<li>当前位置：</li>
			<li>服务</li>
			<li class="active">服务申请</li>
		</ol>
	</div>
	<!-- hbox layout -->
	<div class="hbox hbox-auto-xs bg-light ">
		<!-- column -->
		<div class="col w lter b-r" id="productListBox">
			<div class="vbox">
				<div class="wrapper b-b">
					<div class="left-title">
						<span style="font-size: 16px;">产品列表</span>
					</div>
				</div>
				<div class="row-row">
					<div class="cell scrollable hover">
						<div class="cell-inner">
							<div class='table-responsive'>
								<table class='table table-striped table-hover left-list'>
									<tbody>
										<tr class="active">
											<td><a href="javascript:void(0)" data-bind="click: $root.productTypeChecked(1)">VDC</a></td>
										</tr>
										<tr>
											<td><a href="javascript:void(0)" data-bind="click: $root.productTypeChecked(2)">云主机</a></td>
										</tr>
										<tr>
											<td><a href="javascript:void(0)" data-bind="click: $root.productTypeChecked(3)">云硬盘</a></td>
										</tr>
										<tr>
											<td><a href="javascript:void(0)" data-bind="click: $root.productTypeChecked(4)">对象存储</a></td>
										</tr>
										<tr>
											<td><a href="javascript:void(0)" data-bind="click: $root.productTypeChecked(5)">公网IP</a></td>
										</tr>
										<tr>
											<td><a href="javascript:void(0)" data-bind="click: $root.productTypeChecked(6)">负载均衡器</a></td>
										</tr>
										<tr>
											<td><a href="javascript:void(0)" data-bind="click: $root.productTypeChecked(7)">SSH密钥</a></td>
										</tr>
										<tr>
											<td><a href="javascript:void(0)" data-bind="click: $root.productTypeChecked(8)">自定义产品</a></td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- /column -->

		<!-- column -->
		<div class="col">
			<div class="vbox">
				<div class="row-row">
					<div class="cell">
						<div class="cell-inner">
							<div class="wrapper-md">

								<div class="service-right-content">
									<div class="service-list-box row" data-bind="with: table_VDC">
										<!-- ko foreach: {data: pagedRows, as: '$row'}  -->
										<div class="col-xs-4">
											<div class="panel b-a">
												<div class="panel-heading wrapper-xs bg-primary no-border"></div>
												<table class="table table-properties">
													<tbody>
														<tr>
															<th><img src="" alt="" width="60" height="60"></th>
															<td class="v-middle text-lg" ><span data-bind="text:serviceName"></span></td>
														</tr>
														<tr>
															<th>支持操作系统：</th>
															<td data-bind="text:osType"></td>
														</tr>
														<tr>
															<th>配额限制：</th>
															<td data-bind="text:isLimitDesc"></td>
														</tr>
														<tr>
															<th>是否收费：</th>
															<td data-bind="text:isFee"></td>
														</tr>
														<tr>
															<th>服务介绍：</th>
															<td data-bind="text:serviceDesc"></td>
														</tr>
													</tbody>
												</table>
												<div class="panel-footer text-center">
													<a href="javascript:void(0)"
														class="btn btn-success font-bold m-sm"
														data-bind="click: $root.add_VDC">申请服务</a>
												</div>
											</div>
										</div>
										<!-- /ko -->
									</div>
									<footer class="panel-footer" data-bind="with: table_VDC">
										<ul class="pagination">
									        <li data-bind="css: leftPagerClass, click: prevPage">
									          <a href="#">&laquo;</a>
									        </li>
									        <!-- ko foreach: {data: (new Array(pages()))} -->
									        <li data-bind="css: $parent.pageClass($index() + 1)">
									          <a href="#" data-bind="text: $index() + 1, click: $parent.gotoPage($index() + 1)"></a>
									        </li>
									        <!-- /ko -->
									        <li data-bind="css: rightPagerClass, click: nextPage">
									          <a href="#">&raquo;</a>
									        </li>
									    </ul>
							    	</footer>
								</div>

								<div class="service-right-content" style="display: none;">
									<div class="form-inline" style="margin-bottom: 10px;">
										<div class="input-group">
											<span class="input-group-addon">操作系统类型</span> <select name=""
												id="" class="form-control input-sm" data-bind="options:osTypeList,optionsText:'name',optionsValue:'value',value:searchParam().osType"></select>
										</div>
										<div class="input-group">
											<span class="input-group-addon">CPU(个)</span> <select name=""
												id="" class="form-control input-sm" data-bind="options:cpuList,optionsText:'name',optionsValue:'value',value:searchParam().cpu"></select>
										</div>
										<div class="input-group">
											<span class="input-group-addon">内存(G)</span> <select name=""
												id="" class="form-control input-sm" data-bind="options:memoryList,optionsText:'name',optionsValue:'value',value:searchParam().memory"></select>
										</div>
										<a class="btn btn-default btn-sm" data-bind="click: search">搜索</a>
									</div>

									<div class="service-list-box row" data-bind="with: table_VM">
										<!-- ko foreach: {data: pagedRows, as: '$row'}  -->
										<div class="col-xs-4">
											<div class="panel b-a">
												<div class="panel-heading wrapper-xs bg-primary no-border"></div>
												<table class="table table-properties">
													<tbody>
														<tr>
															<th><img src="assets/img/winhost.png" alt=""
																width="60" height="60"></th>
															<td class="v-middle text-lg">VM</td>
														</tr>
														<tr>
															<th>可用分区：</th>
															<td>分区1/分区2</td>
														</tr>
														<tr>
															<th>操作系统类型：</th>
															<td>windows/linux/aix</td>
														</tr>
														<tr>
															<th>CPU(个)：</th>
															<td>2</td>
														</tr>
														<tr>
															<th>内存(G)：</th>
															<td>2</td>
														</tr>
														<tr>
															<th>是否收费：</th>
															<td>是</td>
														</tr>
														<tr>
															<th>服务介绍：</th>
															<td>服务介绍文字。。</td>
														</tr>
													</tbody>
												</table>
												<div class="panel-footer text-center">
													<a href="javascript:void(0)"
														class="btn btn-success font-bold m-sm"
														data-bind="click: $root.add_VM">申请服务</a>
												</div>
											</div>
										</div>
									    <!-- /ko -->
									</div>
								    <footer class="panel-footer" data-bind="with: table_VM">
										<ul class="pagination">
									        <li data-bind="css: leftPagerClass, click: prevPage">
									          <a href="#">&laquo;</a>
									        </li>
									        <!-- ko foreach: {data: (new Array(pages()))} -->
									        <li data-bind="css: $parent.pageClass($index() + 1)">
									          <a href="#" data-bind="text: $index() + 1, click: $parent.gotoPage($index() + 1)"></a>
									        </li>
									        <!-- /ko -->
									        <li data-bind="css: rightPagerClass, click: nextPage">
									          <a href="#">&raquo;</a>
									        </li>
									    </ul>
							    	</footer>
								</div>

								<div class="service-right-content" style="display: none;">

									<div class="service-list-box row" data-bind="with: table_Vdisk">
									    <!-- ko foreach: {data: pagedRows, as: '$row'}  -->
										<div class="col-xs-4">
											<div class="panel b-a">
												<div class="panel-heading wrapper-xs bg-primary no-border"></div>
												<table class="table table-properties">
													<tbody>
														<tr>
															<th><img src="assets/img/windisc.png" alt=""
																width="60" height="60"></th>
															<td class="v-middle text-lg"><span>xxxxxxx</span></td>
														</tr>
														<tr>
															<th>可用分区：</th>
															<td>分区1/分区2</td>
														</tr>
														<tr>
															<th>硬盘类型：</th>
															<td>SSD</td>
														</tr>
														<tr>
															<th>是否收费：</th>
															<td>是</td>
														</tr>
														<tr>
															<th>服务介绍：</th>
															<td>服务介绍文字。。</td>
														</tr>
													</tbody>
												</table>
												<div class="panel-footer text-center">
													<a href="javascript:void(0)"
														class="btn btn-success font-bold m-sm"
														data-bind="click: $root.add_Vdisk">申请服务</a>
												</div>
											</div>
										</div>
										<!-- /ko -->
									</div>
									<footer class="panel-footer" data-bind="with: table_Vdisk">
										<ul class="pagination">
									        <li data-bind="css: leftPagerClass, click: prevPage">
									          <a href="#">&laquo;</a>
									        </li>
									        <!-- ko foreach: {data: (new Array(pages()))} -->
									        <li data-bind="css: $parent.pageClass($index() + 1)">
									          <a href="#" data-bind="text: $index() + 1, click: $parent.gotoPage($index() + 1)"></a>
									        </li>
									        <!-- /ko -->
									        <li data-bind="css: rightPagerClass, click: nextPage">
									          <a href="#">&raquo;</a>
									        </li>
									    </ul>
							    	</footer>
								</div>
								

								<div class="service-right-content" style="display: none;">

									<div class="service-list-box row" data-bind="with: table_ObjectStorage">
										<!-- ko foreach: {data: pagedRows, as: '$row'}  -->
										<div class="col-xs-4">
											<div class="panel b-a">
												<div class="panel-heading wrapper-xs bg-primary no-border"></div>
												<table class="table table-properties">
													<tbody>
														<tr>
															<th><img src="" alt="" width="60" height="60"></th>
															<td class="v-middle text-lg"><span>xxxxxxx</span></td>
														</tr>
														<tr>
															<th>可用分区：</th>
															<td>分区1/分区2</td>
														</tr>
														<tr>
															<th>是否收费：</th>
															<td>是</td>
														</tr>
														<tr>
															<th>服务介绍：</th>
															<td>服务介绍文字。。</td>
														</tr>
													</tbody>
												</table>
												<div class="panel-footer text-center">
													<a href="javascript:void(0)"
														class="btn btn-success font-bold m-sm"
														data-bind="click: $root.add_ObjectStorage">申请服务</a>
												</div>
											</div>
										</div>
										<!-- /ko -->
									</div>
									<footer class="panel-footer" data-bind="with: table_ObjectStorage">
										<ul class="pagination">
									        <li data-bind="css: leftPagerClass, click: prevPage">
									          <a href="#">&laquo;</a>
									        </li>
									        <!-- ko foreach: {data: (new Array(pages()))} -->
									        <li data-bind="css: $parent.pageClass($index() + 1)">
									          <a href="#" data-bind="text: $index() + 1, click: $parent.gotoPage($index() + 1)"></a>
									        </li>
									        <!-- /ko -->
									        <li data-bind="css: rightPagerClass, click: nextPage">
									          <a href="#">&raquo;</a>
									        </li>
									    </ul>
							    	</footer>
								</div>

								<div class="service-right-content" style="display: none;">

									<div class="service-list-box row" data-bind="with: table_Vdisk">
										<!-- ko foreach: {data: pagedRows, as: '$row'}  -->
										<div class="col-xs-4">
											<div class="panel b-a">
												<div class="panel-heading wrapper-xs bg-primary no-border"></div>
												<table class="table table-properties">
													<tbody>
														<tr>
															<th><img src="" alt="" width="60" height="60"></th>
															<td class="v-middle text-lg"><span>xxxxxxx</span></td>
														</tr>
														<tr>
															<th>可用分区：</th>
															<td>分区1/分区2</td>
														</tr>
														<tr>
															<th>是否收费：</th>
															<td>是</td>
														</tr>
														<tr>
															<th>服务介绍：</th>
															<td>服务介绍文字。。</td>
														</tr>
													</tbody>
												</table>
												<div class="panel-footer text-center">
													<a href="javascript:void(0)"
														class="btn btn-success font-bold m-sm"
														data-bind="click: $root.add_PublicNetwork">申请服务</a>
												</div>
											</div>
										</div>
										<!-- /ko -->
									</div>
									<footer class="panel-footer" data-bind="with: table_Vdisk">
										<ul class="pagination">
									        <li data-bind="css: leftPagerClass, click: prevPage">
									          <a href="#">&laquo;</a>
									        </li>
									        <!-- ko foreach: {data: (new Array(pages()))} -->
									        <li data-bind="css: $parent.pageClass($index() + 1)">
									          <a href="#" data-bind="text: $index() + 1, click: $parent.gotoPage($index() + 1)"></a>
									        </li>
									        <!-- /ko -->
									        <li data-bind="css: rightPagerClass, click: nextPage">
									          <a href="#">&raquo;</a>
									        </li>
									    </ul>
							    	</footer>									
								</div>

								<div class="service-right-content" style="display: none;">
                                   	
									<div class="service-list-box row" data-bind="with: table_LB">
										<!-- ko foreach: {data: pagedRows, as: '$row'}  -->
										<div class="col-xs-4">
											<div class="panel b-a">
												<div class="panel-heading wrapper-xs bg-primary no-border"></div>
												<table class="table table-properties">
													<tbody>
														<tr>
															<th><img src="" alt="" width="60" height="60"></th>
															<td class="v-middle text-lg"><span data-bind="text:name"></span></td>
														</tr>
														<tr>
															<th>可用分区：</th>
															<td>分区1/分区2</td>
														</tr>
														<tr>
															<th>是否收费：</th>
															<td>是</td>
														</tr>
														<tr>
															<th>服务介绍：</th>
															<td>服务介绍文字。。</td>
														</tr>
													</tbody>
												</table>
												<div class="panel-footer text-center">
													<a href="javascript:void(0)"
														class="btn btn-success font-bold m-sm"
														data-bind="click: $root.add">申请服务</a>
												</div>
											</div>
										</div>
										<!-- /ko -->
									</div>
									<footer class="panel-footer" data-bind="with: table_LB">
										<ul class="pagination">
									        <li data-bind="css: leftPagerClass, click: prevPage">
									          <a href="#">&laquo;</a>
									        </li>
									        <!-- ko foreach: {data: (new Array(pages()))} -->
									        <li data-bind="css: $parent.pageClass($index() + 1)">
									          <a href="#" data-bind="text: $index() + 1, click: $parent.gotoPage($index() + 1)"></a>
									        </li>
									        <!-- /ko -->
									        <li data-bind="css: rightPagerClass, click: nextPage">
									          <a href="#">&raquo;</a>
									        </li>
									    </ul>
							    	</footer>
								</div>
								
								

								<div class="service-right-content" style="display: none;">

									<div class="service-list-box row" data-bind="with: table_SSH">
									    <!-- ko foreach: {data: pagedRows, as: '$row'}  -->
										<div class="col-xs-4">
											<div class="panel b-a">
												<div class="panel-heading wrapper-xs bg-primary no-border"></div>
												<table class="table table-properties">
													<tbody>
														<tr>
															<th><img src="" alt="" width="60" height="60"></th>
															<td class="v-middle text-lg"><span>xxxxxxx</span></td>
														</tr>
														<tr>
															<th>可用分区：</th>
															<td>分区1/分区2</td>
														</tr>
														<tr>
															<th>是否收费：</th>
															<td>是</td>
														</tr>
														<tr>
															<th>服务介绍：</th>
															<td>服务介绍文字。。</td>
														</tr>
													</tbody>
												</table>
												<div class="panel-footer text-center">
													<a href="javascript:void(0)"
														class="btn btn-success font-bold m-sm"
														data-bind="click: $root.add_SSH">申请服务</a>
												</div>
											</div>
										</div>
										<!-- /ko -->
									</div>
									
									<footer class="panel-footer" data-bind="with: table_SSH">
										<ul class="pagination">
									        <li data-bind="css: leftPagerClass, click: prevPage">
									          <a href="#">&laquo;</a>
									        </li>
									        <!-- ko foreach: {data: (new Array(pages()))} -->
									        <li data-bind="css: $parent.pageClass($index() + 1)">
									          <a href="#" data-bind="text: $index() + 1, click: $parent.gotoPage($index() + 1)"></a>
									        </li>
									        <!-- /ko -->
									        <li data-bind="css: rightPagerClass, click: nextPage">
									          <a href="#">&raquo;</a>
									        </li>
									    </ul>
							    	</footer>
								</div>

								<div class="service-right-content" style="display: none;">

								</div>

							</div>
							
							
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- page specific plugin scripts -->
	<script type="text/javascript">
var scripts = [null, 'assets/lib/zTree/js/jquery.ztree.core.js',
               'assets/lib/zTree/js/jquery.ztree.excheck.js',
               "assets/lib/moment/moment.js",
               "assets/lib/bootstrap-daterangepicker/daterangepicker.js", null];
  $('.page-content-area').ace_ajax('loadScripts', scripts, function(args) {
	  function changeDateFormat(){
    	$('.applyDateFormat').val(moment().format('YYYY/MM/DD')).daterangepicker(
    	   	      {
    	   	        format:'YYYY/MM/DD',
    	   	        startDate: moment(),
    	   	        singleDatePicker:true,
    	   	        endDate: moment(),
    	   	        separator:'至',
    	   	        locale:{
    	   	          applyLabel: '确认',
    	   	          cancelLabel: '取消',
    	   	          fromLabel: '开始日期',
    	   	          toLabel: '结束日期',
    	   	          weekLabel: '周',
    	   	          customRangeLabel: '自定义范围',                            
    	   	          daysOfWeek:["日","一","二","三","四","五","六"],
    	   	          monthNames:['01月','02月','03月','04月','05月','06月','07月','08月','09月','10月','11月','12月',]
    	   	        }
    	   	      }
    	   	    );		  
	  }
	  
    $(".applyModeShow").on("shown.bs.modal",function(){
    	changeDateFormat();
    })
   
	  
    if(args.type){
    	//如果是普通用户清除产品列表
    	$("#productListBox").remove();
    	$(".service-right-content").eq(args.type).show().siblings().hide();
    }else{
    	$('.left-list tr td a').click(function(){
	    	var _tr = $(this).parent().parent();
	    	if(_tr.hasClass('active')) return;
	    	_tr.addClass('active').siblings().removeClass('active');
	    	$(".service-right-content").eq(_tr.index()).show().siblings().hide();
	    })
    };
    $(".form-edit").click(function(){
    	$(this).hide();
    	$(this).siblings('.form-save').show();
    	$(this).siblings('.row').find(".value-span").hide().next('.input-span').show();
    })
    $(".form-save").click(function(){
    	$(this).hide();
    	$(this).siblings('.form-edit').show();
    	$(this).siblings('.row').find('.value-span').show().html($(this).siblings('.row').find('input').val());
    	$(this).siblings('.row').find(".input-span").hide();
    })

    $(".product-add-btn").click(function(){
    	$(".add-praoduct").show().siblings().hide();
    })
    $(".product-delete-btn").click(function(){
    	if(confirm('确认删除吗？')){
    		console.log('执行删除！')
    	}
    })

  
    function ViewModel(){
	    var self = this;
	    
	    this.productType = ko.observable();
	    this.productTypeChecked = function(obj){
	    	self.productType(obj);
	    }
	    //vdc下拉列表
	    this.vdcList = ko.observableArray();
	   // this.loadCatelogs = function(){
        csc.rest.get("api/v5.0.0/cart/getselect", function(data){
        	self.vdcList(data);
        });
	    //}
	   //可用分区下拉列表
	    this.azList = ko.observableArray();
	   
	    this.vdcChange = function(obj){//根据变化的vdc及服务ID查找其下的可用分区
	    	var _self = this;
	    	_self.azList.removeAll();
	        csc.rest.get("api/v5.0.0/cart/getAzList/1/"+obj.vdcUuid(), function(data){//需修改为服务UUID作为参数传递
	        	_self.azList(data);
	        });	        
	    };
	    
	    this.azChangeGetVm = function(obj){	
	    	var _self = this;
	        csc.rest.get("api/v5.0.0/cart/getVmList/"+obj.vdcUuid()+"/"+obj.azUuid(), function(data){
	        	_self.vmList(data);
	        });	    	
	    }
	    
	    this.azChangeGetVpc = function(obj){
	    	var _self = this;
	        csc.rest.get("api/v5.0.0/cart/getVpcList/"+obj.vdcUuid()+"/"+obj.azUuid(), function(data){
	        	console.log(data);
	        	_self.vpcList(data);
	        });
	    }
	    
	    this.vpcChange = function(obj){
	    	var _self = this;
	        csc.rest.get("api/v5.0.0/cart/getNetworkList/1/"+obj.vpcUuid(), function(data){//需修改为服务UUID作为参数传递
	        	_self.networkList(data);
	        });
	    }
	    
	    this.vmChangeGetDate = function(obj){
	    	var _self = this;
  			var vmItem = _.findWhere(_self.vmList(), {uuid: _self.mountVmUuid()});
			if (typeof(vmItem) == "undefined") { 
				_self.applyTime("");
			}else{
				_self.applyTime(vmItem.expiryDate);
			}
	    	
	    }

	    var billRoles = [{name:'按天',value:'1'},{name:'按月',value:'2'},{name:'按季度',value:'3'},{name:'按年',value:'4'}];
	    var countries = [{name:'1',value:'1'},{name: '2',value:'2'},{name: '3', value:'3'}];
	    var osTypes = [{name:'windows',value:'windows'},{name:'linux',value:'linux'},{name:'vmware',value:'vmware'}];
	    var cups = [{name:'1',value:'1'},{name:'2',value:'2'},{name:'4',value:'4'}];
	    var memorys = [{name:'2',value:'2'},{name:'8',value:'8'},{name:'16',value:'16'}];
	    var projects = [{name:'业务系统1',value:'1'},{name:'业务系统2',value:'2'},{name:'业务系统3',value:'3'}];
	    var osVersions = [{name:'windows2003',value:'windows2003'},{name:'windows2008',value:'windows2008'},{name:'redhat6',value:'redhat6'}];
	    var netTypes = [{name:'外部网络',value:'1'},{name:'内部网络',value:'2'}];
	    var vpcOrIpPools=[{name:'vpc1',value:'1',type:'vpc'},{name:'ippool1',value:'11',type:'ippool'},{name:'ippool2',value:'12',type:'ippool'}];
	    
	    var netNames = [{name:'206',value:'206'},{name:'207',value:'207'},{name:'208',value:'208'}];
	    var ips = [{name:'192.168.206.11',value:'192.168.206.11'},{name:'192.168.206.12',value:'192.168.206.12'},{name:'192.168.206.13',value:'192.168.206.13'},{name:'192.168.206.14',value:'192.168.206.14'}]
	    //申请时长 下拉列表
	    this.applyList = ko.observableArray(countries);
	    this.billRoleList = ko.observableArray(billRoles);
	    this.osTypeList = ko.observableArray(osTypes);
	    this.cpuList = ko.observableArray(cups);
	    this.memoryList = ko.observableArray(memorys);
	    
	    this.projectList = ko.observableArray(projects);
	    this.osVersionList = ko.observableArray(osVersions);
	    this.netTypeList = ko.observableArray(netTypes)
	    this.vpcOrIpPoolList = ko.observableArray(vpcOrIpPools);
	    this.netNameList = ko.observableArray(netNames);
	    this.ipList = ko.observableArray(ips);
	    //添加到购物车操作
		this.addToCart = function(){
			//console.log(this.model_LB.toJSON());
			if(self.productType()=='3'){
				if(self.model_Vdisk.isValid()){
				 	 csc.rest.post('api/v5.0.0/cart',self.model_Vdisk.toJSON(),function(data){
				 		systemMsg.alert('添加到购物车成功！');
				 		self.isAdd_VdiskSingle(false);
				 		self.isAdd_VdiskMore(false);
				    }); 
				}
			}else if(self.productType()=='4'){
				if(self.model_ObjectStorage.isValid()){
				 	 csc.rest.post('api/v5.0.0/cart',self.model_ObjectStorage.toJSON(),function(data){
				 		systemMsg.alert('添加到购物车成功！');
				 		self.isAdd_ObjectStorageSingle(false);
				 		self.isAdd_ObjectStorageMore(false);
				    }); 
				}
			}else if(self.productType()=='5'){
				if(self.model_PublicNetwork.isValid()){
				 	 csc.rest.post('api/v5.0.0/cart',self.model_PublicNetwork.toJSON(),function(data){
				 		systemMsg.alert('添加到购物车成功！');
				 		self.isAdd_PublicNetworkSingle(false);
				 		self.isAdd_PublicNetworkMore(false);
				    }); 
				}
			}else if(self.productType()=='6'){
				if(this.model_LB.isValid()){
				 	//console.log(this.model_LB.toJSON());
				 	csc.rest.post('api/v5.0.0/cart',this.model_LB.toJSON(),function(data){
				 		systemMsg.alert('添加到购物车成功！');
				 		self.isAdd_LB(false);
				    });
				}
			}else if(self.productType()=='7'){
				if(this.model_SSH.isValid()){
				 	//console.log(this.model_SSH.toJSON());
				 	csc.rest.post('api/v5.0.0/cart',this.model_SSH.toJSON(),function(data){
				 		systemMsg.alert('添加到购物车成功！');
				 		self.isAdd_SSH(false);
				    });
				}
			}
			
		}	       
	    
		//添加到购物车操作
		this.addToOrder = function(){
			if(self.productType()=='1'){
				var osTypeVdc="";
				for(var i=0;i<self.model_VDC().vdcCartInfo().osTypesSelelct().length;i++){
					osTypeVdc +=self.model_VDC().vdcCartInfo().osTypesSelelct()[i]+',';
				}
				osTypeVdc=osTypeVdc.substring(0,osTypeVdc.length-1);
				self.model_VDC().vdcCartInfo().osTypes(osTypeVdc);
				
				if(self.model_VDC.isValid()){
					console.log(self.model_VDC.toJSON());
				 	 csc.rest.post('api/v5.0.0/order-apply/vdcs',self.model_VDC.toJSON(),function(data){
				 		systemMsg.alert('成功提交订单！');
				 		self.isAdd_VDC(false);
				    }); 
				}
			}else if(self.productType()=='2'){
				if(this.model_VM.isValid()){
				 	 csc.rest.post('api/v5.0.0/orders',this.model_VM.toJSON(),function(data){
				 		systemMsg.alert('成功提交订单！');
				 		self.isAdd_VM(false);
				    }); 
				}
			}else if(self.productType()=='3'){
				if(self.model_Vdisk.isValid()){
				 	 csc.rest.post('api/v5.0.0/orders',self.model_Vdisk.toJSON(),function(data){
				 		systemMsg.alert('成功提交订单！');
				 		self.isAdd_VdiskSingle(false);
				 		self.isAdd_VdiskMore(false);
				    }); 
				}
			}else if(self.productType()=='4'){
				if(self.model_ObjectStorage.isValid()){
				 	 csc.rest.post('api/v5.0.0/orders',self.model_ObjectStorage.toJSON(),function(data){
				 		systemMsg.alert('成功提交订单！');
				 		self.isAdd_ObjectStorageSingle(false);
				 		self.isAdd_ObjectStorageMore(false);
				    }); 
				}
			}else if(self.productType()=='5'){
				if(this.model_PublicNetwork.isValid()){
				 	 csc.rest.post('api/v5.0.0/orders',this.model_PublicNetwork.toJSON(),function(data){
				 		systemMsg.alert('成功提交订单！');
				 		self.isAdd_PublicNetwork(false);
				    }); 
				}
			}else if(self.productType()=='6'){
				if(this.model_LB.isValid()){
				 	//console.log(this.model_LB.toJSON());
				 	csc.rest.post('api/v5.0.0/orders',this.model_LB.toJSON(),function(data){
				 		systemMsg.alert('成功提交订单！');
				 		self.isAdd_LB(false);
				    });
				}
			}else if(self.productType()=='7'){
				if(this.model_SSH.isValid()){
				 	//console.log(this.model_SSH.toJSON());
				 	csc.rest.post('api/v5.0.0/orders',this.model_SSH.toJSON(),function(data){
				 		systemMsg.alert('成功提交订单！');
				 		self.isAdd_SSH(false);
				    });
				}
			}
		}
		
	    //################## 负载均衡申请 start ##################
	    this.model_LB = ko.validatedObservable({
	        loadbalancerCartInfo: ko.observableArray([])
	    });
	    
	    this.num_LB = ko.observable().extend({max:20});
	    
	    this.num_LB.subscribe(function(){
	    	self.model_LB().loadbalancerCartInfo([]);
	    	
	    	var num = self.num_LB();
	    	for(var i=0; i<num; i++){
	    		self.model_LB().loadbalancerCartInfo.push({
	    			name: ko.observable("").extend({required:true}),
					vdcUuid: ko.observable(""),
					applyType: ko.observable("1"),
					applyNum: ko.observable(""),
					//applyTime: ko.observable(new Date()),
					billRuleUuid: ko.observable("")
						/* userUuid: ko.observable(),
	    		        serviceUuid: observable(),
	    		        price: ko.observable() */
	    		})
	    	}
	    	
	    	
	    });
	    
	    //控制 负载均衡服务 申请页面显示
	    this.isAdd_LB = ko.observable(false);
	    this.add = function(){
	        self.isAdd_LB(true);
	        self.num_LB(1);
	        //self.loadCatelogs();
	    }
	    MyDate : ko.observable(new Date());
		//负载均衡列表数据
		this.table_LB = new DataTable([], {path: 'api/v5.0.0/cart/findLoadBalancer',perPage:6});
		//################## 负载均衡  end ##################
		
		 
		
		
		
		//################## SSH密钥 start ##################
	    this.isAdd_SSH = ko.observable(false);
	    this.add_SSH = function(){
	    	self.isAdd_SSH(true);
	    	self.num_SSH(1);
	    	//self.loadCatelogs();
	    }
	    this.num_SSH = ko.observable().extend({max:20});
	    
	    this.model_SSH = ko.validatedObservable({
	    	sshKeytCartInfo: ko.observableArray([])
	    });
	    
	    this.num_SSH.subscribe(function(){
	    	self.model_SSH().sshKeytCartInfo([]);
	    	var num = self.num_SSH();
	    	for(var i=0; i<num; i++){
	    		self.model_SSH().sshKeytCartInfo.push({
	    			name: ko.observable("").extend({required:true}),
					vdcUuid: ko.observable(""),
					applyType: ko.observable("1"),
					applyNum: ko.observable(""),
					//applyTime: ko.observable(""),
					billRuleUuid: ko.observable("")
	    		})
	    	}
	    	
	    	
	    });
	    this.table_SSH = new DataTable([], {path: 'api/v5.0.0/cart/findLoadBalancer',perPage:6});
	    //################## SSH密钥 end ##################
	    
	    //################## 云硬盘 start ##################
	    this.isAdd_VdiskSingle = ko.observable(false);
	    this.isAdd_VdiskMore = ko.observable(false);
	    this.add_Vdisk = function(){
	    	self.isAdd_VdiskSingle(true);
	        csc.rest.get("api/v5.0.0/cart/getVdcList/1", function(data){//需修改为服务UUID作为参数传递
	        	self.vdcList(data);
	        });
	        self.num_vdisk(0);
	        self.num_vdisk(1);
	    }
	    
	    this.changeList_Vdisk = function(){
	    	self.isAdd_VdiskSingle(false);
	    	self.isAdd_VdiskMore(true);
	        csc.rest.get("api/v5.0.0/cart/getVdcList/1", function(data){//需修改为服务UUID作为参数传递
	        	self.vdcList(data);
	        });
	        self.num_vdisk(0);
	        self.num_vdisk(1);	    	
	    }
	    
	    this.changeSingle_Vdisk = function(){
	    	self.isAdd_VdiskSingle(true);
	    	self.isAdd_VdiskMore(false);
	        csc.rest.get("api/v5.0.0/cart/getVdcList/1", function(data){//需修改为服务UUID作为参数传递
	        	self.vdcList(data);
	        });
	        self.num_vdisk(0);
	        self.num_vdisk(1);	    	
	    }
	    
	    this.num_vdisk = ko.observable().extend({max:20});
	    
	    this.model_Vdisk = ko.validatedObservable({
	    	vdiskCartInfo: ko.observableArray([])
	    });
	    
	    this.num_vdisk.subscribe(function(){
	    	if(!self.num_vdisk.isValid()){
	    		return;
	    	}
	    	self.model_Vdisk().vdiskCartInfo([]);
	    	var num = self.num_vdisk();
        	for(var i=0; i<num; i++){
	    		self.model_Vdisk().vdiskCartInfo.push({
	    			name: ko.observable("").extend({required:true}),
					vdcUuid: ko.observable(""),
					size: ko.observable(""),
					azUuid:ko.observable(""),
					mountVmUuid: ko.observable(""),
					remark:ko.observable(""),
					billRuleUuid: ko.observable(""),
					applyTime:ko.observable(""),
					applyType:ko.observable("3"),
					azList:ko.observableArray([]),
					vmList:ko.observableArray([])
	    		})
	    	}	
	    });
	    this.table_Vdisk = new DataTable([], {path: 'api/v5.0.0/cart/findLoadBalancer',perPage:6});
	    //################## 云硬盘 end ##################
	    
	  //################## 云主机start ##################
	    this.isAdd_VM = ko.observable(false);
	    this.add_VM = function(){
	    	self.isAdd_VM(true);
	    	self.num_VM(1); 	
	    	//self.loadCatelogs();
	    	self.myStep(1);
	    	self.isAdd_partition(false);
	    	self.isUpdate_partition(false);
	    }
	    this.num_VM = ko.observable().extend({max:20});
	    
	    this.model_VM = ko.validatedObservable({
	    	vmCartInfo: ko.observableArray([])
	    });
	    function Info(){
            this.vmName =  ko.observable("").extend({required:true});
            this.computerName = ko.observable("");
            this.projectUuid = ko.observable("");
            this.vdcUuid = ko.observable("");
            this.vdcText = ko.pureComputed(function(){
            	var item = _.findWhere(self.vdcList(), {uuid: this.vdcUuid()});
            	return item.name;
            }, this);
            this.applyTimeText = ko.pureComputed(function(){
            	if(this.applyType()=="1"){
            		return "永久";
            	}else if(this.applyType()=="2"){
            		return this.applyNum()+"个月";
            	}else{
            		return this.applyTime();
            	}
            }, this);
            this.desc = ko.observable("");
            this.billRuleUuid = ko.observable("");
            this.applyTime = ko.observable("");
            this.networkType = ko.observable("");
            
            this.ipPoolUuid = ko.pureComputed(function(){
            	var item = _.findWhere(self.vpcOrIpPoolList(), {value: this.vpcOrIpPoolList()});
            	return item.type!="vpc" ? item.value : "";
            }, this);
            this.vpcUuid = ko.pureComputed(function(){
            	var item = _.findWhere(self.vpcOrIpPoolList(), {value: this.vpcOrIpPoolList()});
            	return item.type=="vpc" ? item.value : "";
            }, this);
			
            this.vpcOrIpPoolList = ko.observable("");
            
            this.vpcNetworkUuid = ko.observable("");
            this.ip = ko.observable("");
            this.account = ko.observable("");
            this.password = ko.observable("");
            this.osType = ko.observable("");
            this.osVersion = ko.observable("");
            this.cpu = ko.observable("");
            this.memory = ko.observable("");
            this.storage = ko.observable("");
            this.applyType = ko.observable("");
            this.applyNum = ko.observable("");
            this.azUuid = ko.observable("");
            this.userName = ko.observable("");
            this.password = ko.observable("");
            this.repeatPassword = ko.observable("");
            this.sshIsMount = ko.observable("NO");
            this.sshUuid = ko.observable("");
            //分区
            this.partitions = ko.observableArray([]);
            //硬盘
            this.mountdisks = ko.observableArray([]);
            
            this.softwares = ko.observableArray([]);
   		}
	    
	    
	    
	    this.num_VM.subscribe(function(){
	    	self.model_VM().vmCartInfo([]);
	    	var num = self.num_VM();
	    	for(var i=0; i<num; i++){
	    		self.model_VM().vmCartInfo.push(new Info());
	    	}
	    });
	    
	    //#### 分区 start ####
	    
	    //数组里面存放vo
	    function PartitionVO(){
	    	this.name = ko.observable();
		  	this.size = ko.observable();
	    }
	    //页面展示vo
	    this.partitions=ko.validatedObservable({
	    	name: ko.observable("").extend({required:true}),
	    	size: ko.observable("").extend({required:true})
	    });
	    
	    this.isAdd_partition = ko.observable(false);
	    this.isUpdate_partition = ko.observable(false);
	    
	    var obje="";//用了存储添加操作的 infovo
	    //添加分区
	    this.addPartitions = function(info){
	    	obje=""
	    	self.partitions.fromJSON({
	    		name: "",
	    		size: ""
	    	});
	    	self.isAdd_partition(true);
	    	obje=info;
	    }
	    this.savePartitions = function(){
	    	if(self.partitions.isValid()){
	    		var partitionVO = new PartitionVO();
		    	partitionVO.name(self.partitions().name());
		    	partitionVO.size(self.partitions().size());
		    	
		    	obje.partitions.push(partitionVO);
			 	self.isAdd_partition(false);
			}
	    } 
	    //删除分区
	    this.delPartitions = function(info, object, event){
	    	info.partitions.remove(object);
	    }
	    //修改分区
	    var editObject;
	    this.updatePartitions = function(info, object, event){
	    	self.partitions.fromJSON({
	    		name: object.name(),
	    		size: object.size()
	    	});
	    	self.isUpdate_partition(true);
	    	editObject=object;
	    }
	    this.submitPartitions = function(){
	    	if(self.partitions.isValid()){
		    	editObject.name(self.partitions().name())
		    	editObject.size(self.partitions().size());
		    	self.isUpdate_partition(false);
	    	}
	    }
	    //#### 分区 end ####
	    //#### 硬盘 start #### 
	     function MountdiskVO(){
	    	this.name = ko.observable();
	    	this.type = ko.observable();
		  	this.size = ko.observable();
	    } 
	    
	    this.mountdisks=ko.validatedObservable({
	    	name: ko.observable(""),
	    	type: ko.observable(""),
	    	size: ko.observable("")
	    });
	    
	    this.isAdd_mountdisk = ko.observable(false);
	    this.isUpdate_mountdisk = ko.observable(false);
	    var obje="";
	    //添加
	    
	    this.addMountdisks = function(info){
	    	obje=""
	    	self.rightData.removeAll();
	    	info.mountdisks().forEach(function(e){
	    		self.rightData.push(e);
	        });
	    	self.isAdd_mountdisk(true);
	    	obje=info;
	    }
	    this.saveMountdisks = function(){
	    	obje.mountdisks.removeAll();
	        self.rightData().forEach(function(e){
		    	obje.mountdisks.push(e);
	        });
	    	self.isAdd_mountdisk(false);
	    } 
	    //删除
	    this.delMountdisks = function(info, object, event){
	    	info.mountdisks.remove(object);
	    } 
	    
	    this.rightData = ko.observableArray([]);
	    
	    this.toRight = function(e){
	    	self.rightData.removeAll();
	    	self.table_VM.chosenItems().forEach(function(e){
    			var mountdiskVO = new MountdiskVO();
	    		mountdiskVO.name(e.name);
	    		mountdiskVO.size(e.size);
	    		self.rightData.push(mountdiskVO);
	        });
	    	//obje.mountdisks()
	    }
	    
	    //修改
	    /* this.updateMountdisks = function(info, object, event){
	    	self.mountdisks(object);
	    	self.isUpdate_mountdisk(true);
	    }
	    this.submitMountdisks = function(obj){
	    	self.isUpdate_mountdisk(false);
	    }  */
	    //#### 硬盘 end ####
	   //查询
      	this.searchParam = ko.observable({
    	  	osType: "",
    	  	cpu:"",
    	  	memory:""
      	})
      	this.search = function(){
        	self.table_VM.params(this.searchParam());
      	}
	   
      	// this.showMessage= ko.observable();   ///初始化的时候div是visible的
        this.myStep = ko.observable(1);         
        
      	this.next = function(){
        	this.myStep(this.myStep()+1)
        }
	    
      	this.pre = function(){
      		this.myStep(this.myStep()-1)
      	}
        
	    this.table_VM = new DataTable([], {path: 'api/v5.0.0/cart/findLoadBalancer',perPage:6});
	    
	  //################## 云主机end ##################
	   
	    
	    //################## 对象存储 start ##################
	    this.isAdd_ObjectStorageMore = ko.observable(false);
	    this.isAdd_ObjectStorageSingle = ko.observable(false);
	    this.add_ObjectStorage = function(){
	    	self.isAdd_ObjectStorageSingle(true);
	        csc.rest.get("api/v5.0.0/cart/getVdcList/1", function(data){//需修改为服务UUID作为参数传递
	        	self.vdcList(data);
	        });
	    	self.num_ObjectStorage(0);
	    	self.num_ObjectStorage(1);
	    	//self.loadCatelogs();
	    }
	    this.num_ObjectStorage = ko.observable().extend({max:20});
	    
	    this.model_ObjectStorage = ko.validatedObservable({
	    	objectStorageCartInfo: ko.observableArray([])
	    });
	    
	    this.changeList_ObjectStorage = function(){
	    	self.isAdd_ObjectStorageSingle(false);
	    	self.isAdd_ObjectStorageMore(true);
	        csc.rest.get("api/v5.0.0/cart/getVdcList/1", function(data){//需修改为服务UUID作为参数传递
	        	self.vdcList(data);
	        });
	    	self.num_ObjectStorage(0);
	    	self.num_ObjectStorage(1);	    	
	    }
	    
	    this.changeSingle_ObjectStorageMore = function(){
	    	self.isAdd_ObjectStorageSingle(true);
	    	self.isAdd_ObjectStorageMore(false);
	        csc.rest.get("api/v5.0.0/cart/getVdcList/1", function(data){//需修改为服务UUID作为参数传递
	        	self.vdcList(data);
	        });
	    	self.num_ObjectStorage(0);
	    	self.num_ObjectStorage(1);	    	
	    }
	    
	    this.num_ObjectStorage.subscribe(function(){
	    	if(!self.num_ObjectStorage.isValid()){
	    		return;
	    	}
	    	self.model_ObjectStorage().objectStorageCartInfo([]);
	    	var num = self.num_ObjectStorage();
	    	for(var i=0; i<num; i++){
	    		self.model_ObjectStorage().objectStorageCartInfo.push({
	    			name: ko.observable("").extend({required:true}),
					vdcUuid: ko.observable(""),
					azUuid: ko.observable(""),
					size: ko.observable(""),
					billRuleUuid: ko.observable(""),
					applyType: ko.observable("1"),
					applyNum: ko.observable(""),
					applyTime: ko.observable(""),
					remark:ko.observable(""),
					azList:ko.observableArray([])
	    		})
	    	}	    
	    	changeDateFormat();
	    });
	    this.table_ObjectStorage = new DataTable([], {path: 'api/v5.0.0/cart/findLoadBalancer',perPage:6});
	  //################## 对象存储 end ##################
	  
	  //################## 公网IP start ##################
	    this.isAdd_PublicNetworkSingle = ko.observable(false);
	    this.isAdd_PublicNetworkMore = ko.observable(false);
	    this.add_PublicNetwork = function(){
	    	self.isAdd_PublicNetworkSingle(true);
	        csc.rest.get("api/v5.0.0/cart/getVdcList/1", function(data){//需修改为服务UUID作为参数传递
	        	self.vdcList(data);
	        });
	    	self.num_PublicNetwork(0);
	    	self.num_PublicNetwork(1);
	    }
	    this.num_PublicNetwork = ko.observable().extend({max:20});
	    
	    this.model_PublicNetwork = ko.validatedObservable({
	    	publicNetworkCartInfo: ko.observableArray([])
	    });
	    
	    this.num_PublicNetwork.subscribe(function(){
	    	if(!self.num_PublicNetwork.isValid()){
	    		return;
	    	}
	    	self.model_PublicNetwork().publicNetworkCartInfo([]);
	    	var num = self.num_PublicNetwork();
	    	for(var i=0; i<num; i++){
	    		self.model_PublicNetwork().publicNetworkCartInfo.push({
	    			name: ko.observable("").extend({required:true}),
					vdcUuid: ko.observable(""),
					azUuid:ko.observable(""),
					vpcUuid: ko.observable(""),
					workip: ko.observable(""),
					remark:ko.observable(""),
					billRuleUuid: ko.observable(""),
					applyType: ko.observable("1"),
					applyNum: ko.observable(""),
					applyTime: ko.observable(""),
					azList:ko.observableArray([]),
					vpcList:ko.observableArray([]),
					networkList:ko.observableArray([])
	    		})
	    	}	    
	    	
	    	
	    });
	    this.table_PublicNetwork = new DataTable([], {path: 'api/v5.0.0/cart/findLoadBalancer',perPage:6});
	  //################## 公网IP end ##################
	  
	    this.osTypeArray = ko.observableArray([]);
	    
	    function setArrayCharge(attr){
	    	var arrayCharge = [];
	    	for(var i=0;i<attr.length;i++){
	    		arrayCharge.push(new objCharge(attr[i]));
	    	}
	    	return arrayCharge;
	    }
	    
	    function objCharge(value){
	    	if(value=="DAY"){
	    		this.name = "按日";
	    		this.value = value;
	    	}else if(value=="MONTH"){
				this.name = "按月";
				this.value = value;
			}else if(value=="QUARTER"){
				this.name = "按季度";
				this.value = value;
			}else{
				this.name = "按年";
				this.value = value;	
			}
	    }
	  //################## VDC start ##################
	    this.isAdd_VDC = ko.observable(false);
	    this.add_VDC = function(obj){
	    	initVdc();
	    	var serviceUuid = obj.serviceUuid;
	    	self.model_VDC().vdcCartInfo().serviceUuid(serviceUuid);
	        csc.rest.get("api/v5.0.0/service/getServiceInfo/"+obj.serviceUuid, function(data){//需修改为服务UUID作为参数传递
	        	console.log(data);
		    	self.isAdd_VDC(true);
		    	self.productType(1);
		    	console.log(data.serviceVDC.osType);
		    	var osType = data.serviceVDC.osType;
		    	var isLimit = data.serviceVDC.isLimit;
		    	self.osTypeArray(getArrayByString(osType));
		    	console.log(setArrayCharge(getArrayByString(data.chargeType)));
		    	self.model_VDC().vdcCartInfo().billRuleArray(setArrayCharge(getArrayByString(data.chargeType)));
		    	if(data.charge==1){
		    		self.model_VDC().vdcCartInfo().charge("NO");
		    	}else{
		    		self.model_VDC().vdcCartInfo().charge("YES");
		    		self.model_VDC().vdcCartInfo().billRuleArray(getArrayByString(data.chargeType));
		    	}
		    	if(isLimit=="no"){
		    		self.model_VDC().vdcCartInfo().quota("-1");
		    	}else{
		    		self.model_VDC().vdcCartInfo().quota("1");
		 	    	self.model_VDC().vdcCartInfo().cpu(data.serviceVDC.maxCpu);
		 	    	self.model_VDC().vdcCartInfo().memory(data.serviceVDC.maxMemory);
		 	    	self.model_VDC().vdcCartInfo().storage(data.serviceVDC.maxStorager);
		 	    	self.model_VDC().vdcCartInfo().vpcNum(data.serviceVDC.maxVPC);
		 	    	self.model_VDC().vdcCartInfo().vm(data.serviceVDC.maxVmNum);
		 	    	self.model_VDC().vdcCartInfo().disk(data.serviceVDC.maxDiskNum);
		 	    	self.model_VDC().vdcCartInfo().publicIp(data.serviceVDC.maxIpNum);
		 	    	self.model_VDC().vdcCartInfo().router(data.serviceVDC.maxRouterNum);
		 	    	self.model_VDC().vdcCartInfo().fireWall(data.serviceVDC.maxFireWallNum);
		 	    	self.model_VDC().vdcCartInfo().secretKey(data.serviceVDC.maxSSHNum);
		 	    	self.model_VDC().vdcCartInfo().objectStorage(data.serviceVDC.maxObjStorageNum);
		 	    	self.model_VDC().vdcCartInfo().loadBalancer(data.serviceVDC.maxLoadBalanceNum);
		    	}
	        });	    	
	    }
	  	
	  	function getArrayByString(type){
	  		var a = type.split(',');
	  		return a;
	  	}
	  	
	  	this.model_VDC = ko.validatedObservable();
	  	function initVdc(){
	  		self.model_VDC = ko.validatedObservable({
		    	vdcCartInfo:ko.observable({
		    		serviceUuid:ko.observable(""),
					name: ko.observable(""),
					charge:ko.observable(""),
					osTypes : ko.observable(""),
					osTypesSelelct:ko.observableArray([]),
					quota:ko.observable("-1"),
					cpu: ko.observable(""),
					memory:ko.observable(""),
					storage: ko.observable(""),
					vm: ko.observable(""),
					disk: ko.observable(""),
					objectStorage: ko.observable(""),
					vpcNum:ko.observable(""),
					router: ko.observable(""),
					fireWall: ko.observable(""),
					publicIp: ko.observable(""),
					loadBalancer: ko.observable(""),
					secretKey: ko.observable(""),
					remark:ko.observable(""),
					billRuleUuid: ko.observable(""),
					applyType: ko.observable("1"),
					applyNum: ko.observable(""),
					applyTime: ko.observable(""),
					billRuleArray:ko.observableArray([])
		    	})
		    });
	  	}
	    
	    //this.table_VDC = new DataTable([], {path: 'api/v5.0.0/service/getServiceList/VDC',perPage:6});
	    this.table_VDC = new DataTable([], {path: 'api/v5.0.0/service/getServiceList/VDC',perPage:6});
	  //################## VDC end ##################
    }
    

	ko.applyBindings(new ViewModel, $('#page-content')[0]); 
	
	

  });
  
</script>
<!-- 负载均衡 start -->
<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isAdd_LB }">
	<div class='modal-dialog modal-lg' role='document'>
        <div class='modal-content'>
			<div class='modal-header'>
				<button type="button" class="close" data-dismiss="modal">
					<span aria-hidden="true">&times;</span>
				</button>
				<h3 class='modal-title'>申请负载均衡器</h3>
			</div>
			<div class='modal-body form-horizontal'>
				<div class="form-inline">
					<div class="input-group">
						<span class="input-group-addon">申请数量</span> <input type="text"
							class="form-control" data-bind="value: num_LB, valueUpdate: 'afterkeydown'">
					</div>
				</div>
				<div class="panel panel-default table-responsive no-height"
					style="margin: 0; margin-top: 10px">
					<table class="table table-striped">
						<thead>
							<th>序号</th>
							<th>负载均衡器名称<i style="color: red">*</i></th>
							<th>所属VDC<i style="color: red">*</i></th>
							<th>申请时长<i style="color: red">*</i></th>
							<th>套餐</th>
							<th>收费标准</th>
						</thead>
						<tbody id="applyServiceBalancingBox"
							data-bind="foreach: model_LB().loadbalancerCartInfo">
							<tr>
								<td><span data-bind="text: ($index()+1)"></span></td>
								<td><input type="text" class="form-control input-sm"
									data-bind="value: name"></td>
								<td><select class="form-control input-sm" data-bind="options:$parent.vdcList,optionsText:'name',optionsValue:'uuid',value:vdcUuid"></select></td>
								<td>
									<div class="radio">
										<label class="form-inline"> <input type="radio" value="1" data-bind="checked: applyType,name: ($index()+1)" > 永久
										</label>
									</div>
									<div class="radio">
										<label class="form-inline"> <input type="radio"
											class="form-control" style="top: 2px;" value="2" data-bind="checked: applyType,name: ($index()+1)"> 
											<select class="form-control"  data-bind="options:$parent.applyList,optionsText:'name',optionsValue:'value',value:applyNum"></select> 个月
										</label>
									</div>
									<div class="radio disabled">
										<label class="form-inline"> <input type="radio"
											class="form-control" style="top: 2px;" value="3" data-bind="checked: applyType,name: ($index()+1)"> 
											<input style="width: 206px" class="form-control" data-bind="datePicker : MyDate" type="date">
										</label>
									</div>
								</td>
								<td><select class="form-control"  data-bind="options:$parent.billRoleList,optionsText:'name',optionsValue:'value',value:billRuleUuid"></select></td>
								<td>0.5元/小时</td>
							</tr>
						</tbody>
					</table>
				</div>
            </div>
			<div class='modal-footer' style="text-align: center;">
				<a class="btn btn-default btn-info" data-bind="click: $root.addToCart">添加到购物车</a> <a
					class="btn btn-default btn-success" data-bind="click: $root.addToOrder">提交订单</a> <a
					class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
			</div>
		</div>
	</div>
</div>
<!-- 负载均衡 end -->	
<!-- SSH密钥 start -->
  <div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isAdd_SSH }">
	<div class='modal-dialog modal-lg' role='document'>
  
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>申请SSH密钥服务</h3>
      </div>
      <div class='modal-body form-horizontal'>
        <div class="form-inline">
          <div class="input-group">
             <span class="input-group-addon">申请数量</span>
             <input type="text" class="form-control"  data-bind="value: num_SSH, valueUpdate: 'afterkeydown'">
          </div>
        </div>
        <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
          <table class="table table-striped">
            <thead>
              <th>序号</th>
              <th>SSH密钥名称<i style="color:red">*</i></th>
              <th>所属VDC<i style="color:red">*</i></th>
              <th>申请时长<i style="color:red">*</i></th>
              <th>套餐</th>
              <th>收费标准</th>
            </thead>
            <tbody id="applyServiceSSHBox" data-bind="foreach: model_SSH().sshKeytCartInfo">
                  <tr>
						<td><span data-bind="text: ($index()+1)"></span></td>
						<td><input type="text" class="form-control input-sm"
							data-bind="value: name"></td>
						<td><select class="form-control input-sm" data-bind="options:$parent.vdcList,optionsText:'name',optionsValue:'uuid',value:vdcUuid"></select></td>
						<td>
							<div class="radio">
								<label class="form-inline"> <input type="radio" value="1" data-bind="checked: applyType,name: ($index()+1)" > 永久
								</label>
							</div>
							<div class="radio">
								<label class="form-inline"> <input type="radio"
									class="form-control" style="top: 2px;" value="2" data-bind="checked: applyType,name: ($index()+1)" > 
									<select class="form-control"  data-bind="options:$parent.applyList,optionsText:'name',optionsValue:'value',value:applyNum"></select> 个月
								</label>
							</div>
							<div class="radio disabled">
								<label class="form-inline"> <input type="radio"
									class="form-control" style="top: 2px;" value="3" data-bind="checked: applyType,name: ($index()+1)"> 
									<input style="width: 206px" class="form-control" data-bind="datePicker : MyDate" type="date">
								</label>
							</div>
						</td>
						<td><select class="form-control"  data-bind="options:$parent.billRoleList,optionsText:'name',optionsValue:'value',value:billRuleUuid">
						</select></td>
						<td>0.5元/小时</td>
					</tr>  
            </tbody>
          </table>
        </div>
        
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info" 
           data-bind="click: $root.addToCart">添加到购物车</a>
        <a class="btn btn-default btn-success">提交订单</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>
<!-- SSH密钥 end -->
<!-- 云硬盘单个 -->
<div role="dialog" aria-hidden="true" class="simple_form form-horizontal modal fade applyModeShow" data-bind="modal: { show: isAdd_VdiskSingle }">
  <div class='modal-dialog modal-lg' data-bind="foreach: model_Vdisk().vdiskCartInfo">
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>申请云硬盘服务</h3>
      </div>
      <div class='modal-body form-horizontal row'>
        <div class="form-inline clearfix" style="padding:0 15px 15px 0">
          <a class="btn btn-default pull-right" data-bind="click:$root.changeList_Vdisk">批量申请</a>
        </div>
        
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">云硬盘名称：</label>
              <div class="col-sm-8">
                <input type="text" class="form-control w" data-bind="value: name">
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">存储大小(GB)：</label>
              <div class="col-sm-8">
                <input type="text" class="form-control w" data-bind="value: size">
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">所属VDC：</label>
              <div class="col-sm-8">
                <select class="form-control input-sm" data-bind="options:$parent.vdcList,optionsText:'name',optionsValue:'uuid',value:vdcUuid,optionsCaption:'请选择',event:{change:$root.vdcChange}"></select>
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">可用分区：</label>
              <div class="col-sm-8">
                <select class="form-control input-sm" data-bind="options:azList,optionsText:'name',optionsValue:'uuid',value:azUuid,event:{change:$root.azChangeGetVm},optionsCaption:'请选择'"></select>
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">挂载云主机：</label>
              <div class="col-sm-8">
                <select class="form-control input-sm"  data-bind="options:vmList,optionsText:'resourceName',optionsValue:'uuid',value:mountVmUuid,event:{change:$root.vmChangeGetDate},optionsCaption:'请选择'"></select>
              </div>
            </div>
          </div>
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">备注：</label>
              <div class="col-sm-8">
                <textarea class="form-control" cols="30" rows="5" data-bind="value: remark"></textarea>
              </div>
            </div>
          </div>
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">申请时长：</label>
              <label class="col-xs-2 control-label">有效期至 </label>
              <div class="col-xs-6"><input type="text" style="width:126px" class="form-control" data-bind="value: applyTime,attr:{disabled:true}"></div>
            </div>
          </div>
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">套餐：</label>
              <div class="col-sm-3">
				   <select class="form-control w-xs" data-bind="options:$parent.billRoleList,optionsText:'name',optionsValue:'value',value:billRuleUuid"></select>
              </div>
              <span class="control-label col-sm-5 text-left" style="height:34px;">费用：100元/月</span>
            </div>

          </div>
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-info" data-bind="click: $root.addToCart">添加到购物车</a>
        <a class="btn btn-success" data-dismiss="modal" data-bind="click: $root.addToOrder">提交订单</a>
      </div>
    </div>
  </div>
</div>
<!-- 云硬盘单个 -->
<!-- 云硬盘多个 -->
<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isAdd_VdiskMore }">
  <div class='modal-dialog modal-lg' role='document'>
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>申请云硬盘服务</h3>
      </div>
      <div class='modal-body form-horizontal'>
        <a class="btn btn-default pull-right" data-bind="click:$root.changeSingle_Vdisk">单个申请</a>
        <div class="form-inline">
          <div class="input-group">
             <span class="input-group-addon">申请数量</span>
             <input type="text" class="form-control" data-bind="value: num_vdisk, valueUpdate: 'afterkeydown'">
          </div>
        </div>
        <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
          <table class="table table-striped">
            <thead>
              <th>序号</th>
              <th>云硬盘名称<i style="color:red">*</i></th>
              <th>存储大小(G)<i style="color:red">*</i></th>
              <th>所属VDC<i style="color:red">*</i></th>
              <th>可用分区<i style="color:red">*</i></th>
              <th>挂载云主机</th>
              <th>申请时长</th>
              <th>套餐</th>
              <th>收费标准</th>
            </thead>
            <tbody data-bind="foreach: model_Vdisk().vdiskCartInfo">
              <tr>
					<td><span data-bind="text: ($index()+1)"></span></td>
					<td><input type="text" class="form-control input-sm"
						data-bind="value: name"></td>
					<td><input type="text" class="form-control input-sm"
						data-bind="value: size">
					</td>
					<td>
					    <select class="form-control input-sm" id="vdiskVdc" data-bind="options:$parent.vdcList,optionsText:'name',optionsValue:'uuid',value:vdcUuid,optionsCaption:'请选择',event:{change:$root.vdcChange}"></select>
					</td>
					<td>
					    <select class="form-control input-sm" data-bind="options:azList,optionsText:'name',optionsValue:'uuid',value:azUuid,event:{change:$root.azChangeGetVm},optionsCaption:'请选择'"></select>
					</td>
					<td>
					    <select class="form-control input-sm"  data-bind="options:vmList,optionsText:'resourceName',optionsValue:'uuid',value:mountVmUuid,event:{change:$root.vmChangeGetDate},optionsCaption:'请选择'"></select>
					</td>
					<td>
						<input type="text" style="width:126px" class="form-control" data-bind="value: applyTime,attr:{disabled:true}">
					</td>
					<td>
					    <select class="form-control w-xs" data-bind="options:$parent.billRoleList,optionsText:'name',optionsValue:'value',value:billRuleUuid"></select>
					</td>
					<td>0.5元/小时</td>
				</tr>
            </tbody>
          </table>
        </div>
        
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info" data-bind="click: $root.addToCart">添加到购物车</a>
        <a class="btn btn-default btn-success" data-bind="click: $root.addToOrder">提交订单</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>
<!-- 云硬盘多个 -->

<!-- 云主机 -->
<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isAdd_VM }">
	<div class='modal-dialog modal-lg' role='document'>
	    <div class='modal-content'>
	    	<div class='modal-header'>
	        	<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>申请云主机服务</h3>
	      	</div>
		    <div class='modal-body'>
		        <ul class="nav nav-tabs service-step-select">
		          <li data-bind="css: {active: myStep()==1}"><a >1基本信息</a></li>
		          <li data-bind="css: {active: myStep()==2}"><a >2规格配置</a></li>
		          <li data-bind="css: {active: myStep()==3}"><a >3网络配置</a></li>
		          <li data-bind="css: {active: myStep()==4}"><a >4系统盘分区</a></li>
		          <li data-bind="css: {active: myStep()==5}"><a >5挂载云硬盘</a></li>
		          <li data-bind="css: {active: myStep()==6}"><a >6软件安装</a></li>
		          <li data-bind="css: {active: myStep()==7}"><a >7信息确认</a></li>
		        </ul>
				<div class="tab-content service-step-box" style="margin-top:20px;">
			    	  <div data-bind="visible: myStep()==1">
			        	<div class="form-inline">
			                <div class="input-group">
			                    <span class="input-group-addon">申请数量</span>
			                    <input type="text" class="form-control" data-bind="value: num_VM, valueUpdate: 'afterkeydown'">
			                </div>
			            </div>
			            <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
			                <table class="table table-striped">
				                <thead>
				                  <th>序号</th>
				                  <th>云主机名称<i style="color:red">*</i></th>
				                  <th>计算机名称</th>
				                  <th>可用分区</th>
				                  <th>业务系统</th>
				                  <th>所属VDC<i style="color:red">*</i></th>
				                  <th>备注</th>
				                  <th>申请时长<i style="color:red">*</i></th>
				                  <th>套餐</th>
				                </thead>
				                <tbody data-bind="foreach: model_VM().vmCartInfo">
				                     <tr>
					                     <td><span data-bind="text: ($index()+1)"></span></td>
					                     <td><input type="text" class="form-control w" data-bind="value:vmName"></td>
					                     <td><input type="text" class="form-control w" data-bind="value:computerName"></td>
					                     <td><select class="form-control w-xs" data-bind="options:$parent.projectList,optionsText:'name',optionsValue:'value',value:azUuid"></select></td>
					                     <td><select class="form-control w-xs" data-bind="options:$parent.projectList,optionsText:'name',optionsValue:'value',value:projectUuid"></select></td>
					                     <td><select class="form-control w-xs" data-bind="options:$parent.vdcList,optionsText:'name',optionsValue:'uuid',value:vdcUuid"></select></td>
					                     <td><input type="text" class="form-control w"></td>
					                     <td>
					                         <div class="radio">
												<label class="form-inline"> <input type="radio" value="1" data-bind="checked: applyType,name: ($index()+1)" > 永久
												</label>
											</div>
											<div class="radio">
												<label class="form-inline"> <input type="radio"
													class="form-control" style="top: 2px;" value="2" data-bind="checked: applyType,name: ($index()+1)"> 
													<select class="form-control"  data-bind="options:$parent.applyList,optionsText:'name',optionsValue:'value',value:applyNum"></select> 个月
												</label>
											</div>
											<div class="radio disabled">
												<label class="form-inline"> <input type="radio"
													class="form-control" style="top: 2px;" value="3" data-bind="checked: applyType,name: ($index()+1)"> 
													<input style="width: 206px" class="form-control" data-bind="datePicker : MyDate,value:applyTime" type="date">
												</label>
											</div>
					                     </td>
					                     <td>
					                         <select class="form-control w-xs" data-bind="options:$parent.billRoleList,optionsText:'name',optionsValue:'value',value:billRuleUuid"></select>
					                     </td>
					                 </tr>  
				                </tbody>
			                </table>
			            </div>
			          </div>
			
			          <div data-bind="visible: myStep()==2">
			            <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
			              <table class="table table-striped">
			                <thead>
			                  <th>序号</th>
			                  <th>云主机名称</th>
			                  <th>操作系统类型<i style="color:red">*</i></th>
			                  <th>操作系统版本<i style="color:red">*</i></th>
			                  <th>CPU(核)<i style="color:red">*</i></th>
			                  <th>内存(G)<i style="color:red">*</i></th>
			                  <th>存储(G)</th>
			                  <th>用户名<i style="color:red">*</i></th>
			                  <th>密码<i style="color:red">*</i></th>
			                  <th>重复密码<i style="color:red">*</i></th>
			                </thead>
			                <tbody data-bind="foreach: model_VM().vmCartInfo">
			                  <tr>
                                <td><span data-bind="text: ($index()+1)"></span></td>
		                        <td><span data-bind="text:vmName"></span></td>
		                        <td><select class="form-control" data-bind="options:$parent.osTypeList,optionsText:'name',optionsValue:'value',value:osType"></select></td>
		                        <td><select class="form-control" data-bind="options:$parent.osVersionList,optionsText:'name',optionsValue:'value',value:osVersion"></select></td>
		                        <td><select class="form-control" style="width: 80px;" data-bind="options:$parent.cpuList,optionsText:'name',optionsValue:'value',value:cpu"></select></td>
		                        <td><select class="form-control" style="width: 80px;" data-bind="options:$parent.memoryList,optionsText:'name',optionsValue:'value',value:memory"></select></td>
		                        <td><input type="text" class="form-control" data-bind="value:storage"></td>
		                        <td><input type="text" class="form-control" data-bind="value:userName"></td>
		                        <td><input type="text" class="form-control" data-bind="value:password"></td>
		                        <td><input type="text" class="form-control" data-bind="value:repeatPassword"></td>
		                      </tr>
			                </tbody>
			              </table>
			            </div>
			          </div> 
			
			          <div data-bind="visible: myStep()==3">
			            <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
			              <table class="table table-striped">
			                <thead>
			                  <th>序号</th>
			                  <th>云主机名称</th>
			                  <th>网络类型<i style="color:red">*</i></th>
			                  <th>VPC/IP池<i style="color:red">*</i></th>
			                  <th>网络名称</th>
			                  <th>指定IP</th>
			                  <th>绑定密钥</th>
			                </thead>
			                <tbody data-bind="foreach: model_VM().vmCartInfo">
			                    <tr>
			                       <td><span data-bind="text: ($index()+1)"></span></td>
			                       <td><span data-bind="text:vmName"></span></td>
			                       <td><select class="form-control" data-bind="options:$parent.netTypeList,optionsText:'name',optionsValue:'value',value:networkType"></select></td>
			                       <td><select class="form-control" data-bind="options:$parent.vpcOrIpPoolList,optionsText:'name',optionsValue:'value',value:vpcOrIpPoolList"></select></td>
			                       <td><select class="form-control" data-bind="options:$parent.netNameList,optionsText:'name',optionsValue:'value',value:vpcNetworkUuid"></select></td>
			                       <td><select class="form-control" data-bind="options:$parent.ipList,optionsText:'name',optionsValue:'value',value:ip"></select></td>
			                       <td>
			                           <input type="radio" data-bind="checked: sshIsMount" value="NO" >否<input type="radio" data-bind="checked: sshIsMount" value="YES">是 <select class="form-control" data-bind="options:$parent.osTypeList,optionsText:'name',optionsValue:'value',value:sshUuid"></select>
			                       </td>
			                    </tr>
			                </tbody>
			              </table>
			            </div>
			          </div>
			
			          <div data-bind="visible: myStep()==4">
			              <div data-bind="foreach: model_VM().vmCartInfo">
				              <div style="margin:0;margin-top:10px">
				              <span class="pull-left" style="font-size:16px;position:relative;top:8px;" data-bind="text:vmName"></span><a class="btn btn-info btn-sm pull-right" data-bind="click:$root.addPartitions">添加分区</a>
				              <div class="clearfix" style="height:10px;clear:both;"></div>
				              <div class="panel panel-default table-responsive no-height">
				                  <table class="table table-striped">
				                      <thead>
				                          <th>分区名称</th>
				                          <th>分区大小(G)</th>
				                          <th>操作</th>
				                      </thead>
				                      <tbody data-bind="foreach: partitions">
				                          <tr >
				                              <td><span data-bind="text:name"></span></td>
				                              <td><span data-bind="text:size"></span></td>
				                              <td><a class="btn btn-xs btn-default" data-bind="click:function(object, event){ $root.updatePartitions($parent, object, event) }">修改</a> 
				                              <a class="btn btn-xs btn-danger" data-bind="click:function(object, event){ $root.delPartitions($parent, object, event) }">删除</a></td>
				                          </tr>
				                      </tbody>
				                  </table>
				               </div>
				               </div>
				           </div>    
			          </div>
			
			          <div data-bind="visible: myStep()==5">
			              <div data-bind="foreach: model_VM().vmCartInfo">
				              <div style="margin:0;margin-top:10px">
					              <span class="pull-left" style="font-size:16px;position:relative;top:8px;" data-bind="text:vmName"></span><a class="btn btn-info btn-sm pull-right" data-bind="click:$root.addMountdisks">挂载云硬盘</a>
					              <div class="clearfix" style="height:10px;clear:both;"></div>
				                  <div class="panel panel-default table-responsive no-height">
				                      <table class="table table-striped">
				                          <thead>
				                              <th>云硬盘名称</th>
				                              <th>云硬盘类型</th>
				                              <th>云硬盘大小</th>
				                              <th>操作</th>
				                          </thead>
				                          <tbody data-bind="foreach: mountdisks">
				                              <tr>
				                                  <td><span data-bind="text:name"></span></td>
				                                  <td><span data-bind="text:type"></span></td>
				                                  <td><span data-bind="text:size"></span></td>
				                                  <td><a class="btn btn-xs btn-default" data-bind="click:function(object, event){ $root.updateMountdisks($parent, object, event) }">修改</a> 
				                                      <a class="btn btn-xs btn-danger" data-bind="click:function(object, event){ $root.delMountdisks($parent, object, event) }">删除</a></td>
				                              </tr>
				                          </tbody>
				                      </table>
				                  </div>
				              </div>
				          </div>    
			          </div>

			          <div  data-bind="visible: myStep()==6">
			              <div data-bind="foreach: model_VM().vmCartInfo">
			              <div style="margin:0;margin-top:10px">
				              <span class="pull-left" style="font-size:16px;position:relative;top:8px;" data-bind="text:vmName"></span><a class="btn btn-info btn-sm pull-right">添加软件</a>
				              <div class="clearfix" style="height:10px;clear:both;"></div>
				              <div class="panel panel-default table-responsive no-height">
				                  <table class="table table-striped">
				                      <thead>
				                          <th>软件名称</th>
				                          <th>软件分类</th>
				                          <th>软件类型</th>
				                          <th>软件版本</th>
				                          <th>静默安装属性</th>
				                          <th>操作</th>
				                      </thead>
				                      <tbody data-bind="foreach: softwares">
				                          <tr>
					                          <td>oracle 10g</td>
					                          <td>数据库</td>
					                          <td>oracle</td>
					                          <td>10g企业版</td>
					                          <td><a class="btn btn-xs btn-info">查看</a> <a class="btn btn-xs btn-default">修改</a></td>
					                          <td><a class="btn btn-xs btn-danger" onclick="confirm(\'确定删除吗？\')">删除</a></td>
				                          </tr>
				                      </tbody>
				                  </table>
				              </div>
				          </div> 
				          </div>   
			          </div> 
			
			         <div data-bind="visible: myStep()==7">
			            <div style="margin:0;margin-top:10px">
			              <span class="pull-left" style="font-size:16px;">云主机个数：<span data-bind="text: model_VM().vmCartInfo().length"></span></span>
			              <div class="clearfix" style="height:10px;clear:both;"></div>
			              <div class="panel panel-default table-responsive no-height">
			                <table class="table table-striped">
			                  <thead>
			                    <th>云主机名称</th>
			                    <th>CPU(核)</th>
			                    <th>内存(G)</th>
			                    <th>存储(G)</th>
			                    <th>软件个数</th>
			                    <th>云盘个数</th>
			                    <th>所属VDC</th>
			                    <th>申请时长</th>
			                    <th>收费标准</th>
			                  </thead>
			                  <tbody data-bind="foreach: model_VM().vmCartInfo">
			                    <tr>
			                      <td data-bind="text: vmName"></td>
			                      <td data-bind="text: cpu"></td>
			                      <td data-bind="text: memory"></td>
			                      <td data-bind="text: storage">100</td>
			                      <td data-bind="text: softwares().length"></td>
			                      <td data-bind="text: mountdisks().length"></td>
			                      <td data-bind="text: vdcText"></td>
			                      <td data-bind="text: applyTimeText"></td>
			                      <td data-bind="text: vmName"></td>
			                    </tr>
			                  </tbody>
			                </table>
			              </div>
			            </div>
			          </div>  
		
		        </div>
		        
		      </div>
		    <div class='modal-footer' style="text-align:center;">
		        <a class="btn btn-default btn-info " data-bind="visible: myStep()>1,click:pre">上一步</a>
		        <a class="btn btn-default btn-info " data-bind="visible: myStep()<7,click:next">下一步</a>
		        <a class="btn btn-default btn-info " data-bind="visible: myStep()==7,click:addToCart">添加到购物车</a>
		        <a class="btn btn-default btn-success " data-bind="visible: myStep()==7,click:addToOrder">提交订单</a>
		        <!-- <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a> -->
		    </div>
	    </div>
	</div>
</div>
<!-- 云主机 -->
<!-- 对象存储单个 -->
<div role="dialog" aria-hidden="true" class="simple_form form-horizontal modal fade applyModeShow" data-bind="modal: { show: isAdd_ObjectStorageSingle }">
  <div class='modal-dialog modal-lg' data-bind="foreach: model_ObjectStorage().objectStorageCartInfo">
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>申请对象存储服务</h3>
      </div>
      <div class='modal-body form-horizontal row'>
        <div class="form-inline clearfix" style="padding:0 15px 15px 0">
          <a class="btn btn-default pull-right" data-bind="click: $root.changeList_ObjectStorage">批量申请</a>
        </div>
        
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">对象存储名称：</label>
              <div class="col-sm-8">
                <input type="text" class="form-control w" data-bind="value: name">
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">存储大小(GB)：</label>
              <div class="col-sm-8">
                <input type="text" class="form-control w" data-bind="value: size">
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">所属VDC：</label>
              <div class="col-sm-8">
                <select class="form-control input-sm" data-bind="options:$parent.vdcList,optionsText:'name',optionsValue:'uuid',value:vdcUuid,event:{change:$root.vdcChange},optionsCaption:'请选择'"></select>
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">可用分区：</label>
              <div class="col-sm-8">
                <select class="form-control input-sm" data-bind="options:azList,optionsText:'name',optionsValue:'uuid',value:azUuid,optionsCaption:'请选择'"></select>
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">备注：</label>
              <div class="col-sm-8">
                <textarea class="form-control" cols="30" rows="5" data-bind="value: remark"></textarea>
              </div>
            </div>
          </div>
          
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">申请时长：</label>
              <div class="col-sm-8">
                <div class="radio">
                  <label class="form-inline">
                    <input type="radio" value="1" data-bind="checked: applyType,name:objectSingle" > 永久
                  </label>
                </div>
                <div class="radio">
                  <label class="form-inline">
                  	<input type="radio" class="form-control" style="top:2px;" value="2" data-bind="checked: applyType,name:objectSingle" > 
                    <select class="form-control"  data-bind="options:$parent.applyList,optionsText:'name',optionsValue:'value',value:applyNum"></select> 个月
                  </label>
                </div>
                <div class="radio">
                  <label class="form-inline">
                    <input type="radio" class="form-control" style="top: 2px;" value="3" data-bind="checked: applyType,name: objectSingle"> 
                    <span class="">有效期至 </span>
                    <input type="text" style="width:126px" data-bind="value:applyTime" class="form-control applyDateFormat">
                  </label>
                </div>
              </div>
            </div>
          </div>
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">套餐：</label>
              <div class="col-sm-3">
				 <select class="form-control"  data-bind="options:$parent.billRoleList,optionsText:'name',optionsValue:'value',value:billRuleUuid"></select>
              </div>
              <span class="control-label col-sm-5 text-left" style="height:34px;">费用：100元/月</span>
            </div>

          </div>
          

      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-info" data-bind="click: $root.addToCart">添加到购物车</a>
        <a class="btn btn-success" data-dismiss="modal" data-bind="click: $root.addToOrder">提交订单</a>
      </div>
    </div>
  </div>
</div>
<!-- 对象存储单个 -->
<!-- 对象存储多个 -->
<div role="dialog" aria-hidden="true" class="modal fade applyModeShow" data-bind="modal: { show: isAdd_ObjectStorageMore }">
  <div class='modal-dialog modal-lg'>
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>申请对象存储</h3>
      </div>
      <div class='modal-body form-horizontal'>
        <a class="btn btn-default pull-right" data-bind="click:$root.changeSingle_ObjectStorageMore">单个申请</a>
        <div class="form-inline">
          <div class="input-group">
             <span class="input-group-addon">申请数量</span>
             <input type="text" class="form-control" data-bind="value: num_ObjectStorage, valueUpdate: 'afterkeydown'">
          </div>
        </div>
        <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
          <table class="table table-striped">
            <thead>
              <th>序号</th>
              <th>对象存储名称<i style="color:red">*</i></th>
              <th>存储大小(G)<i style="color:red">*</i></th>
              <th>所属VDC<i style="color:red">*</i></th>
              <th>可用分区<i style="color:red">*</i></th>
              <th>申请时长</th>
              <th>套餐</th>
              <th>收费标准</th>
            </thead>
            <tbody data-bind="foreach: model_ObjectStorage().objectStorageCartInfo">
                <tr>
                    <td><span data-bind="text: ($index()+1)"></span></td>
					<td><input type="text" class="form-control input-sm" data-bind="value: name"></td>
					<td><input type="text" class="form-control input-sm" data-bind="value: size"></td>
					<td><select class="form-control input-sm" data-bind="options:$parent.vdcList,optionsText:'name',optionsValue:'uuid',value:vdcUuid,event:{change:$root.vdcChange},optionsCaption:'请选择'"></select></td>
					<td><select class="form-control input-sm" data-bind="options:azList,optionsText:'name',optionsValue:'uuid',value:azUuid,optionsCaption:'请选择'"></select></td>
					<td>
						<div class="radio">
							<label class="form-inline"> <input type="radio"
							
								value="1" data-bind="checked: applyType,name:$index()" > 永久
							</label>
						</div>
						<div class="radio">
							<label class="form-inline"> <input type="radio"
								class="form-control" style="top: 2px;"
								value="2" data-bind="checked: applyType,name:$index()"> <select class="form-control"  data-bind="options:$parent.applyList,optionsText:'name',optionsValue:'value',value:applyNum"></select> 个月
							</label>
						</div>
						<div class="radio disabled">
							<label class="form-inline"> <input type="radio"
								class="form-control" style="top: 2px;"
								value="3" data-bind="checked: applyType,name:$index()"> <input type="text"
								style="width: 206px" class="form-control applyDateFormat"
								id="applyServiceBalancingBox_daterange'+i+'">
							</label>
						</div>
					</td>
					<td><select class="form-control"  data-bind="options:$parent.billRoleList,optionsText:'name',optionsValue:'value',value:billRuleUuid"></select></td>
					<td>0.5元/小时</td>
				</tr>            
            </tbody>
          </table>
        </div>
        
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info" data-bind="click: $root.addToCart">添加到购物车</a>
        <a class="btn btn-default btn-success"  data-bind="click: $root.addToOrder">提交订单</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>
<!-- 对象存储多个 -->
<!-- 公网IP单个 -->
<div role="dialog" aria-hidden="true" class="simple_form form-horizontal modal fade applyModeShow" data-bind="modal: { show: isAdd_PublicNetworkSingle }">
  <div class='modal-dialog modal-lg' data-bind="foreach: model_PublicNetwork().publicNetworkCartInfo">
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>申请公网IP服务</h3>
      </div>
      <div class='modal-body form-horizontal row'>
        <div class="form-inline clearfix" style="padding:0 15px 15px 0">
          <a class="btn btn-default pull-right">批量申请</a>
        </div>
        
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">公网IP名称：</label>
              <div class="col-sm-8">
                <input type="text" class="form-control w" data-bind="value: name">
              </div>
            </div>
          </div>
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">所属VDC：</label>
              <div class="col-sm-8">
                <select class="form-control input-sm" data-bind="options:$parent.vdcList,optionsText:'name',optionsValue:'uuid',value:vdcUuid,event:{change:$root.vdcChange},optionsCaption:'请选择'"></select>
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">可用分区：</label>
              <div class="col-sm-8">
                <select class="form-control input-sm" data-bind="options:azList,optionsText:'name',optionsValue:'uuid',value:azUuid,event:{change:$root.azChangeGetVpc},optionsCaption:'请选择'"></select>
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">所属VPC：</label>
              <div class="col-sm-8">
                <select class="form-control input-sm" data-bind="options:vpcList,optionsText:'name',optionsValue:'uuid',value:vpcUuid,event:{change:$root.vpcChange},optionsCaption:'请选择'"></select>
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">网络名称：</label>
              <div class="col-sm-8">
                <select class="form-control input-sm" data-bind="options:networkList,optionsText:'name',optionsValue:'uuid',value:workip,optionsCaption:'请选择'"></select>
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">备注：</label>
              <div class="col-sm-8">
                <textarea class="form-control" cols="30" rows="5" data-bind="value: remark"></textarea>
              </div>
            </div>
          </div>
          
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">申请时长：</label>
              <div class="col-sm-8">
                <div class="radio">
                  <label class="form-inline">
                    <input type="radio" value="1" data-bind="checked: applyType,name:publicNetworkSingle" > 永久
                  </label>
                </div>
                <div class="radio">
                  <label class="form-inline">
                    <input type="radio" class="form-control" style="top: 2px;" value="2" data-bind="checked: applyType,name:publicNetworkSingle">
                    <select class="form-control"  data-bind="options:$parent.applyList,optionsText:'name',optionsValue:'value',value:applyNum"></select> 个月
                  </label>
                </div>
                <div class="radio">
                  <label class="form-inline">
                    <input type="radio" class="form-control" style="top: 2px;" value="3" data-bind="checked: applyType,name:publicNetworkSingle">
                    <span class="">有效期至 </span>
                    <input type="text" style="width:126px" class="form-control applyDateFormat" data-bind="value: applyTime">
                  </label>
                </div>
              </div>
            </div>
          </div>
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">套餐：</label>
              <div class="col-sm-3">
				<select class="form-control"  data-bind="options:$parent.billRoleList,optionsText:'name',optionsValue:'value',value:billRuleUuid"></select>
              </div>
              <span class="control-label col-sm-5 text-left" style="height:34px;">费用：100元/月</span>
            </div>

          </div>
          

      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-info" data-bind="click: $root.addToCart">添加到购物车</a>
        <a class="btn btn-success" data-dismiss="modal" data-bind="click: $root.addToOrder">提交订单</a>
      </div>
    </div>
  </div>
</div>
<!-- 公网IP单个 -->
<!-- 公网IP多个 -->
<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isAdd_PublicNetworkMore }">
  <div class='modal-dialog modal-lg'>
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>申请公网IP</h3>
      </div>
      <div class='modal-body form-horizontal'>
        <div class="form-inline">
          <div class="input-group">
             <span class="input-group-addon">申请数量</span>
             <input type="text" class="form-control" data-bind="value: num_PublicNetwork, valueUpdate: 'afterkeydown'">
          </div>
        </div>
        <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
          <table class="table table-striped">
            <thead>
              <th>序号</th>
              <th>公网IP名称<i style="color:red">*</i></th>
              <th>所属VDC<i style="color:red">*</i></th>
              <th>可用分区<i style="color:red">*</i></th>
              <th>VPC<i style="color:red">*</i></th>
              <th>网络名称</th>
              <th>申请时长<i style="color:red">*</i></th>
              <th>套餐</th>
              <th>收费标准</th>
            </thead>
            <tbody  data-bind="foreach: model_PublicNetwork().publicNetworkCartInfo">
                 <tr>
                    <td><span data-bind="text: ($index()+1)"></span></td>
					<td><input type="text" class="form-control input-sm" data-bind="value: name"></td>
					<td><select class="form-control input-sm" data-bind="options:$parent.vdcList,optionsText:'name',optionsValue:'uuid',value:vdcUuid,event:{change:$root.vdcChange},optionsCaption:'请选择'"></select></td>
					<td><select class="form-control input-sm" data-bind="options:azList,optionsText:'name',optionsValue:'uuid',value:azUuid,event:{change:$root.azChangeGetVpc},optionsCaption:'请选择'"></select></td>
					<td><select class="form-control input-sm" data-bind="options:vpcList,optionsText:'name',optionsValue:'uuid',value:vpcUuid,event:{change:$root.vpcChange},optionsCaption:'请选择'"></select></td>
					<td><select class="form-control input-sm" data-bind="options:networkList,optionsText:'name',optionsValue:'uuid',value:workip,optionsCaption:'请选择'"></select></td>
					<td>
						<div class="radio">
							<label class="form-inline"> <input type="radio"
							
								value="1" data-bind="checked: applyType,name:$index()" > 永久
							</label>
						</div>
						<div class="radio">
							<label class="form-inline"> <input type="radio"
								class="form-control" style="top: 2px;"
								value="2" data-bind="checked: applyType,name:$index()"> <select class="form-control"  data-bind="options:$parent.applyList,optionsText:'name',optionsValue:'value',value:applyNum"></select> 个月
							</label>
						</div>
						<div class="radio disabled">
							<label class="form-inline"> <input type="radio"
								class="form-control" style="top: 2px;"
								value="3" data-bind="checked: applyType,name:$index()"> <input type="text"
								style="width: 206px" class="form-control"
								id="applyServiceBalancingBox_daterange'+i+'">
							</label>
						</div>
					</td>
					<td><select class="form-control"  data-bind="options:$parent.billRoleList,optionsText:'name',optionsValue:'value',value:billRuleUuid"></select></td>
					<td>0.5元/小时</td>
				</tr>               
            </tbody>
          </table>
        </div>
        
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info" data-bind="click: $root.addToCart">添加到购物车</a>
        <a class="btn btn-default btn-success"  data-bind="click: $root.addToOrder">提交订单</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>
<!-- 公网IP多个 -->
<!-- VDC -->
<div role="dialog" aria-hidden="true" class="modal fade applyModeShow" data-bind="modal: { show: isAdd_VDC }">
  <div class='modal-dialog modal-lg'>
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>申请VDC</h3>
      </div>
      <div class='modal-body form-horizontal row'>
        <div class="form-group">
          <label class="col-sm-3 control-label">VDC名称：</label>
          <div class="col-sm-8">
            <input type="text" class="form-control col-sm-5" placeholder="请输入名称" data-bind="value:model_VDC().vdcCartInfo().name">
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-3 control-label">支持操作系统：</label>
            <div class="col-sm-8 form-inline" data-bind="foreach:osTypeArray">
              <div class="checkbox">
                <label>
                  <input type="checkbox" data-bind="checked: $parent.model_VDC().vdcCartInfo().osTypesSelelct,value:$data"><span data-bind="text:$data"></span>
                </label>
              </div>
            </div>
        </div>     
        <div class="form-group">
        	<label class="col-sm-3 control-label">配额限制：</label>
        	<div class="col-xs-4 form-inline">
        	<div class="form-inline"> 
        	<div class="radio"> 
        		<label class="form-inline"> 
					<input type="radio" class="form-control" style="top: 2px;" value="1" data-bind="checked: model_VDC().vdcCartInfo().quota,name:quota,attr:{disabled:true}">限制
				</label>
			</div> 
        	<div class="radio"> 
        		<label class="form-inline"> 
					<input type="radio" class="form-control" style="top: 2px;" value="-1" data-bind="checked: model_VDC().vdcCartInfo().quota,name:quota,attr:{disabled:true}">不限制
				</label>
			</div>			
			</div>
			</div>
        </div>
        <div data-bind="visible:model_VDC().vdcCartInfo().quota()=='1'">
	        <div class="form-group col-sm-4" >
	          <div >
	            <label class="col-xs-8 control-label">CPU配额(个)：</label>
	            <div class="col-xs-4">
	              <input type="text" class="form-control" data-bind="value:model_VDC().vdcCartInfo().cpu,attr:{disabled:true}">
	            </div>
	          </div>
	        </div>
	        <div class="form-group col-sm-4">
	          <div >
	            <label class="col-xs-8 control-label">内存配额(G)：</label>
	            <div class="col-xs-4">
	              <input type="text" class="form-control" data-bind="value:model_VDC().vdcCartInfo().memory,attr:{disabled:true}">
	            </div>
	          </div>
	        </div>
	        <div class="form-group col-sm-4">
	          <div >
	            <label class="col-xs-8 control-label">存储配额(G)：</label>
	            <div class="col-xs-4">
	              <input type="text" class="form-control" data-bind="value:model_VDC().vdcCartInfo().storage,attr:{disabled:true}">
	            </div>
	          </div>
	        </div>
	        <div class="form-group col-sm-4">
	          <div >
	            <label class="col-xs-8 control-label">云主机最大申请数：</label>
	            <div class="col-xs-4">
	              <input type="text" class="form-control" data-bind="value:model_VDC().vdcCartInfo().vm,attr:{disabled:true}">
	            </div>
	          </div>
	        </div>
	        <div class="form-group col-sm-4">
	          <div >
	            <label class="col-xs-8 control-label">云硬盘最大申请数：</label>
	            <div class="col-xs-4">
	              <input type="text" class="form-control" data-bind="value:model_VDC().vdcCartInfo().disk,attr:{disabled:true}">
	            </div>
	          </div>
	        </div>
	        <div class="form-group col-sm-4">
	          <div >
	            <label class="col-xs-8 control-label">对象存储最大申请数：</label>
	            <div class="col-xs-4">
	              <input type="text" class="form-control" data-bind="value:model_VDC().vdcCartInfo().objectStorage,attr:{disabled:true}">
	            </div>
	          </div>
	        </div>
	        <div class="form-group col-sm-4">
	          <div >
	            <label class="col-xs-8 control-label">VPC最大可创建数：</label>
	            <div class="col-xs-4">
	              <input type="text" class="form-control" data-bind="value:model_VDC().vdcCartInfo().vpcNum,attr:{disabled:true}">
	            </div>
	          </div>
	        </div>
	        <div class="form-group col-sm-4">
	          <div >
	            <label class="col-xs-8 control-label">路由器最大可创建数：</label>
	            <div class="col-xs-4">
	              <input type="text" class="form-control" data-bind="value:model_VDC().vdcCartInfo().router,attr:{disabled:true}">
	            </div>
	          </div>
	        </div>
	        <div class="form-group col-sm-4">
	          <div >
	            <label class="col-xs-8 control-label">防火墙最大可创建数：</label>
	            <div class="col-xs-4">
	              <input type="text" class="form-control" data-bind="value:model_VDC().vdcCartInfo().fireWall,attr:{disabled:true}">
	            </div>
	          </div>
	        </div>
	        <div class="form-group col-sm-4">
	          <div >
	            <label class="col-xs-8 control-label">公网IP最大申请数：</label>
	            <div class="col-xs-4">
	              <input type="text" class="form-control" data-bind="value:model_VDC().vdcCartInfo().publicIp,attr:{disabled:true}">
	            </div>
	          </div>
	        </div>
	        <div class="form-group col-sm-4">
	          <div >
	            <label class="col-xs-8 control-label">负载均衡器最大申请数：</label>
	            <div class="col-xs-4">
	              <input type="text" class="form-control" data-bind="value:model_VDC().vdcCartInfo().loadBalancer,attr:{disabled:true}">
	            </div>
	          </div>
	        </div>
	        <div class="form-group col-sm-4">
	          <div >
	            <label class="col-xs-8 control-label">SSH密钥最大申请数：</label>
	            <div class="col-xs-4">
	              <input type="text" class="form-control" data-bind="value:model_VDC().vdcCartInfo().secretKey,attr:{disabled:true}">
	            </div>
	          </div>
	        </div>
        </div>
        <div class="clearfix"></div>
        <div class="form-group">
          <label class="col-sm-3 control-label">备注：</label>
          <div class="col-sm-8">
            <textarea class="form-control" cols="30" rows="5" data-bind="value:model_VDC().vdcCartInfo().remark"></textarea>
          </div>
        </div>
          <div class="clearfix"></div>
        <div class="form-group">
          <label class="col-sm-3 control-label">申请时长：</label>
			<div class="col-sm-8">
			<div class="radio">
				<label class="form-inline"> 
					<input type="radio" value="1" data-bind="checked: model_VDC().vdcCartInfo().applyType,name:vdcRadio" > 永久
				</label>
			</div>
			<div class="radio">
				<label class="form-inline"> 
					<input type="radio" class="form-control" style="top: 2px;" value="2" data-bind="checked: model_VDC().vdcCartInfo().applyType,name:vdcRadio"> 
					<select class="form-control"  data-bind="options:applyList,optionsText:'name',optionsValue:'value',value:model_VDC().vdcCartInfo().applyNum"></select> 个月
				</label>
			</div>
			<div class="radio disabled">
				<label class="form-inline"> 
					<input type="radio" class="form-control" style="top: 2px;" value="3" data-bind="checked: model_VDC().vdcCartInfo().applyType,name:vdcRadio"> 
					<input type="text" style="width: 206px" class="form-control applyDateFormat" data-bind="value:model_VDC().vdcCartInfo().applyTime">
				</label>
			</div>
			</div>
        </div>
        <div class="form-group" data-bind="visible:model_VDC().vdcCartInfo().charge()=='YES'">
          <div>
            <label class="col-sm-3 control-label">套餐：</label>
            <div class="col-sm-2">
                <select class="form-control"  data-bind="options:billRoleList,optionsText:'name',optionsValue:'value',value:model_VDC().vdcCartInfo().billRuleUuid"></select>
            </div>
            <span class="col-sm-3 control-label text-left">费用：100/月</span>
          </div>
        </div>

      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info" data-bind="click: $root.addToOrder">提交订单</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>
<!-- VDC -->
<!-- 新增分区 -->
<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isAdd_partition }">
  <div class='modal-dialog '>
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>添加分区</h3>
      </div>
      <div class='modal-body form-horizontal row'>
        <div class="form-group">
          <label class="col-sm-3 control-label">分区名称：<i style="color: red">*</i></label>
          <div class="col-sm-8">
            <input type="text" class="form-control col-sm-5" placeholder="请输入名称" data-bind="value:partitions().name">
          </div>
        </div>
        
        <div class="form-group">
          <label class="col-sm-3 control-label">分区大小(G)：<i style="color: red">*</i></label>
          <div class="col-sm-8">
            <input type="text" class="form-control col-sm-5" placeholder="请输入分区大小" data-bind="value:partitions().size">
          </div>
        </div>
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info" data-bind="click: savePartitions">确定</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>
<!-- 新增分区 -->
<!-- 修改分区 -->
<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isUpdate_partition }">
  <div class='modal-dialog'>
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>修改分区</h3>
      </div>
      <div class='modal-body form-horizontal row'>
        <div class="form-group">
          <label class="col-sm-3 control-label">分区名称：<i style="color: red">*</i></label>
          <div class="col-sm-8">
            <input type="text" class="form-control col-sm-5" placeholder="请输入名称" data-bind="value:partitions().name">
          </div>
        </div>
        
        <div class="form-group">
          <label class="col-sm-3 control-label">分区大小(G)：<i style="color: red">*</i></label>
          <div class="col-sm-8">
            <input type="text" class="form-control col-sm-5" placeholder="请输入分区大小" data-bind="value:partitions().size">
          </div>
        </div>
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info" data-bind="click: submitPartitions">确定</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>
<!-- 修改分区 -->

<!-- 挂载云盘 -->
<!-- <div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isAdd_mountdisk }">
  <div class='modal-dialog '>
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>云硬盘服务</h3>
      </div>
      <div class='modal-body'>
         <div class="" data-bind="with: table_VM">
            <table class="table">
			    <thead>
				    <th><label class="i-checks"><input type="checkbox"  data-bind="checked: isSelectedAll"><i></i></label>全选</th>
					<th>硬盘服务名称</th>
					<th>硬盘类型</th>
					<th>大小</th>
			    </thead>
				<tbody>
				     <tr data-bind="visible: showNoData">
					     <td colspan="6" class="aligncenter">
					              		This table has no data.
					     </td>
					 </tr>
		          	 ko foreach: {data: pagedRows, as: '$row'} 
					<tr>
						<td><label class="i-checks"><input type="checkbox" data-bind="checkedValue: $data, checked: $parent.chosenItems"/><i></i></label></td>
						<td data-bind="text:name"></td>
						<td data-bind="text:name"></td>
						<td data-bind="text:name"></td>
					</tr>
		          	/ko
		        </tbody>
			</table>
			</div>
			<footer class="panel-footer" data-bind="with: table_VM">
				<ul class="pagination">
			        <li data-bind="css: leftPagerClass, click: prevPage">
			          <a href="#">&laquo;</a>
			        </li>
			        ko foreach: {data: (new Array(pages()))}
			        <li data-bind="css: $parent.pageClass($index() + 1)">
			          <a href="#" data-bind="text: $index() + 1, click: $parent.gotoPage($index() + 1)"></a>
			        </li>
			        /ko
			        <li data-bind="css: rightPagerClass, click: nextPage">
			          <a href="#">&raquo;</a>
			        </li>
			    </ul>
	    	</footer>
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info" data-bind="click: saveMountdisks">确定</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div> -->





<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isAdd_mountdisk }">
      <div class='modal-dialog modal-lg' role='document'>
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>添加云硬盘服务</h3>
      </div>
      <div class='modal-body'>
        <div>
          <div class="row" id="net_0">
            <div class="col-xs-5">
              <p>待选择：</p>
              <div class="table-responsive" data-bind="with: table_VM">
                 <table class="table table-striped">
                  <thead>
				    <th><label class="i-checks"><input type="checkbox"  data-bind="checked: isSelectedAll"><i></i></label>全选</th>
					<th>硬盘服务名称</th>
					<th>硬盘类型</th>
					<th>大小</th>
			    </thead>
				<tbody>
				     <tr data-bind="visible: showNoData">
					     <td colspan="6" class="aligncenter">
					              		This table has no data.
					     </td>
					 </tr>
		          	 <!-- ko foreach: {data: pagedRows, as: '$row'}  -->
					<tr>
						<td><label class="i-checks"><input type="checkbox" data-bind="checkedValue: $data, checked: $parent.chosenItems"/><i></i></label></td>
						<td data-bind="text:name"></td>
						<td data-bind="text:name"></td>
						<td data-bind="text:name"></td>
					</tr>
		          	<!-- /ko -->
		        </tbody>
              </table>
              </div>
              <footer class="panel-footer" data-bind="with: table_VM">
				<ul class="pagination">
			        <li data-bind="css: leftPagerClass, click: prevPage">
			          <a href="#">&laquo;</a>
			        </li>
			        <!-- ko foreach: {data: (new Array(pages()))} -->
			        <li data-bind="css: $parent.pageClass($index() + 1)">
			          <a href="#" data-bind="text: $index() + 1, click: $parent.gotoPage($index() + 1)"></a>
			        </li>
			        <!-- /ko -->
			        <li data-bind="css: rightPagerClass, click: nextPage">
			          <a href="#">&raquo;</a>
			        </li>
			    </ul>
	    	</footer>  
            </div>
            <div class="col-xs-2">
              <button class="btn btn-block btn-default" style="margin-top:150px"  data-bind="click:$root.toRight">&gt;&gt;</button>
              <button class="btn btn-block btn-default" data-bind="click:$root.toLeft">&lt;&lt;</button>
            </div>
            <div class="col-xs-5">
              <p>已选择：</p>
              <div class="table-responsive">               
              <table class="table table-striped">
                    <thead>
					    <th></th>
						<th>硬盘服务名称</th>
						<th>硬盘类型</th>
						<th>大小</th>
				    </thead>
					<tbody data-bind="foreach:rightData">
						<tr>
							<td><label class="i-checks"><i></i></label></td>
							<td data-bind="text:name"></td>
							<td data-bind="text:name"></td>
							<td data-bind="text:name"></td>
						</tr>
			        </tbody>
              </table>
              </div>
              
            </div>
          </div>
        </div>
      </div>
      <div class='modal-footer'>
        <input type="button" name="commit" value="确定" class="btn btn-default btn-info" data-bind="click: saveMountdisks"/>
        <button name="button" type="submit" class="btn btn-default btn btn-default" data-dismiss="modal">取消</button>
      </div>
    </div>
  </div>   
</div>
<!-- 挂载云盘  -->
<!-- 修改挂载云盘 -->
<!-- <div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isUpdate_mountdisk }">
  <div class='modal-dialog '>
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>修改分区</h3>
      </div>
      <div class='modal-body form-horizontal row'>
        <div class="form-group">
          <label class="col-sm-3 control-label">分区名称：</label>
          <div class="col-sm-8">
            <input type="text" class="form-control col-sm-5" placeholder="请输入名称" data-bind="value:partitions().name">
          </div>
        </div>
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info" data-bind="click: submitPartitions">确定</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div> -->
<!-- 修改挂载云盘 -->