<style>
	.checkbox{font-size:14px;margin:0;}
	.carts-list-box{padding:20px 20px 0;}
	.table > tbody > tr > th{padding:8px 15px;}
</style>
<div class="bg-light lter b-b wrapper-sm">
  <ol class="breadcrumb">
    <li>当前位置：</li>
    <li>服务</li>
    <li class="active">购物车</li>
  </ol>
</div>
<div class='wrapper-md'>
  <div class="panel panel-default">
  <div class="wrapper-md">
    <div class="clearfix">
      <span class="pull-left corner-1"></span>
      <span class="pull-right corner-2"></span>
    </div>
  </div>
  <div class="wrapper-md">
	<div class="form-inline">
    <div class="checkbox">
      <label class="i-checks">
        <input type="checkbox" checked>
        <i></i>全选
      </label>
    </div>
		<a class="btn btn-primary btn-sm">生成订单</a>
	</div>
	<div class="carts-list-box">
		<div class="form-inline">
			<div class="checkbox">
        <label class="i-checks">
          <input type="checkbox" checked>
          <i></i>云主机
			  </label>
			</div>
			<span class="badge">2</span>
		</div>
		<div class="panel panel-default table-responsive no-height" style="margin:10px 15px">
          <table class="table table-striped">
            <thead>
              <th>
                <div class="checkbox">
                  <label class="i-checks">
                    <input type="checkbox" checked>
                    <i></i>
                  </label>
                </div>
              </th>
              <th>云主机名称</th>
              <th>操作系统版本</th>
              <th>CPU(核)</th>
              <th>内存(G)</th>
              <th>存储(G)</th>
              <th>所属VDC</th>
              <th>IP地址</th>
              <th>申请时长</th>
              <th>操作</th>
            </thead>
            <tbody>
              <tr>
	              <td>
                  <div class="checkbox">
                    <label class="i-checks">
                      <input type="checkbox" checked>
                      <i></i>
                    </label>
                  </div>
                </td>
	              <td>云主机1</td>
	              <td>windows server 2008 64bit</td>
	              <td>2</td>
	              <td>2</td>
	              <td>200</td>
	              <td>研发部</td>
	              <td>10.10.0.3</td>
	              <td>2016-4-15至2016-6-15</td>
	              <td><a onclick="showModal('pages/services/product/modal1.html')">查看</a> | <a onclick="showModal('pages/services/product/modal1.html')">修改</a> | <a onclick="confirm('确定删除吗？')">删除</a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
	</div>

	<div class="carts-list-box">
		<div class="form-inline">
			<div class="checkbox">
        <label class="i-checks">
          <input type="checkbox" checked>
          <i></i>云硬盘
        </label>
			</div>
			<span class="badge">1</span>
		</div>
		<div class="panel panel-default table-responsive no-height" style="margin:10px 15px">
          <table class="table table-striped">
            <thead>
              <th>
                <div class="checkbox">
                  <label class="i-checks">
                    <input type="checkbox" checked>
                    <i></i>
                  </label>
                </div>
              </th>
              <th>云硬盘名称</th>
              <th>存储(G)</th>
              <th>挂载云主机</th>
              <th>所属VDC</th>
              <th>操作</th>
            </thead>
            <tbody>
              <!-- ko foreach: vdiskList  -->
              <tr>
              	<td>
                  <div class="checkbox">
                    <label class="i-checks">
                      <input type="checkbox" checked>
                      <i></i>
                    </label>
                  </div>
                </td>
        				<td data-bind="text:name"></td>
        				<td data-bind="text:size"></td>
        				<td data-bind="text:mountVmUuid"></td>
        				<td data-bind="text:vdcUuId">研发部</td>
        				<td><a data-bind="click: function(data, event){ $root.queryElement('vdiskCartInfo',data,event) }">查看</a> 
        				| <a data-bind="click: function(data, event){ $root.editElement('vdiskCartInfo',data,event) }">修改</a> 
        				| <a data-bind="click: function(data, event){ $root.deleteElement('vdiskCartInfo',data,event) }">删除</a>
                </td>
              </tr>
              <!-- /ko -->
            </tbody>
          </table>
        </div>
    </div>

    <div class="carts-list-box">
		<div class="form-inline">
			<div class="checkbox">
			  <label class="i-checks">
          <input type="checkbox" checked>
          <i></i>对象存储
        </label>
			</div>
			<span class="badge">1</span>
		</div>
		<div class="panel panel-default table-responsive no-height" style="margin:10px 15px">
          <table class="table table-striped">
            <thead>
              <th>
                <div class="checkbox">
                  <label class="i-checks">
                    <input type="checkbox" checked>
                    <i></i>
                  </label>
                </div>
              </th>
              <th>对象存储名称</th>
              <th>存储(G)</th>
              <th>所属VDC</th>
              <th>申请时长</th>
              <th>操作</th>
            </thead>
            <tbody>
              <!-- ko foreach: objectStorageList  -->
              <tr>
              	<td>
                  <div class="checkbox">
                    <label class="i-checks">
                      <input type="checkbox" checked>
                      <i></i>
                    </label>
                  </div>
                </td>
               	<td data-bind="text:name"></td>
 				<td data-bind="text:size"></td>
 				<td data-bind="text:vdcUuid"></td>
 				<td data-bind="text:applyType">研发部</td>
				<td><a data-bind="click: function(data, event){ $root.queryElement('objectStorageCartInfo',data,event) }">查看</a> 
        				| <a data-bind="click: function(data, event){ $root.editElement('objectStorageCartInfo',data,event) }">修改</a> 
        				| <a data-bind="click: function(data, event){ $root.deleteElement('objectStorageCartInfo',data,event) }">删除</a>
        		</td>
              </tr>
              <!-- /ko -->
            </tbody>
          </table>
        </div>
    </div>

    <div class="carts-list-box">
		<div class="form-inline">
			<div class="checkbox">
			  <label class="i-checks">
          <input type="checkbox" checked>
          <i></i>公网IP
        </label>
			</div>
			<span class="badge">1</span>
		</div>
		<div class="panel panel-default table-responsive no-height" style="margin:10px 15px">
          <table class="table table-striped">
            <thead>
              <th>
                <div class="checkbox">
                  <label class="i-checks">
                    <input type="checkbox" checked>
                    <i></i>
                  </label>
                </div>
              </th>
              <th>公网IP名称</th>
              <th>所属VDC</th>
              <th>网络类型</th>
              <th>网络名称</th>
              <th>指定IP</th>
              <th>申请时长</th>
              <th>操作</th>
            </thead>
            <tbody>
              <tr>
              	<td>
                  <div class="checkbox">
                    <label class="i-checks">
                      <input type="checkbox" checked>
                      <i></i>
                    </label>
                  </div>
                </td>
				<td>公网IP1</td>
				<td>研发部</td>
				<td>互联网网络</td>
				<td>通用</td>
				<td>172.18.0.3</td>
				<td>永久</td>
				<td><a onclick="showModal('pages/services/product/modal4.html')">查看</a> | <a onclick="showModal('pages/services/product/modal4.html')">修改</a> | <a onclick="confirm('确定删除吗？')">删除</a></td>
              </tr>
            </tbody>
          </table>
        </div>
    </div>

    <div class="carts-list-box">
		<div class="form-inline">
			<div class="checkbox">
        <label class="i-checks">
          <input type="checkbox" checked>
          <i></i>负载均衡器
        </label>
			</div>
			<span class="badge">1</span>
		</div>
		<div class="panel panel-default table-responsive no-height" style="margin:10px 15px">
          <table class="table table-striped">
            <thead>
              <th>
                <div class="checkbox">
                  <label class="i-checks">
                    <input type="checkbox" checked>
                    <i></i>
                  </label>
                </div>
              </th>
              <th>负载均衡器名称</th>
              <th>所属VDC</th>
              <th>申请时长</th>
              <th>操作</th>
            </thead>
            <tbody>
              <tr>
              	<td>
                  <div class="checkbox">
                    <label class="i-checks">
                      <input type="checkbox" checked>
                      <i></i>
                    </label>
                  </div>
                </td>
				<td>公网IP1</td>
				<td>研发部</td>
				<td>永久</td>
				<td><a onclick="showModal('pages/services/product/modal5.html')">查看</a> | <a onclick="showModal('pages/services/product/modal5.html')">修改</a> | <a onclick="confirm('确定删除吗？')">删除</a></td>
              </tr>
            </tbody>
          </table>
        </div>
    </div>

    <div class="carts-list-box">
		<div class="form-inline">
			<div class="checkbox">
        <label class="i-checks">
          <input type="checkbox" checked>
          <i></i>SSH密钥
        </label>        
			</div>
			<span class="badge">1</span>
		</div>
		<div class="panel panel-default table-responsive no-height" style="margin:10px 15px">
          <table class="table table-striped">
            <thead>
              <th>
                <div class="checkbox">
                  <label class="i-checks">
                    <input type="checkbox" checked>
                    <i></i>
                  </label>
                </div>
              </th>
              <th>SSH密钥名称</th>
              <th>所属VDC</th>
              <th>操作</th>
            </thead>
            <tbody>
              <tr>
              	<td>
                  <div class="checkbox">
                    <label class="i-checks">
                      <input type="checkbox" checked>
                      <i></i>
                    </label>
                  </div>
                </td>
				<td>SSH密钥1</td>
				<td>研发部</td>
				<td><a onclick="showModal('pages/services/product/modal6.html')">查看</a> | <a onclick="showModal('pages/services/product/modal6.html')">修改</a> | <a onclick="confirm('确定删除吗？')">删除</a></td>
              </tr>
            </tbody>
          </table>
        </div>
    </div>
	
  	<div class="form-inline" style="margin-top:20px;">
  		<div class="checkbox">
        <label class="i-checks">
          <input type="checkbox" checked>
          <i></i>全选
        </label>
      </div>
  		<a class="btn btn-primary btn-sm">生成订单</a>
  	</div>

    <div class="wrapper-md">
      <div class="clearfix">
        <span class="pull-left corner-3"></span>
        <span class="pull-right corner-4"></span>
      </div>
    </div>

  </div>
	
</div>

<!-- page specific plugin scripts -->
<script type="text/javascript">
  var scripts = [null, null]
  $('.page-content-area').ace_ajax('loadScripts', scripts, function(args) {

// 	 	csc.rest.get('api/v5.0.0/cart',function(data){
// 	 		vdiskList = data['vdiskCartInfo'];		 		
// 	 		console.log(vdiskList);s
// 	 		objectStorageList = data['objectStorageCartInfo'];
// 	 		publicNetworkList = data['publicNetworkCartInfo'];
// 	    }); 
	 	
	 	function ViewModel(){
		    var self = this;
		      
		    this.vdiskList = ko.observableArray();
		    this.objectStorageList = ko.observableArray();
 		 	csc.rest.get('api/v5.0.0/cart',function(data){
 		 		console.log(data['vdiskCartInfo']); 		
		 		self.vdiskList(data['vdiskCartInfo']);
		 		self.objectStorageList(data['objectStorageCartInfo']);
		 		publicNetworkList = data['publicNetworkCartInfo'];
		    }); 
 		 	
 		 	this.isView_Vdisk = ko.observable(false);
 		 	this.isView_ObjectStorage = ko.observable(false); 
 		 	
 		 	this.model_Vdisk = ko.validatedObservable({
			    	vdiskCartInfo:ko.observable({
			    			id:"",
			    			name:"",
			    			size:"",
			    			vdcUuId:"",
			    			mountVmUuid:""	
	 			    	})
 		 	});
 		 	
 		 	this.model_ObjectStorage = ko.validatedObservable({
		    	objectStorageCartInfo:ko.observable({
		    			id:"",
		    			name:"",
		    			size:"",
		    			applyTime:"",
		    			vdcUuId:"",
		    			billRuleUuid:""	
 			    	})
		 	});
 		 	
 		 	this.queryElement = function(arg,object, event){
 	 		 	csc.rest.get('api/v5.0.0/cart/query/'+arg+'/'+object.id,function(data){
 	 		 	  console.log(data);
 	 		 	  if(arg=='vdiskCartInfo'){
 	 		 		self.model_Vdisk().vdiskCartInfo(data);
 	 		 		self.isView_Vdisk(true);	
 	 		 	  }else if(arg=='objectStorageCartInfo'){
 	 		 		self.model_ObjectStorage().objectStorageCartInfo(data);
 	 		 		self.isView_ObjectStorage(true);	 		 		  
 	 		 	  }
 			    }); 
 		 	}
 		 	
 		 	this.isEdit_Vdisk = ko.observable(false);
 		 	this.isEdit_ObjectStorage = ko.observable(false);
 		 	
 		 	this.editElement = function(arg,object, event){
 	 		 	csc.rest.get('api/v5.0.0/cart/query/'+arg+'/'+object.id,function(data){
 	 	 		 	  if(arg=='vdiskCartInfo'){
	 	 	 		 		self.model_Vdisk().vdiskCartInfo(data);
	 	 	 		 		self.model_Vdisk().vdiskCartInfo().id = object.id;
	 	  	 		 		self.isEdit_Vdisk(true);	
 	  	 		 	  }else if(arg=='objectStorageCartInfo'){
 	 	 	 		 		self.model_ObjectStorage().objectStorageCartInfo(data);
 	 	 	 		 		self.model_ObjectStorage().objectStorageCartInfo().id = object.id;
 	 	  	 		 		self.isEdit_ObjectStorage(true);	 		 		  
 	 	 		 	  }
 	 			    }); 	 		
 		 	}
 		 		 	
	      	this.deleteElement = function(arg,object,event){
  	      		systemMsg.confirm("确定删除"+object.name+"吗?",function(){debugger
	 	 		 	csc.rest.del('api/v5.0.0/cart/delete/'+arg+'/'+object.id,function(data){
	 	 		 		 systemMsg.alert('删除成功！');	
	 	 	 		 	 if(arg=='vdiskCartInfo'){
	 	 	 		 		self.vdiskList.remove(object);	
	 	 	  	 		 }else if(arg=="objectStorageCartInfo"){
	 	 	  	 			self.objectStorageList.remove(object);	
	 	 	  	 		 }
	 			    }); 
	      		});
	      	}
	      	
	      	this.confirmCommit = function(arg){
	      		var json;
	      		if(arg=="vdiskCartInfo"){
					json = this.model_Vdisk.toJSON();
	      		}else if(arg=="objectStorageCartInfo"){
	      			json = this.model_ObjectStorage.toJSON();
	      		}

			 	 csc.rest.put('api/v5.0.0/cart/update',json,function(data){
			 		systemMsg.alert('修改成功！');
			 		self.isEdit_Vdisk(false);
			 		self.isEdit_ObjectStorage(false);
			    }); 

	      		
	      	}
	    }
		ko.applyBindings(new ViewModel, $('#page-content .tab-pane')[0]);
  });
</script>




<!-- 云硬盘查看 -->
<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isView_Vdisk}">	
  <div class='modal-dialog modal-lg' style="width:800px;">
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>查看云硬盘服务</h3>
      </div>
      <div class='modal-body'>
        <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
          <table class="table table-striped">
            <thead>
              <tr>
              <th>云硬盘名称<i style="color:red">*</i></th>
              <th>存储大小(G)<i style="color:red">*</i></th>
              <th>所属VDC<i style="color:red">*</i></th>
              <th>挂载云主机</th>
              <th>收费标准</th>
            </tr></thead>
            <tbody><tr>
            <td><span data-bind="text:model_Vdisk().vdiskCartInfo().name"></span></td>
            <td><span data-bind="text:model_Vdisk().vdiskCartInfo().size"></span></td>
            <td><span data-bind="text:model_Vdisk().vdiskCartInfo().vdcUuId"></span></td>
            <td><span data-bind="text:model_Vdisk().vdiskCartInfo().mountVmUuid"></span></td>
            <td>0.5元/小时</td></tr></tbody>
          </table>
        </div>
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn btn-default" data-dismiss="modal">返回</a>
      </div>
    </div>
  </div>
</div>
<!-- 云硬盘查看 -->
<!-- 云硬盘修改 -->
<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isEdit_Vdisk}">	
  <div class='modal-dialog modal-lg' style="width:800px;">
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>修改云硬盘服务</h3>
      </div>
      <div class='modal-body'>
        <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
        <input style="display:none" type="text" class="form-control input-sm" data-bind="value:model_Vdisk().vdiskCartInfo().id">
          <table class="table table-striped">
            <thead>
              <tr>
              <th>云硬盘名称<i style="color:red">*</i></th>
              <th>存储大小(G)<i style="color:red">*</i></th>
              <th>所属VDC<i style="color:red">*</i></th>
              <th>挂载云主机</th>
              <th>收费标准</th>
            </tr></thead>
            <tbody><tr>
            <td><input type="text" class="form-control input-sm" data-bind="value:model_Vdisk().vdiskCartInfo().name"></td>
            <td><input type="text" class="form-control input-sm" data-bind="value:model_Vdisk().vdiskCartInfo().size"></td>
            <td><input type="text" class="form-control input-sm" data-bind="value:model_Vdisk().vdiskCartInfo().vdcUuId"></td>
            <td><input type="text" class="form-control input-sm" data-bind="value:model_Vdisk().vdiskCartInfo().mountVmUuid"></td>
            <td>0.5元/小时</td></tr></tbody>
          </table>
        </div>
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info" data-bind="click: function(data, event){ $root.confirmCommit('vdiskCartInfo') }">确定</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>
<!-- 云硬盘修改 -->
<!-- 对象存储查看 -->
<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isView_ObjectStorage}">
  <div class='modal-dialog modal-lg' style="width:800px;">
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>修改对象存储服务</h3>
      </div>
      <div class='modal-body'>
        <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
          <table class="table table-striped">
            <thead>
              <tr>
              <th>对象存储名称<i style="color:red">*</i></th>
              <th>存储大小(G)<i style="color:red">*</i></th>
              <th>所属VDC<i style="color:red">*</i></th>
              <th>申请时长</th>
              <th>套餐</th>
              <th>收费标准</th>
            </tr></thead>
            <tbody>
            <tr>
	            <td><span data-bind="text:model_ObjectStorage().objectStorageCartInfo().name"></span></td>
	            <td><span data-bind="text:model_ObjectStorage().objectStorageCartInfo().size"></span></td>
	            <td><span data-bind="text:model_ObjectStorage().objectStorageCartInfo().vdcUuid"></span></td>
	            <td><span data-bind="text:model_ObjectStorage().objectStorageCartInfo().applyTime"></span></td>
	            <td><span data-bind="text:model_ObjectStorage().objectStorageCartInfo().billRuleUuid"></span></td>
	            <td>0.5元/小时</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn btn-default" data-dismiss="modal">返回</a>
      </div>
    </div>
  </div>
</div>
<!-- 对象存储查看 -->
<!-- 对象存储修改 -->
<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isEdit_ObjectStorage}">
  <div class='modal-dialog modal-lg' style="width:800px;">
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>修改对象存储服务</h3>
      </div>
      <div class='modal-body'>
      	<input style="display:none" type="text" class="form-control input-sm" data-bind="value:model_ObjectStorage().objectStorageCartInfo().id">
        <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
          <table class="table table-striped">
            <thead>
              <tr>
              <th>对象存储名称<i style="color:red">*</i></th>
              <th>存储大小(G)<i style="color:red">*</i></th>
              <th>所属VDC<i style="color:red">*</i></th>
              <th>申请时长</th>
              <th>套餐</th>
              <th>收费标准</th>
            </tr></thead>
            <tbody>
            <tr>
	            <td><input type="text" class="form-control input-sm" data-bind="value:model_ObjectStorage().objectStorageCartInfo().name"></td>
	            <td><input type="text" class="form-control input-sm" data-bind="value:model_ObjectStorage().objectStorageCartInfo().size"></td>
	            <td><input type="text" class="form-control input-sm" data-bind="value:model_ObjectStorage().objectStorageCartInfo().vdcUuid"></td>
	            <td><input type="text" class="form-control input-sm" data-bind="value:model_ObjectStorage().objectStorageCartInfo().applyTime"></td>
	            <td><input type="text" class="form-control input-sm" data-bind="value:model_ObjectStorage().objectStorageCartInfo().billRuleUuid"></td>
	            <td>0.5元/小时</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info" data-bind="click: function(data, event){ $root.confirmCommit('objectStorageCartInfo') }">确定</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>
<!-- 对象存储修改 -->