 <div class="bg-light lter b-b wrapper-sm">
    <ol class="breadcrumb">
        <li>当前位置：</li>
        <li>服务</li>
        <li class="active">购物车</li>
    </ol>
</div>

<div class='wrapper-md'>
    <div class="panel panel-default wrapper">
      <div class="form-inline">
          <div class="checkbox m-l-xs">
              <label class="i-checks">
                  <input type="checkbox" data-bind="checked: isSelectedAll">
                  <i></i>全选
              </label>
          </div>
          <a class="btn btn-info btn-sm" data-bind="click: generateOrder">生成订单</a>
      </div>
    </div>

    <div class="panel panel-default m-b-sm">
        <div class="carts-list-title form-inline">
            <div class="checkbox">
                <label class="i-checks">
                    <input type="checkbox" data-bind="checked: vmList_isSelectedAll">
                    <i></i>云主机
                </label>
            </div>
            <span class="badge bg-danger" data-bind="text:vmNum"></span>
        </div>
        <div class="carts-list-box">
            <div class="table-responsive no-height">
                <table class="table">
                    <thead>
                        <th></th>
                        <th>云主机名称</th>
                        <th>操作系统版本</th>
                        <th>CPU(个)</th>
                        <th>内存(G)</th>
                        <th>存储(G)</th>
                        <th>挂载云盘个数</th>
                        <th>云软件个数</th>
                        <th>所属VDC</th>
                        <th>VPC/IP池</th>
                        <th>网络名称</th>
                        <th>可用分区</th>
                        <th>申请时长</th>
                        <th>操作</th>
                    </thead>
                    <tbody>
                        <!-- ko foreach: vmList  -->
                        <tr>
                            <td>
                                <div class="checkbox">
                                    <label class="i-checks">
                                        <input type="checkbox" data-bind="checkedValue: $data, checked: $root.vmList_chosens"><i></i></label>
                                </div>
                            </td>
                            <td data-bind="text:vmName"></td>
                            <td data-bind="text:osVersionText"></td>
                            <td data-bind="text:cpu"></td>
                            <td data-bind="text:memory"></td>
                            <td data-bind="text:storage"></td>
                            <td data-bind="text:mountDiskNum"></td>
                            <td data-bind="text:softwareNum"></td>
                            <td data-bind="text:vdcName"></td>
                            <td data-bind="text:vpcName"></td>
                            <td data-bind="text:vpcNetworkName"></td>
                            <td data-bind="text:azName"></td>
                            <td data-bind="text:applyText"></td>
                            <td><a data-bind="click: function(data, event){ $root.editElement('view','vmCartInfo',data,event) }"><i class="fa fa-search fa-lg text-success m-r-sm" title="查看"></i></a>  <a data-bind="click: function(data, event){ $root.editElement('edit','vmCartInfo',data,event) }"><i class="fa fa-pencil fa-lg text-info m-r-sm" title="修改"></i></a>  <a data-bind="click: function(data, event){ $root.deleteElement('vmCartInfo',data,event) }"><i class="fa fa-close fa-lg text-danger" title="删除"></i></a>
                            </td>
                        </tr>
                        <!-- /ko -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="panel panel-default m-b-sm">
        <div class="carts-list-title form-inline">
            <div class="checkbox">
                <label class="i-checks">
                    <input type="checkbox" data-bind="checked: vdiskList_isSelectedAll">
                    <i></i>云硬盘
                </label>
            </div>
            <span class="badge bg-danger" data-bind="text:vdiskNum">1</span>
        </div>
        <div class="carts-list-box">
            <div class="table-responsive no-height">
                <table class="table">
                    <thead>
                        <th>
                        </th>
                        <th>云硬盘名称</th>
                        <th>存储(G)</th>
                        <th>挂载云主机</th>
                        <th>所属VDC</th>
                        <th>可用分区</th>
                        <th>申请时长</th>
                        <th>操作</th>
                    </thead>
                    <tbody>
                        <!-- ko foreach: vdiskList  -->
                        <tr>
                            <td>
                                <div class="checkbox">
                                    <label class="i-checks">
                                        <input type="checkbox" data-bind="checkedValue: $data, checked: $root.vdiskList_chosens">
                                        <i></i>
                                    </label>
                                </div>
                            </td>
                            <td data-bind="text:name"></td>
                            <td data-bind="text:size"></td>
                            <td data-bind="text:mountVmName"></td>
                            <td data-bind="text:vdcName"></td>
                            <td data-bind="text:azName"></td>
                            <td data-bind="text:applyText"></td>
                            <td><a data-bind="click: function(data, event){ $root.editElement('view','vdiskCartInfo',data,event) }"><i class="fa fa-search fa-lg text-success m-r-sm" title="查看"></i></a> <a data-bind="click: function(data, event){ $root.editElement('edit','vdiskCartInfo',data,event) }"><i class="fa fa-pencil fa-lg text-info m-r-sm" title="修改"></i></a> <a data-bind="click: function(data, event){ $root.deleteElement('vdiskCartInfo',data,event) }"><i class="fa fa-close fa-lg text-danger" title="删除"></i></a>
                            </td>
                        </tr>
                        <!-- /ko -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="panel panel-default m-b-sm">
        <div class="carts-list-title form-inline">
            <div class="checkbox">
                <label class="i-checks">
                    <input type="checkbox" data-bind="checked: objectStorageList_isSelectedAll">
                    <i></i>对象存储
                </label>
            </div>
            <span class="badge bg-danger" data-bind="text:objectStorageNum"></span>
        </div>
        <div class="carts-list-box">
            <div class="table-responsive no-height">
                <table class="table">
                    <thead>
                        <th>
                        </th>
                        <th>对象存储名称</th>
                        <th>存储(G)</th>
                        <th>所属VDC</th>
                        <th>可用分区</th>
                        <th>申请时长</th>
                        <th>操作</th>
                    </thead>
                    <tbody>
                        <!-- ko foreach: objectStorageList  -->
                        <tr>
                            <td>
                                <div class="checkbox">
                                    <label class="i-checks">
                                        <input type="checkbox" data-bind="checkedValue: $data, checked: $root.objectStorageList_chosens">
                                        <i></i>
                                    </label>
                                </div>
                            </td>
                            <td data-bind="text:name"></td>
                            <td data-bind="text:size"></td>
                            <td data-bind="text:vdcName"></td>
                            <td data-bind="text:azName"></td>
                            <td data-bind="text:applyText"></td>
                            <td><a data-bind="click: function(data, event){ $root.editElement('view','objectStorageCartInfo',data,event) }"><i class="fa fa-search fa-lg text-success m-r-sm" title="查看"></i></a> <a data-bind="click: function(data, event){ $root.editElement('edit','objectStorageCartInfo',data,event) }"><i class="fa fa-pencil fa-lg text-info m-r-sm" title="修改"></i></a> <a data-bind="click: function(data, event){ $root.deleteElement('objectStorageCartInfo',data,event) }"><i class="fa fa-close fa-lg text-danger" title="删除"></i></a>
                            </td>
                        </tr>
                        <!-- /ko -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="panel panel-default m-b-sm">
        <div class="carts-list-title form-inline">
            <div class="checkbox">
                <label class="i-checks">
                    <input type="checkbox" data-bind="checked: publicNetworkList_isSelectedAll">
                    <i></i>公网IP
                </label>
            </div>
            <span class="badge bg-danger" data-bind="text:publicNetworkNum"></span>
        </div>
        <div class="carts-list-box">
            <div class="table-responsive no-height">
                <table class="table">
                    <thead>
                        <th>
                        </th>
                        <th>公网IP名称</th>
                        <th>所属VDC</th>
                        <th>所属VPC</th>
                        <th>网络名称</th>
                        <th>可用分区</th>
                        <th>申请时长</th>
                        <th>操作</th>
                    </thead>
                    <tbody>
                        <!-- ko foreach:publicNetworkList -->
                        <tr>
                            <td>
                                <div class="checkbox">
                                    <label class="i-checks">
                                        <input type="checkbox" data-bind="checkedValue: $data, checked: $root.publicNetworkList_chosens">
                                        <i></i>
                                    </label>
                                </div>
                            </td>
                            <td data-bind="text:name"></td>
                            <td data-bind="text:vdcName"></td>
                            <td data-bind="text:vpcName"></td>
                            <td data-bind="text:netWorkName"></td>
                            <td data-bind="text:azName"></td>
                            <td data-bind="text:applyText"></td>
                            <td>
                                <a data-bind="click: function(data, event){ $root.editElement('view','publicNetworkCartInfo',data,event) }"><i class="fa fa-search fa-lg text-success m-r-sm" title="查看"></i></a> <a data-bind="click: function(data, event){ $root.editElement('edit','publicNetworkCartInfo',data,event) }"><i class="fa fa-pencil fa-lg text-info m-r-sm" title="修改"></i></a> <a data-bind="click: function(data, event){ $root.deleteElement('publicNetworkCartInfo',data,event) }"><i class="fa fa-close fa-lg text-danger" title="删除"></i></a>
                            </td>
                        </tr>
                        <!-- /ko -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="panel panel-default m-b-sm">
        <div class="carts-list-title form-inline">
            <div class="checkbox">
                <label class="i-checks">
                    <input type="checkbox" data-bind="checked: loadbalancerList_isSelectedAll">
                    <i></i>负载均衡器
                </label>
            </div>
            <span class="badge bg-danger" data-bind="text:lbNum"></span>
        </div>
        <div class="carts-list-box">
            <div class="table-responsive no-height">
                <table class="table">
                    <thead>
                        <th>
                        </th>
                        <th>负载均衡器名称</th>
                        <th>所属VDC</th>
                        <th>可用分区</th>
                        <th>申请时长</th>
                        <th>操作</th>
                    </thead>
                    <tbody>
                        <!-- ko foreach:loadbalancerList -->
                        <tr>
                            <td>
                                <div class="checkbox">
                                    <label class="i-checks">
                                        <input type="checkbox" data-bind="checkedValue: $data, checked: $root.loadbalancerList_chosens">
                                        <i></i>
                                    </label>
                                </div>
                            </td>
                            <td data-bind="text:name"></td>
                            <td data-bind="text:vdcName">研发部</td>
                            <td data-bind="text:azName"></td>
                            <td data-bind="text:applyText"></td>
                            <td>
                                <a data-bind="click: function(data, event){ $root.editElement('view','loadbalancerCartInfo',data,event) }"><i class="fa fa-search fa-lg text-success m-r-sm" title="查看"></i></a> <a data-bind="click: function(data, event){ $root.editElement('edit','loadbalancerCartInfo',data,event) }"><i class="fa fa-pencil fa-lg text-info m-r-sm" title="修改"></i></a> <a data-bind="click: function(data, event){ $root.deleteElement('loadbalancerCartInfo',data,event) }"><i class="fa fa-close fa-lg text-danger" title="删除"></i></a>
                            </td>
                        </tr>
                        <!-- /ko -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="panel panel-default m-b-sm">
        <div class="carts-list-title form-inline">
            <div class="checkbox">
                <label class="i-checks">
                    <input type="checkbox" data-bind="checked: sshKeytList_isSelectedAll">
                    <i></i>SSH密钥
                </label>
            </div>
            <span class="badge bg-danger" data-bind="text:sshNum"></span>
        </div>
        <div class="carts-list-box">
            <div class="table-responsive no-height">
                <table class="table">
                    <thead>
                        <th>
                        </th>
                        <th>SSH密钥名称</th>
                        <th>所属VDC</th>
                        <th>可用分区</th>
                        <th>申请时长</th>
                        <th>操作</th>
                    </thead>
                    <tbody>
                        <!-- ko foreach:sshKeytList -->
                        <tr>
                            <td>
                                <div class="checkbox">
                                    <label class="i-checks">
                                        <input type="checkbox" data-bind="checkedValue: $data, checked: $root.sshKeytList_chosens">
                                        <i></i>
                                    </label>
                                </div>
                            </td>
                            <td data-bind="text:name"></td>
                            <td data-bind="text:vdcName"></td>
                            <td data-bind="text:azName"></td>
                            <td data-bind="text:applyText"></td>
                            <td>
                                <a data-bind="click: function(data, event){ $root.editElement('view','sshKeytCartInfo',data,event) }"><i class="fa fa-search fa-lg text-success m-r-sm" title="查看"></i></a> <a data-bind="click: function(data, event){ $root.editElement('edit','sshKeytCartInfo',data,event) }"><i class="fa fa-pencil fa-lg text-info m-r-sm" title="修改"></i></a> <a data-bind="click: function(data, event){ $root.deleteElement('sshKeytCartInfo',data,event) }"><i class="fa fa-close fa-lg text-danger" title="删除"></i></a>
                            </td>
                        </tr>
                        <!-- /ko -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <div class="panel panel-default clear">
      <div class="form-inline m-l-xs pull-right">
          <div class="checkbox">
              <label class="i-checks">
                  <input type="checkbox" checked>
                  <i></i>全选
              </label>
          </div>
          <a class="btn btn-info btn-sm btn-checkout">生成订单</a>
      </div>
    </div>
</div>
    <!-- page specific plugin scripts -->
    <script type="text/javascript">
    var scripts = [null, "assets/lib/moment/moment.js", "assets/lib/bootstrap-daterangepicker/daterangepicker.js", null];
    $('.page-content-area').ace_ajax('loadScripts', scripts, function(args) {
    	
    	
        $(".applyModeShow").on("shown.bs.modal", function() {
        	$('.applyDateFormat').each(function(n,v){
        		$(this).daterangepicker({
                	startDate: $(this).val(), 
                    endDate: false, 
                    singleDatePicker:true
                });
        	})
            
        })

        function ViewModel() {
            var self = this;
            var countries = [{
                name: '1',
                value: '1'
            }, {
                name: '2',
                value: '2'
            }, {
                name: '3',
                value: '3'
            }];
            this.applyList = ko.observableArray(countries);
            var sshIsMounts = [{
                name: '否',
                value: 'NO'
            }, {
                name: '是',
                value: 'YES'
            }];
            this.sshIsMountList = ko.observableArray(sshIsMounts);

            this.generateOrder = function() {
                var vdiskJson = {};
                var objectStorageJson = {};
                var publicNetworkJson = {};
                if (self.vdiskList_chosens().length > 0) {
                    vdiskJson["vdiskCartInfo"] = changeToJson(self.vdiskList_chosens());
                }
                if (self.objectStorageList_chosens().length > 0) {
                    objectStorageJson["objectStorageCartInfo"] = changeToJson(self.objectStorageList_chosens());
                }
                if (self.publicNetworkList_chosens().length > 0) {
                    publicNetworkJson["vdiskCartInfo"] = changeToJson(self.publicNetworkList_chosens());
                }
            };

            function changeToJson(list) {
                var listJson = [];
                for (var i = 0; i < list.length; i++) {
                    var obj = {};
                    for (var s in list[i]) {
                        var v = list[i][s]();
                        obj[s] = v;
                    }
                    listJson.push(obj);
                }
                return listJson;
            }

            //###########    列表、全选     ###############
            this.isSelectedAll = ko.pureComputed({
                read: function() {
                    return (this.vdiskList_chosens().length === this.vdiskList().length) && (this.objectStorageList_chosens().length === this.objectStorageList().length) && (this.publicNetworkList_chosens().length === this.publicNetworkList().length) && (this.loadbalancerList_chosens().length === this.loadbalancerList().length) && (this.sshKeytList_chosens().length === this.sshKeytList().length) && (this.vmList_chosens().length === this.vmList().length);
                },
                write: function(value) {
                    if (value) {
                        this.vdiskList_isSelectedAll(true);
                        this.objectStorageList_isSelectedAll(true);
                        this.publicNetworkList_isSelectedAll(true);
                        this.loadbalancerList_isSelectedAll(true);
                        this.sshKeytList_isSelectedAll(true);
                        this.vmList_isSelectedAll(true);
                    } else {
                        this.vdiskList_isSelectedAll(false);
                        this.objectStorageList_isSelectedAll(false);
                        this.publicNetworkList_isSelectedAll(false);
                        this.loadbalancerList_isSelectedAll(false);
                        this.sshKeytList_isSelectedAll(false);
                        this.vmList_isSelectedAll(false);
                    }
                },
                owner: this
            });

            this.vdiskList = ko.observableArray();
            this.objectStorageList = ko.observableArray();
            this.publicNetworkList = ko.observableArray();
            this.vdiskList_chosens = ko.observableArray();
            this.objectStorageList_chosens = ko.observableArray();
            this.publicNetworkList_chosens = ko.observableArray();

            this.loadbalancerList = ko.observableArray();
            this.sshKeytList = ko.observableArray();
            this.vmList = ko.observableArray();
            this.loadbalancerList_chosens = ko.observableArray();
            this.sshKeytList_chosens = ko.observableArray();
            this.vmList_chosens = ko.observableArray();

            this.vdiskList_isSelectedAll = ko.pureComputed({
                read: function() {
                    return (this.vdiskList_chosens().length > 0) && (this.vdiskList_chosens().length === this.vdiskList().length);
                },
                write: function(value) {
                    if (value) {
                        this.vdiskList_chosens([]);
                        var rows = this.vdiskList();
                        for (var i = 0; i < rows.length; i++) {
                            this.vdiskList_chosens.push(rows[i]);
                        }
                    } else {
                        this.vdiskList_chosens([]);
                    }
                },
                owner: this
            });

            this.objectStorageList_isSelectedAll = ko.pureComputed({
                read: function() {
                    return (this.objectStorageList_chosens().length > 0) && (this.objectStorageList_chosens().length === this.objectStorageList().length);
                },
                write: function(value) {
                    if (value) {
                        this.objectStorageList_chosens([]);
                        var rows = this.objectStorageList();
                        for (var i = 0; i < rows.length; i++) {
                            this.objectStorageList_chosens.push(rows[i]);
                        }
                    } else {
                        this.objectStorageList_chosens([]);
                    }
                },
                owner: this
            });

            this.publicNetworkList_isSelectedAll = ko.pureComputed({
                read: function() {
                    return (this.publicNetworkList_chosens().length > 0) && (this.publicNetworkList_chosens().length === this.publicNetworkList().length);
                },
                write: function(value) {
                    if (value) {
                        this.publicNetworkList_chosens([]);
                        var rows = this.publicNetworkList();
                        for (var i = 0; i < rows.length; i++) {
                            this.publicNetworkList_chosens.push(rows[i]);
                        }
                    } else {
                        this.publicNetworkList_chosens([]);
                    }
                },
                owner: this
            });

            this.loadbalancerList_isSelectedAll = ko.pureComputed({
                read: function() {
                    return (this.loadbalancerList_chosens().length > 0) && (this.loadbalancerList_chosens().length === this.loadbalancerList().length);
                },
                write: function(value) {
                    if (value) {
                        this.loadbalancerList_chosens([]);
                        var rows = this.loadbalancerList();
                        for (var i = 0; i < rows.length; i++) {
                            this.loadbalancerList_chosens.push(rows[i]);
                        }
                    } else {
                        this.loadbalancerList_chosens([]);
                    }
                },
                owner: this
            });

            this.sshKeytList_isSelectedAll = ko.pureComputed({
                read: function() {
                    return (this.sshKeytList_chosens().length > 0) && (this.sshKeytList_chosens().length === this.sshKeytList().length);
                },
                write: function(value) {
                    if (value) {
                        this.sshKeytList_chosens([]);
                        var rows = this.sshKeytList();
                        for (var i = 0; i < rows.length; i++) {
                            this.sshKeytList_chosens.push(rows[i]);
                        }
                    } else {
                        this.sshKeytList_chosens([]);
                    }
                },
                owner: this
            });

            this.vmList_isSelectedAll = ko.pureComputed({
                read: function() {
                    return (this.vmList_chosens().length > 0) && (this.vmList_chosens().length === this.vmList().length);
                },
                write: function(value) {
                    if (value) {
                        this.vmList_chosens([]);
                        var rows = this.vmList();
                        for (var i = 0; i < rows.length; i++) {
                            this.vmList_chosens.push(rows[i]);
                        }
                    } else {
                        this.vmList_chosens([]);
                    }
                },
                owner: this
            });

            function ListVO(obj) {
                for (var s in obj) {
                    var v = obj[s];
                    if (s == "applyText" && v == null) {
                        if ("1" == obj["applyType"]) {
                            v = "永久";
                        } else if ("2" == obj["applyType"]) {
                            v = obj["applyNum"] + "个月";
                        } else if ("3" == obj["applyType"]) {
                            v = "有效期至:" + obj["applyTime"].substr(0, 10);
                        }
                    }
                    this[s] = ko.observable(v);
                }
            }


            this.vdiskNum = ko.observable("");
            this.objectStorageNum = ko.observable("");
            this.publicNetworkNum = ko.observable("");
            this.lbNum = ko.observable("");
            this.sshNum = ko.observable("");
            this.vmNum = ko.observable("");
            csc.rest.get('api/v5.0.0/cart', function(data) {
                self.vdiskNum(data['vdiskCartInfo'].length);
                data['vdiskCartInfo'].forEach(function(e) {
                    var vo = new ListVO(e);
                    self.vdiskList.push(vo);
                });
                self.objectStorageNum(data['objectStorageCartInfo'].length);
                data['objectStorageCartInfo'].forEach(function(e) {
                    var vo = new ListVO(e);
                    self.objectStorageList.push(vo);
                });
                self.publicNetworkNum(data['publicNetworkCartInfo'].length);
                data['publicNetworkCartInfo'].forEach(function(e) {
                    var vo = new ListVO(e);
                    self.publicNetworkList.push(vo);
                });

                self.lbNum(data['loadbalancerCartInfo'].length);
                data['loadbalancerCartInfo'].forEach(function(e) {
                    var vo = new ListVO(e);
                    self.loadbalancerList.push(vo);
                });
                self.sshNum(data['sshKeytCartInfo'].length);
                data['sshKeytCartInfo'].forEach(function(e) {
                    var vo = new ListVO(e);
                    self.sshKeytList.push(vo);
                });
                self.vmNum(data['vmCartInfo'].length);
                data['vmCartInfo'].forEach(function(e) {
                    var vo = new ListVO(e);
                    self.vmList.push(vo);
                });
            });

            //##########    查看、修改、删除     ##############
            this.isView_Vdisk = ko.observable(false);
            this.isView_ObjectStorage = ko.observable(false);
            this.isView_PublicNetwork = ko.observable(false);

            this.isView_loadbalancer = ko.observable(false);
            this.isView_sshKeyt = ko.observable(false);
            this.isView_vm = ko.observable(false);

            this.vdcChange = function(arg, data, event) { //根据变化的vdc及服务ID查找其下的可用分区
                csc.rest.get("api/v5.0.0/cart/getAzList/1/" + data[arg]().vdcUuid(), function(result) { //需修改为服务UUID作为参数传递
                    data[arg]().azList(result);
                });
            };

            this.azChangeGetVm = function(arg, data, event) {
                csc.rest.get("api/v5.0.0/vms?vdcUuid=" + data[arg]().vdcUuid() + "&azUuid=" + data[arg]().azUuid(), function(result) {
                    data[arg]().vmList(result.results);
                });
            }

            this.azChangeGetVpc = function(arg, data, event) {
                csc.rest.get("api/v5.0.0/cart/getVpcList/" + data[arg]().vdcUuid() + "/" + data[arg]().azUuid(), function(result) {
                    data[arg]().vpcList(result);
                });
            }


            this.vpcChange = function(arg, data, event) {
                csc.rest.get("api/v5.0.0/cart/getNetworkList/1/" + data[arg]().vpcUuid(), function(result) { //需修改为服务UUID作为参数传递
                    data[arg]().networkList(result);
                });
            }
            
            this.vpcChangeByPublic = function(data, event) {
                csc.rest.get("api/v5.0.0/cart/getNetworkListByPublic/"+self.publicNetworkCartInfo().serviceUuid()+"/" + self.publicNetworkCartInfo().vpcUuid(), function(result) { //需修改为服务UUID作为参数传递
                	self.publicNetworkCartInfo().networkList(result);
                });
            }

            this.osTypeChangeGetOsVersion = function(arg, data, event) {
                csc.rest.get("api/v5.0.0/cart/getOsVersionList/" + data[arg].azUuid + "/" + data[arg].osType, function(result) {
                    data[arg].osVersionList(result);
                });
            }

            this.vmChangeGetDate = function(obj) {
                var vmItem = _.findWhere(self.vdiskCartInfo().vmList(), {
                    uuid: self.vdiskCartInfo().mountVmUuid()
                });
                if (typeof(vmItem) == "undefined") {
                    self.vdiskCartInfo().applyTime("");
                } else {
                    self.vdiskCartInfo().applyTime(vmItem.expiryTime);
                }

            }


            this.vdiskCartInfo = ko.validatedObservable({
                id: ko.observable(""),
                name: ko.observable(""),
                serviceUuid:ko.observable(""),
                size: ko.observable(""),
                vdcUuid: ko.observable(""),
                azUuid: ko.observable(""),
                mountVmUuid: ko.observable(""),
                vdcList: ko.observableArray([]),
                azList: ko.observableArray([]),
                vmList: ko.observableArray([]),
                applyTime: ko.observable(""),
                remark: ko.observable(""),
                charge:ko.observable(""),
                price:ko.observable(""),
                billRuleUuid:ko.observable(""),
                billRuleList: ko.observableArray([]),
                unitPrice:ko.observable("")
            });

            this.objectStorageCartInfo = ko.validatedObservable({
                id: ko.observable(""),
                name: ko.observable(""),
                serviceUuid:ko.observable(""),
                size: ko.observable(""),
                applyText:ko.observable(""),
                applyTime: ko.observable(""),
                applyType: ko.observable(""),
                applyNum: ko.observable(""),
                vdcUuid: ko.observable(""),
                azUuid: ko.observable(""),
                billRuleUuid: ko.observable(""),
                vdcList: ko.observableArray([]),
                azList: ko.observableArray([]),
                applyType: ko.observable(""),
                applyNum: ko.observable(""),
                charge:ko.observable(""),
                price:ko.observable(""),
                billRuleUuid:ko.observable(""),
                billRuleList: ko.observableArray([]),
                unitPrice:ko.observable("")
            });

            this.publicNetworkCartInfo = ko.validatedObservable({
                id: ko.observable(""),
                name: ko.observable(""),
                serviceUuid:ko.observable(""),
                vdcUuid: ko.observable(""),
                azUuid: ko.observable(""),
                vpcUuid: ko.observable(""),
                netWorkId: ko.observable(""),
                applyText:ko.observable(""),
                applyTime: ko.observable(""),
                applyType: ko.observable(""),
                applyNum: ko.observable(""),
                billRuleUuid: ko.observable(""),
                vdcList: ko.observableArray([]),
                azList: ko.observableArray([]),
                vpcList: ko.observableArray([]),
                remark:ko.observable(""),
                charge:ko.observable(""),
                billRuleUuid:ko.observable(""),
                price:ko.observable(""),
                networkList: ko.observableArray([]),
                billRuleList: ko.observableArray([])
            });

            this.loadbalancerCartInfo = ko.validatedObservable({
                id: "",
                name: "",
                vdcUuid: "",
                azUuid: "",
                applyTime: "",
                applyType: "",
                applyNum: "",
                applyText: "",
                remark: "",
                billRuleUuid: "",
                vdcList: ko.observableArray([]),
                azList: ko.observableArray([])
            });

            this.sshKeytCartInfo = ko.validatedObservable({
                id: "",
                name: "",
                vdcUuid: "",
                azUuid: "",
                applyTime: "",
                applyType: "",
                applyNum: "",
                applyText: "",
                remark: "",
                billRuleUuid: "",
                vdcList: ko.observableArray([]),
                azList: ko.observableArray([])
            });



            this.vmCartInfo = ko.validatedObservable({
                id: ko.observable(""),
                uuid:ko.observable(),
                vmName: ko.observable(""),
                vdcUuid: ko.observable(""),
                azUuid: ko.observable(""),
                applyTime: ko.observable(""),
                applyType: ko.observable(""),
                applyNum: ko.observable(""),
                applyText: ko.observable(""),
                remark: ko.observable(""),
                billRuleUuid: ko.observable(""),

                osType: ko.observable(""),
                osVersion: ko.observable(""),
                osVersionText: ko.observable(),

                price: ko.observable(),
                cpu: ko.observable(),
                memory: ko.observable(),
                storage: ko.observable(),
                vpcUuid: ko.observable(""),
                vpcNetworkUuid: ko.observable(""),
                ip: ko.observable(""),
                account: ko.observable(""),
                password: ko.observable(""),
                repeatPassword: ko.observable(""),
                sshIsMount: ko.observable(""),
                remark: ko.observable(""),
                serviceUuid: ko.observable(""),
                sshUuid: ko.observable(""),
                userName: ko.observable(""),
                networkType: ko.observable(""),
                computerName: ko.observable(""),
                projectUuid: ko.observable(""),
                mountDiskNum:ko.observable(),
                softwareNum:ko.observable(),
                vdcText: ko.pureComputed(function() {
                	if(self.vdcList!=null){
                		var item = _.findWhere(self.vdcList(), {
                            uuid: this.vdcUuid()
                        });
                        if (item != null) {
                            return item.name;
                        } else {
                            return "";
                        }
                	}else{
                		return "";
                	}
                    

                }, this),
                
                
                //分区
                partitions: ko.observableArray([]),
                //硬盘
                mountDisks : ko.observableArray([]),
                
                softwares : ko.observableArray([]),
                
                vdcList:ko.observableArray([]),
                azList:ko.observableArray([]),
                osTypeList:ko.observableArray([]),
                osVersionList:ko.observableArray([]),
                cpuList:ko.observableArray([]),
                memoryList:ko.observableArray([]),
                vpcList:ko.observableArray([]),
                networkList:ko.observableArray([]),
                bussyList:ko.observableArray([]),
                sshList:ko.observableArray([]),
                billRuleList:ko.observableArray([])
                
            });
            
            this.vmCartInfo().applyType.subscribe(function(){
            	var v="";
                if("1"==self.vmCartInfo().applyType()){
                    v="永久";
                }else if("2"==self.vmCartInfo().applyType()){
                    v=self.vmCartInfo().applyNum()+"个月";
                }else if("3"==self.vmCartInfo().applyType()){
                    v= "有效期至:"+self.vmCartInfo().applyTime().substr(0,10); 
                }
                self.vmCartInfo().applyText(v);
    	    });
            this.vmCartInfo().applyTime.subscribe(function(){
            	var v="";
                if("1"==self.vmCartInfo().applyType()){
                    v="永久";
                }else if("2"==self.vmCartInfo().applyType()){
                    v=self.vmCartInfo().applyNum()+"个月";
                }else if("3"==self.vmCartInfo().applyType()){
                    v= "有效期至:"+self.vmCartInfo().applyTime().substr(0,10); 
                }
                self.vmCartInfo().applyText(v);
    	    });
            this.vmCartInfo().applyNum.subscribe(function(){
            	var v="";
                if("1"==self.vmCartInfo().applyType()){
                    v="永久";
                }else if("2"==self.vmCartInfo().applyType()){
                    v=self.vmCartInfo().applyNum()+"个月";
                }else if("3"==self.vmCartInfo().applyType()){
                    v= "有效期至:"+self.vmCartInfo().applyTime().substr(0,10); 
                }
                self.vmCartInfo().applyText(v);
    	    });
            
            this.queryElement = function(arg,object, event){
                csc.rest.get('api/v5.0.0/cart/query/'+arg+'/'+object.uuid(),function(data){
                  if(arg=='vdiskCartInfo'){
                    self.vdiskCartInfo.fromJSON(data);
                    self.isView_Vdisk(true);
                  }else if(arg=='objectStorageCartInfo'){
                    self.objectStorageCartInfo.fromJSON(data);
                    self.isView_ObjectStorage(true);                      
                  }else if(arg=="publicNetworkCartInfo"){
                    self.publicNetworkCartInfo.fromJSON(data);
                    self.isView_PublicNetwork(true);                          
                  }else if(arg=="loadbalancerCartInfo"){
                  }else if(arg=="sshKeytCartInfo"){
                  }else if(arg=="vmCartInfo"){
                    self.vmCartInfo.fromJSON(data);
                    self.isView_vm(true);                         
                  }
                }); 
            }
            
            this.isEdit_Vdisk = ko.observable(false);
            this.isEdit_ObjectStorage = ko.observable(false);
            this.isEdit_PublicNetwork = ko.observable(false);
            
            this.isEdit_loadbalancer = ko.observable(false);
            this.isEdit_sshKeyt = ko.observable(false);
            this.isEdit_vm = ko.observable(false);
            var editObject;
            var vmChargeType;
            
            this.editElement = function(dis,arg,object, event){
                self.vmCartInfo().mountDisks([]);
                self.vmCartInfo().partitions([]);
                csc.rest.get('api/v5.0.0/cart/query/'+arg+'/'+object.uuid(),function(data){
                		console.log(object.uuid());
                        console.log(data);
                        
                        if(arg=='vdiskCartInfo'){
                            var serviceUuid=data.serviceUuid;
                            var vdcUuid=data.vdcUuid;
                            var azUuid=data.azUuid;
                            var vpcUuid=data.vpcUuid;
                            var uri="serviceUuid="+serviceUuid+"&vdcUuid="+vdcUuid+"&azUuid="+azUuid;
                            csc.rest.get("api/v5.0.0/cart/getCartSelectList?"+uri, function(result){
                                self.vdiskCartInfo().vdcList(result.vdcList);
                                self.vdiskCartInfo().azList(result.azList);
                                self.vdiskCartInfo().billRuleList(setArrayCharge(result.chargeList));
                                
                                csc.rest.get("api/v5.0.0/vms?vdcUuid=" + vdcUuid + "&azUuid=" + azUuid, function(result1) {
                                    self.vdiskCartInfo().vmList(result1.results);
                                    self.vdiskCartInfo.fromJSON(data);
                                    if(dis=='view'){
                                        self.isView_Vdisk(true);
                                    }else{
                                        self.vdiskCartInfo().id = object.id();
                                        self.isEdit_Vdisk(true);    
                                        editObject = object;
                                    }
                                });
                                

                            });
                      }else if(arg=='objectStorageCartInfo'){
                          var serviceUuid=data.serviceUuid;
                          var vdcUuid=data.vdcUuid;
                          var azUuid=data.azUuid;
                          var uri="serviceUuid="+serviceUuid+"&vdcUuid="+vdcUuid+"&azUuid="+azUuid;
                          csc.rest.get("api/v5.0.0/cart/getCartSelectList?"+uri, function(result){
                        	  self.objectStorageCartInfo().vdcList(result.vdcList);
                        	  self.objectStorageCartInfo().azList(result.azList);
                        	  self.objectStorageCartInfo().billRuleList(setArrayCharge(result.chargeList));
                        	  self.objectStorageCartInfo.fromJSON(data);
                              if(dis=='view'){
                                  self.isView_ObjectStorage(true);
                              }else{
                                  self.objectStorageCartInfo().id = object.id();
                                  self.isEdit_ObjectStorage(true);
                                  editObject = object;
                              }
                          });                    	  
                      }else if(arg=="publicNetworkCartInfo"){
                            var serviceUuid=data.serviceUuid;
                            var vdcUuid=data.vdcUuid;
                            var azUuid=data.azUuid;
                            var vpcUuid=data.vpcUuid;
                            var uri="serviceUuid="+serviceUuid+"&vdcUuid="+vdcUuid+"&azUuid="+azUuid+"&vpcUuid="+vpcUuid;
                            csc.rest.get("api/v5.0.0/cart/getCartSelectList?"+uri, function(result){
                                self.publicNetworkCartInfo().vdcList(result.vdcList);
                                self.publicNetworkCartInfo().azList(result.azList);
                                self.publicNetworkCartInfo().vpcList(result.vpcList);
                                self.publicNetworkCartInfo().networkList(result.networkListByPublic);
                                self.publicNetworkCartInfo().billRuleList(setArrayCharge(result.chargeList));
                                self.publicNetworkCartInfo.fromJSON(data);
                                
                                if(dis=='view'){
                                    self.isView_PublicNetwork(true);
                                }else{
                                    self.publicNetworkCartInfo().id = object.id();
                                    self.isEdit_PublicNetwork(true);
                                    editObject = object;
                                }
                                });
                      }else if(arg=="loadbalancerCartInfo"){
                        csc.rest.get("api/v5.0.0/cart/getVdcList/1", function(result1){//需修改为服务UUID作为参数传递
                            self.loadbalancerCartInfo().vdcList(result1);
                            csc.rest.get("api/v5.0.0/cart/getAzList/1/"+data.vdcUuid, function(result2){//需修改为服务UUID作为参数传递
                                self.loadbalancerCartInfo().azList(result2);
                                self.loadbalancerCartInfo.fromJSON(data);
                                if(dis=='view'){
                                    self.isView_loadbalancer(true);
                                }else{
                                    self.loadbalancerCartInfo().id = object.id();
                                    self.isEdit_loadbalancer(true); 
                                    editObject = object;
                                }
                                
                            });
                        });
                      }else if(arg=="sshKeytCartInfo"){
                            csc.rest.get("api/v5.0.0/cart/getVdcList/1", function(result1){//需修改为服务UUID作为参数传递
                                self.sshKeytCartInfo().vdcList(result1);
                                csc.rest.get("api/v5.0.0/cart/getAzList/1/"+data.vdcUuid, function(result2){//需修改为服务UUID作为参数传递
                                    self.sshKeytCartInfo().azList(result2);
                                    self.sshKeytCartInfo.fromJSON(data);
                                    if(dis=='view'){
                                        self.isView_sshKeyt(true);
                                    }else{
                                        self.sshKeytCartInfo().id = object.id();
                                        self.isEdit_sshKeyt(true);  
                                        editObject = object;
                                    }
                                    
                                });
                            });
                      }else if(arg=="vmCartInfo"){
                          var serviceUuid=data.serviceUuid;
                          var vdcUuid=data.vdcUuid;
                          var azUuid=data.azUuid;
                          var vpcUuid=data.vpcUuid;
                          var osType=data.osType;
                          var uri="serviceUuid="+serviceUuid+"&vdcUuid="+vdcUuid+"&azUuid="+azUuid+"&vpcUuid="+vpcUuid+"&osType="+osType;
                         csc.rest.get("api/v5.0.0/cart/getCartSelectList?"+uri, function(result){
                             csc.rest.get("api/v5.0.0/bussys?vdcuuid="+vdcUuid,function(result2){
                                 csc.rest.get("api/v5.0.0/sshKeys?getList=true&azUuid="+azUuid+"&vcdUuid="+vdcUuid+"&userUuid=",function(result3){
                                    self.vmCartInfo().sshList(result3.results);
                                    self.vmCartInfo().bussyList(result2.results); 
                                    self.vmCartInfo().vdcList(result.vdcList);
                                    self.vmCartInfo().vpcList(result.vpcList);
                                    self.vmCartInfo().networkList(result.networkList);
                                    self.vmCartInfo().azList(result.azList);
                                    self.vmCartInfo().osTypeList(result.osTypeList);
                                    self.vmCartInfo().cpuList(result.cpuList);
                                    self.vmCartInfo().memoryList(result.memoryList);
                                    self.vmCartInfo().osVersionList(result.osVersionList);
                                    
                                   	self.vmCartInfo().id(data.id);
                                   	self.vmCartInfo().vmName(data.vmName);
                                   	self.vmCartInfo().vdcUuid(data.vdcUuid);
                                   	self.vmCartInfo().azUuid(data.azUuid);
                                   	self.vmCartInfo().applyTime(data.applyTime);
                                   	self.vmCartInfo().applyType(data.applyType);
                                   	self.vmCartInfo().applyNum(data.applyNum);
                                   	self.vmCartInfo().remark(data.remark);
                                   	self.vmCartInfo().billRuleUuid(data.billRuleUuid);
                                       
                                   	self.vmCartInfo().osType(data.osType);
                                   	self.vmCartInfo().osVersion(data.osVersion);
                                   	self.vmCartInfo().cpu(data.cpu);
                                   	self.vmCartInfo().memory(data.memory);
                                   	self.vmCartInfo().storage(data.storage);
                                   	self.vmCartInfo().vpcUuid(data.vpcUuid);
                                   	self.vmCartInfo().vpcNetworkUuid(data.vpcNetworkUuid);
                                   	self.vmCartInfo().ip(data.ip);
                                   	self.vmCartInfo().account(data.account);
                                   	self.vmCartInfo().password(data.password);
                                   	self.vmCartInfo().repeatPassword(data.repeatPassword);
                                   	self.vmCartInfo().sshIsMount(data.sshIsMount);
                                       
                                   	self.vmCartInfo().projectUuid(data.projectUuid);
                                   	self.vmCartInfo().uuid(data.uuid);
                                   	self.vmCartInfo().serviceUuid(data.serviceUuid);
                                   	self.vmCartInfo().sshUuid(data.sshUuid);
                                   	self.vmCartInfo().networkType(data.networkType);
                                   	
                                    self.vmCartInfo().price(data.price)    
                                    
                                    data.mountDisks.forEach(function(e){
                                        csc.rest.get("api/v5.0.0/cart/getCartSelectList?serviceUuid="+e.serviceUuid, function(res){
                                        	var vo=new MountDiskVO();
                                        	vo.name(e.name);
                                            vo.size(e.size);
                                            vo.serviceUuid(e.serviceUuid);
                                            vo.serviceName(e.serviceName);
                                            vo.billRuleUuid(e.billRuleUuid);
                                            vo.billRuleList(setArrayCharge(res.chargeList));
                                            vo.price(e.price);
                                            self.vmCartInfo().mountDisks.push(vo);
                                        });
                                    });
                                   data.partitions.forEach(function(e){
                                        var vo=new PartitionVO();
                                        vo.name(e.name);
                                        vo.size(e.size);
                                        self.vmCartInfo().partitions.push(vo);
                                    });

                                   var v="";
                                   if("1"==data.applyType){
                                       v="永久";
                                   }else if("2"==data.applyType){
                                       v=data.applyNum+"个月";
                                   }else if("3"==data.applyType){
                                       v= "有效期至:"+data.applyTime.substr(0,10); 
                                   }
                                   self.vmCartInfo().applyText(v);
                                   self.vmCartInfo().billRuleList(setArrayCharge(result.chargeList));
                                   
                                   
                                   
                                   if(dis=='view'){
                                        self.isView_vm(true);
                                    }else{
                                        self.isEdit_vm(true);
                                        editObject = object;
                                    }
                                   
                                 });                             
                             });
                         });
                      }
                      
                    
                    
                    });             
            }
            
            function VO(obj){           
                for(var s in obj){
                   var v=obj[s];    
                   this[s] = ko.observable(v);
                }
            } 
            
            this.deleteElement = function(arg,object,event){
                    var id;
                    var name;
                    if(arg=="vmCartInfo"){
                        id=object.uuid();
                        name=object.vmName();
                    }else{
                        id=object.id();
                        name=object.name();
                    }
                systemMsg.confirm("确定删除"+name+"吗?",function(){
                    
                    csc.rest.del('api/v5.0.0/cart/delete/'+arg+'/'+id,function(data){
                        systemMsg.alert('删除成功！');   
                        if(arg=="vdiskCartInfo"){
                            self.vdiskList.remove(object);
                            self.vdiskNum(self.vdiskNum()-1);
                        }else if(arg=="objectStorageCartInfo"){
                            self.objectStorageList.remove(object);
                            self.objectStorageNum(self.objectStorageNum()-1);
                        }else if(arg=="publicNetworkCartInfo"){
                            self.publicNetworkList.remove(object);
                            self.publicNetworkNum(self.publicNetworkNum()-1);
                        }else if(arg=="loadbalancerCartInfo"){
                            self.loadbalancerList.remove(object);
                            self.lbNum(self.lbNum()-1);
                        }else if(arg=="sshKeytCartInfo"){
                            self.sshKeytList.remove(object);
                            self.sshNum(self.sshNum()-1);
                        }else if(arg=="vmCartInfo"){
                            self.vmList.remove(object);
                            self.vmNum(self.vmNum()-1);
                        }
                        
                    }); 
                });
            }
            
            
            this.convertApplyText=function(applyType,applyNum,applyTime){
               var v="";
               if("1"==applyType){
                   v="永久";
               }else if("2"==applyType){
                   v=applyNum+"个月";
               }else if("3"==applyType){
                   v= "有效期至:"+applyTime.substr(0,10); 
               }
               editObject.applyText(v);
            }
            
            function nameCheck(name,type,uuid,callback){
			 	csc.rest.get('api/v5.0.0/cart/nameCheck?type='+type+'&name='+name+'&uuid='+uuid,function(result){
			 		 if(result.result==true){
						  alert(result.message);
						  callback(false);
					  }else{
						 	csc.rest.get('api/v5.0.0/orders/item/instance-name?type='+type+'&name='+result.name,function(result1){	
						 		 if(result1.result==true){
									  systemMsg.alert(result1.message);
									  callback(false);
								  }else{
									  callback(true);
								  }
						    });
					  }
			    });	
            }
            
            this.confirmCommit = function(arg){
                var json;
                var type;
                if(arg=="vdiskCartInfo"){
                    json = self.vdiskCartInfo.toJSON();
                    type = "DISK";
                }else if(arg=="objectStorageCartInfo"){
                    json = self.objectStorageCartInfo.toJSON();
                    type = "OBJECT_STORAGE";
                }else if(arg=="publicNetworkCartInfo"){
                    json = self.publicNetworkCartInfo.toJSON();
                    type = "PUBLICIP";
                }else if(arg=="loadbalancerCartInfo"){
                    json = self.loadbalancerCartInfo.toJSON();
                    type = "LOAD_BALANCING";
                }else if(arg=="sshKeytCartInfo"){
                    json = self.sshKeytCartInfo.toJSON();
                    type = "SECRET_KEY";
                }else if(arg=="vmCartInfo"){
                    json = self.vmCartInfo.toJSON();
                    type= "VM";
                }
                nameCheck(json.name,type,json.uuid,function(pass){
						if(pass){
							csc.rest.put('api/v5.0.0/cart/update/'+arg,json,function(data){
			                	systemMsg.alert('修改成功！');
			                     if(arg=="vdiskCartInfo"){
			                        self.isEdit_Vdisk(false);
			                        var vdcItem = _.findWhere(self.vdiskCartInfo().vdcList(), {uuid: data.vdcUuid});
			                        var azItem = _.findWhere(self.vdiskCartInfo().azList(), {uuid: data.azUuid});
			                        var vmItem = _.findWhere(self.vdiskCartInfo().vmList(), {uuid: data.mountVmUuid});
			                        editObject.name(self.vdiskCartInfo().name());
			                        editObject.size(self.vdiskCartInfo().size());
			                        editObject.vdcName(vdcItem.name);
			                        editObject.azName(azItem.name);
			                        editObject.mountVmName(vmItem.name);
			                        self.convertApplyText(data.applyType,data.applyNum,data.applyTime)
			                    }else if(arg=="objectStorageCartInfo"){
			                        self.isEdit_ObjectStorage(false);
			                        var vdcItem = _.findWhere(self.objectStorageCartInfo().vdcList(), {uuid: data.vdcUuid});
			                        var azItem = _.findWhere(self.objectStorageCartInfo().azList(), {uuid: data.azUuid});
			                        editObject.name(self.objectStorageCartInfo().name());
			                        editObject.size(self.objectStorageCartInfo().size());
			                        editObject.vdcName(vdcItem.name);
			                        editObject.azName(azItem.name);
			                        self.convertApplyText(data.applyType,data.applyNum,data.applyTime)
			                    }else if(arg=="publicNetworkCartInfo"){
			                        self.isEdit_PublicNetwork(false);
			                        var vdcItem = _.findWhere(self.publicNetworkCartInfo().vdcList(), {uuid: data.vdcUuid});
			                        var azItem = _.findWhere(self.publicNetworkCartInfo().azList(), {uuid: data.azUuid});
			                        var vpcItem = _.findWhere(self.publicNetworkCartInfo().vpcList(), {uuid: data.vpcUuid});
			                        var networkItem = _.findWhere(self.publicNetworkCartInfo().networkList(), {uuid: data.netWorkId});
			                        editObject.name(self.publicNetworkCartInfo().name());
			                        editObject.vdcName(vdcItem.name);
			                        editObject.azName(azItem.name);
			                        editObject.vpcName(vpcItem.name);
			                        editObject.netWorkName(networkItem.name);
			                        self.convertApplyText(data.applyType,data.applyNum,data.applyTime)
			                        //..
			                    }else if(arg=="loadbalancerCartInfo"){
			                        self.isEdit_loadbalancer(false);
			                        var vdcItem = _.findWhere(self.loadbalancerCartInfo().vdcList(), {uuid: data.vdcUuid});
			                        var azItem = _.findWhere(self.loadbalancerCartInfo().azList(), {uuid: data.azUuid});
			                        editObject.name(self.loadbalancerCartInfo().name);
			                        editObject.vdcName(vdcItem.name);
			                        editObject.azName(azItem.name);
			                        self.convertApplyText(data.applyType,data.applyNum,data.applyTime)
			                    }else if(arg=="sshKeytCartInfo"){
			                        self.isEdit_sshKeyt(false);
			                        var vdcItem = _.findWhere(self.sshKeytCartInfo().vdcList(), {uuid: data.vdcUuid});
			                        var azItem = _.findWhere(self.sshKeytCartInfo().azList(), {uuid: data.azUuid});
			                        editObject.name(self.sshKeytCartInfo().name);
			                        editObject.vdcName(vdcItem.name);
			                        editObject.azName(azItem.name);
			                        self.convertApplyText(data.applyType,data.applyNum,data.applyTime)
			                    }else if(arg=="vmCartInfo"){
			                        self.isEdit_vm(false);
			                        editObject.vmName(data.vmName);
			                        editObject.osVersionText(data.osVersionText);
			                        editObject.cpu(data.cpu);
			                        editObject.memory(data.memory);
			                        editObject.storage(data.storage);
			                        editObject.mountDiskNum(data.mountDiskNum);
			                        editObject.softwareNum(data.softwareNum);
			                        editObject.vdcName(data.vdcName);
			                        editObject.vpcName(data.vpcName);
			                        editObject.vpcNetworkName(data.vpcNetworkName);
			                        editObject.azName(data.azName);
			                        self.convertApplyText(data.applyType,data.applyNum,data.applyTime);
			                        editObject.id(data.id);
			                        editObject.uuid(data.uuid);
			                    }
			                     
			                });
						}
				}); 
            } 
            
            
            
            
            this.step1 = ko.observable(false);
            this.step2 = ko.observable(true);
            this.step3 = ko.observable(true);
            this.step4 = ko.observable(true);
            this.step5 = ko.observable(true);

            function MountDiskVO(){
                this.name = ko.observable();
                this.size = ko.observable();
                this.type = ko.observable();
                this.serviceUuid = ko.observable();
                this.serviceName = ko.observable();
                this.billRuleUuid = ko.observable();
                this.applyType = ko.observable();
                this.applyNum = ko.observable();
                this.applyTime = ko.observable();
                this.applyText = ko.observable();
                this.billRuleList=ko.observableArray([]);
                this.price = ko.observable();
            }
            
            function PartitionVO(){
                this.name = ko.observable();
                this.size = ko.observable();
            }
            
            this.isAdd_Vdisk = ko.observable(false);
            this.addMountDisks = function(){
                self.vmCartInfo().mountDisks.push(new MountDiskVO);
            }
            this.delMountDisks = function (object){
                self.vmCartInfo().mountDisks.remove(object);
            }
            //选择云硬盘服务
            this.selectVdiskService = ko.observable(false);
            this.table_Vdisk_VM = null;
            this.selectVdiskService_VM = function(object){
                self.table_Vdisk_VM = new DataTable([], {path: 'api/v5.0.0/service/getServiceList/DISK',perPage:6});
                self.selectVdiskService(true);
                editObject = object;
            }
            this.submitVdiskService = function(){
                editObject.serviceName(self.table_Vdisk_VM.chosenItems().serviceName);
                editObject.serviceUuid(self.table_Vdisk_VM.chosenItems().serviceUuid);
                var attr;
                if(self.table_Vdisk_VM.chosenItems().feeType !=null && self.table_Vdisk_VM.chosenItems().feeType!=""){
                	attr=self.table_Vdisk_VM.chosenItems().feeType.split(",")
                }
                editObject.billRuleList(setArrayCharge(attr));
                self.selectVdiskService(false);
            }
            
            this.addPartitions = function(){
                self.vmCartInfo().partitions.push(new PartitionVO());
            }
            this.delPartitions = function (object){
                self.vmCartInfo().partitions.remove(object);
            }
            
            
            function setArrayCharge(attr){
    	    	var arrayCharge = [];
    	    	if(attr !=null){
    	    		for(var i=0;i<attr.length;i++){
        	    		if(attr[i]=="DAY"){
        	    			arrayCharge.push({name:"按天",value:"DAY"});
        	    		}else if(attr[i]=="MONTH"){
        	    			arrayCharge.push({name:"按月",value:"MONTH"});
        	    		}else if(attr[i]=="QUARTER"){
        	    			arrayCharge.push({name:"按季度",value:"QUARTER"});
        	    		}else{
        	    			arrayCharge.push({name:"按年",value:"YEAR"});
        	    		}
        	    	}
    	    	}
    	    	return arrayCharge;
    	    }
            
    	    this.sizeChange = function(arg,data,event){
    	    	var size;
    	    	var unitPrice;
    	    	var type;
    	    	if(arg=='DISK'){
    	    		size=data.vdiskCartInfo().size();
    	    		unitPrice=data.vdiskCartInfo().unitPrice();
    	    		type=data.vdiskCartInfo().billRuleUuid();
    	    	}else if(arg=='OBJECT_STORAGE'){
    	    		size=data.objectStorageCartInfo().size();
    	    		unitPrice=data.objectStorageCartInfo().unitPrice();
    	    		type=data.objectStorageCartInfo().billRuleUuid();
    	    	}
    	    	
    	    	if(typeof(type)=="undefined"||typeof(unitPrice)=="undefined"){
    	    		return;
    	    	}
    	    	var price = size*unitPrice;
        		if(type=="DAY"){
        			price+="元/天";
        		}else if(type=="MONTH"){
        			price+="元/月";
        		}else if(type=="QUARTER"){
        			price+="元/季度";
        		}else{
        			price+="元/年";
        		}
    	    	if(arg=='DISK'){
    	    		data.vdiskCartInfo().price(price);
    	    	}else if(arg=='OBJECT_STORAGE'){
    	    		data.objectStorageCartInfo().price(price);
    	    	}
    	    }
            
            this.chargeChangeCart = function(arg,data,event){//vm
               var serviceUuid;
               var cycle;
               if(arg=='VM'){
            	   serviceUuid=data.vmCartInfo().serviceUuid();
            	   cycle=data.vmCartInfo().billRuleUuid();
               }else if(arg=='vdisk_VM'){
            	   serviceUuid=data.serviceUuid();
            	   cycle=data.billRuleUuid();
               }else if(arg=="PUBLICIP"){
            	   serviceUuid=data.publicNetworkCartInfo().serviceUuid();
            	   cycle=data.publicNetworkCartInfo().billRuleUuid();   
               }else if(arg=="OBJECT_STORAGE"){
            	   serviceUuid=data.objectStorageCartInfo().serviceUuid();
            	   cycle=data.objectStorageCartInfo().billRuleUuid();
               }else if(arg=='DISK'){
            	   serviceUuid=data.vdiskCartInfo().serviceUuid();
            	   cycle=data.vdiskCartInfo().billRuleUuid(); 
               }
    	    	csc.rest.get("api/v5.0.0/billing/rules/calculate?serviceUuid="+serviceUuid+"&cycle="+cycle, function(result){
    	    		var price = 0;
    	    		var cpu=0;
    	    		var memory=0;
    	    		var storage=0;
    	    		var size=0;
    	    		var type;
    	    	   if(arg=='VM'){
    	    		   cpu=data.vmCartInfo().cpu();
    	               memory=data.vmCartInfo().memory();
    	               storage=data.vmCartInfo().storage();
    	               type = data.vmCartInfo().billRuleUuid();
    	               if(typeof(type)=="undefined"  || typeof(cpu)=="undefined" || typeof(memory)=="undefined" || typeof(storage)=="undefined"){
    	            	   data.vmCartInfo().price("");
    	   	    			return;
    	               }
   	               }else if(arg=='vdisk_VM'){
 	                   size=data.size();
   	            	   type = data.billRuleUuid();
	   	               if(typeof(type)=="undefined" || typeof(size)=="undefined"){
	 	            	   data.price("");
	 	   	    			return;
	 	               }
   	               }else if(arg=='PUBLICIP'){
   	            		type=data.publicNetworkCartInfo().billRuleUuid();
	   	               if(typeof(type)=="undefined"){
	 	            	   data.publicNetworkCartInfo().price("");
	 	   	    			return;
	 	               }
   	               }else if(arg=='OBJECT_STORAGE'){
   	            	   size=data.objectStorageCartInfo().size();
  	            	   type=data.objectStorageCartInfo().billRuleUuid();
 	   	               if(typeof(type)=="undefined"){
 	 	            	   data.objectStorageCartInfo().price("");
 	 	   	    			return;
 	 	               }
   	               }else if(arg=='DISK'){
 	                   size=data.vdiskCartInfo().size();
   	            	   type = data.vdiskCartInfo().billRuleUuid();
	   	               if(typeof(type)=="undefined" || typeof(size)=="undefined"){
	 	            	   data.vdiskCartInfo().price("");
	 	   	    			return;
	 	               }
   	               }
    	    	   
    	    		result.ruleList.forEach(function(e){
    	    			if(e.attrType=='CPU'){
    	    				price += cpu * e.unitPrice;
    	    			}else if(e.attrType=='MEMORY'){
    	    				price += memory * e.unitPrice;
    	    			}else if(e.attrType=='STORAGE'){
    	    				price += storage * e.unitPrice;
    	    			}else if(e.attrType=='DISK'){
    	    				price += size * e.unitPrice;
    	    				if(arg=='DISK'){
    	    					data.vdiskCartInfo().unitPrice(e.unitPrice);
    	    				}
    	    			}else if(e.attrType=='PUBLICIP'){
    	    				price += e.unitPrice;
    	    			}else if(e.attrType=='OBJECT_STORAGE'){
    	    				data.objectStorageCartInfo().unitPrice(e.unitPrice);
    	    				price += size * e.unitPrice;
    	    			}
    	    		});
    	    		if(type=="DAY"){
    	    			price+="元/天";
    	    		}else if(type=="MONTH"){
    	    			price+="元/月";
    	    		}else if(type=="QUARTER"){
    	    			price+="元/季度";
    	    		}else{
    	    			price+="元/年";
    	    		}
    	    		
    	    		if(arg=='VM'){
    	    			data.vmCartInfo().price(price);
   	               }else if(arg=='vdisk_VM'){
   	            	    data.price(price);
   	               }else if(arg=='PUBLICIP'){
   	            		data.publicNetworkCartInfo().price(price);
   	               }else if(arg=='OBJECT_STORAGE'){
   	            		data.objectStorageCartInfo().price(price);
   	               }else if(arg=='DISK'){
   	            		data.vdiskCartInfo().price(price);
   	               }
    	    		
    	    	});	    	
    	    }
        }
        ko.applyBindings(new ViewModel, $('#page-content')[0]);
    });
    </script>
    <!-- 云硬盘查看 -->
    <div role="dialog" aria-hidden="true" class="simple_form form-horizontal modal fade applyModeShow" data-bind="modal: { show: isView_Vdisk}">
        <div class='modal-dialog modal-lg'>
            <div class='modal-content'>
                <div class='modal-header'>
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
                    <h3 class='modal-title'>申请云硬盘服务</h3>
                </div>
                <div class='modal-body form-horizontal row'>
                    <div class="form-inline clearfix" style="padding:0 15px 15px 0">
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">云硬盘名称：</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control w" data-bind="value:vdiskCartInfo().name" disabled>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">存储大小(GB)：</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control w" data-bind="value:vdiskCartInfo().size" disabled>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">所属VDC：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:vdiskCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value:vdiskCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('vdiskCartInfo',data,event) }},optionsCaption:'请选择'" disabled></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">可用分区：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:vdiskCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:vdiskCartInfo().azUuid,event:{change:function(data, event){ $root.azChangeGetVm('vdiskCartInfo',data,event) }},optionsCaption:'请选择'" disabled></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">挂载云主机：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:vdiskCartInfo().vmList,optionsText:'name',optionsValue:'uuid',value:vdiskCartInfo().mountVmUuid,event:{change:$root.vmChangeGetDate},optionsCaption:'请选择'" disabled></select>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">备注：</label>
                            <div class="col-sm-8">
                                <textarea class="form-control" cols="30" rows="5" data-bind="value:vdiskCartInfo().remark" disabled></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">申请时长：</label>
                            <label class="col-xs-2 control-label">有效期至 </label>
                            <div class="col-xs-6">
                                <input type="text" style="width:126px" class="form-control applyDateFormat" data-bind="value:vdiskCartInfo().applyTime" disabled>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6" data-bind="visible:vdiskCartInfo().charge()=='YES'">
                        <div class="row">
                            <label class="col-sm-4 control-label">套餐：</label>
                            <div class="col-sm-3">
								<select class="form-control w-xs" data-bind="options:vdiskCartInfo().billRuleList,optionsText:'name',optionsValue:'value',value:vdiskCartInfo().billRuleUuid,event:{change:function(data, event){ $root.chargeChangeCart('DISK',data,event) }},optionsCaption:'请选择'" disabled></select>
                            </div>
                            <span class="control-label col-sm-5 text-left" style="height:34px;" data-bind="text:vdiskCartInfo().price"></span>
                        </div>
                    </div>
                </div>
                <div class='modal-footer' style="text-align:center;">
                    <a class="btn btn-default btn btn-default" data-dismiss="modal">返回</a>
                </div>
            </div>
        </div>
    </div>
    <!-- 云硬盘查看 -->
    <!-- 云硬盘修改 -->
    <div role="dialog" aria-hidden="true" class="simple_form form-horizontal modal fade applyModeShow" data-bind="modal: { show: isEdit_Vdisk}">
        <div class='modal-dialog modal-lg'>
            <div class='modal-content'>
                <div class='modal-header'>
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
                    <h3 class='modal-title'>申请云硬盘服务</h3>
                </div>
                <div class='modal-body form-horizontal row'>
                    <div class="form-inline clearfix" style="padding:0 15px 15px 0">
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">云硬盘名称：</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control w" data-bind="value:vdiskCartInfo().name">
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">存储大小(GB)：</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control w" data-bind="value:vdiskCartInfo().size,event:{change:function(data, event){ $root.sizeChange('DISK',data,event) }">
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">所属VDC：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:vdiskCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value:vdiskCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('vdiskCartInfo',data,event) }},optionsCaption:'请选择'"></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">可用分区：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:vdiskCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:vdiskCartInfo().azUuid,event:{change:function(data, event){ $root.azChangeGetVm('vdiskCartInfo',data,event) }},optionsCaption:'请选择'"></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">挂载云主机：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:vdiskCartInfo().vmList,optionsText:'name',optionsValue:'uuid',value:vdiskCartInfo().mountVmUuid,event:{change:$root.vmChangeGetDate},optionsCaption:'请选择'"></select>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">备注：</label>
                            <div class="col-sm-8">
                                <textarea class="form-control" cols="30" rows="5" data-bind="value:vdiskCartInfo().remark"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">申请时长：</label>
                            <label class="col-xs-2 control-label">有效期至 </label>
                            <div class="col-xs-6">
                                <input type="text" style="width:126px" class="form-control applyDateFormat" data-bind="value:vdiskCartInfo().applyTime" disabled>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6" data-bind="visible:vdiskCartInfo().charge()=='YES'">
                        <div class="row">
                            <label class="col-sm-4 control-label">套餐：</label>
                            <div class="col-sm-3">
								<select class="form-control w-xs" data-bind="options:vdiskCartInfo().billRuleList,optionsText:'name',optionsValue:'value',value:vdiskCartInfo().billRuleUuid,event:{change:function(data, event){ $root.chargeChangeCart('DISK',data,event) }},optionsCaption:'请选择'"></select>
                            </div>
                            <span class="control-label col-sm-5 text-left" style="height:34px;"  data-bind="text:vdiskCartInfo().price"></span>
                        </div>
                    </div>
                </div>
                <div class='modal-footer' style="text-align:center;">
                    <a class="btn btn-default btn-info" data-bind="click: function(data, event){ $root.confirmCommit('vdiskCartInfo') }">确定</a>
                    <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
                </div>
            </div>
        </div>
    </div>
    <!-- 云硬盘修改 -->
    <!-- 对象存储查看 -->
    <div role="dialog" aria-hidden="true" class="simple_form form-horizontal modal fade applyModeShow" data-bind="modal: { show: isView_ObjectStorage }">
        <div class='modal-dialog modal-lg'>
            <div class='modal-content'>
                <div class='modal-header'>
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
                    <h3 class='modal-title'>申请对象存储服务</h3>
                </div>
                <div class='modal-body form-horizontal row'>
                    <div class="form-inline clearfix" style="padding:0 15px 15px 0">
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">对象存储名称：</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control w" data-bind="value:objectStorageCartInfo().name" disabled>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">存储大小(GB)：</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control w" data-bind="value:objectStorageCartInfo().size" disabled>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">所属VDC：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:objectStorageCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value:objectStorageCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('objectStorageCartInfo',data,event) }},optionsCaption:'请选择'" disabled></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">可用分区：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:objectStorageCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:objectStorageCartInfo().azUuid,optionsCaption:'请选择'" disabled></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">备注：</label>
                            <div class="col-sm-8">
                                <textarea class="form-control" cols="30" rows="5" data-bind="value: objectStorageCartInfo().remark" disabled></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">申请时长：</label>
                            <div class="col-sm-8">
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" value="1" data-bind="checked:objectStorageCartInfo().applyType,name:objectSingle" disabled> 永久
                                    </label>
                                </div>
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" class="form-control" style="top:2px;" value="2" data-bind="checked:objectStorageCartInfo().applyType,name:objectSingle" disabled>
                                        <select class="form-control" data-bind="options:$root.applyList,optionsText:'name',optionsValue:'value',value:objectStorageCartInfo().applyNum" disabled></select> 个月
                                    </label>
                                </div>
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" class="form-control" style="top: 2px;" value="3" data-bind="checked:objectStorageCartInfo().applyType,name:objectSingle" disabled>
                                        <span class="">有效期至 </span>
                                        <input type="text" style="width:126px" data-bind="value:objectStorageCartInfo().applyTime" class="form-control applyDateFormat" disabled>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6" data-bind="visible:objectStorageCartInfo().charge()=='YES'">
                        <div class="row">
                            <label class="col-sm-4 control-label">套餐：</label>
                            <div class="col-sm-3">
								<select class="form-control w-xs" data-bind="options:objectStorageCartInfo().billRuleList,optionsText:'name',optionsValue:'value',value:objectStorageCartInfo().billRuleUuid,event:{change:function(data, event){ $root.chargeChangeCart('OBJECT_STORAGE',data,event) }},optionsCaption:'请选择'" disabled></select>
                            </div>
                            <span class="control-label col-sm-5 text-left" style="height:34px;" data-bind="text:objectStorageCartInfo().price"></></span>
                        </div>
                    </div>
                </div>
                <div class='modal-footer' style="text-align:center;">
                    <a class="btn btn-default btn btn-default" data-dismiss="modal">返回</a>
                </div>
            </div>
        </div>
    </div>
    <!-- 对象存储查看 -->
    <!-- 对象存储修改 -->
    <div role="dialog" aria-hidden="true" class="simple_form form-horizontal modal fade applyModeShow" data-bind="modal: { show: isEdit_ObjectStorage }">
        <div class='modal-dialog modal-lg'>
            <div class='modal-content'>
                <div class='modal-header'>
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
                    <h3 class='modal-title'>申请对象存储服务</h3>
                </div>
                <div class='modal-body form-horizontal row'>
                    <div class="form-inline clearfix" style="padding:0 15px 15px 0">
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">对象存储名称：</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control w" data-bind="value:objectStorageCartInfo().name">
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">存储大小(GB)：</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control w" data-bind="value:objectStorageCartInfo().size,event:{change:function(data, event){ $root.sizeChange('OBJECT_STORAGE',data,event) }}">
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">所属VDC：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:objectStorageCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value:objectStorageCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('objectStorageCartInfo',data,event) }},optionsCaption:'请选择'"></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">可用分区：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:objectStorageCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:objectStorageCartInfo().azUuid,optionsCaption:'请选择'"></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">备注：</label>
                            <div class="col-sm-8">
                                <textarea class="form-control" cols="30" rows="5" data-bind="value: objectStorageCartInfo().remark"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">申请时长：</label>
                            <div class="col-sm-8">
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" value="1" data-bind="checked:objectStorageCartInfo().applyType,name:objectSingle"> 永久
                                    </label>
                                </div>
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" class="form-control" style="top:2px;" value="2" data-bind="checked:objectStorageCartInfo().applyType,name:objectSingle">
                                        <select class="form-control" data-bind="options:$root.applyList,optionsText:'name',optionsValue:'value',value:objectStorageCartInfo().applyNum"></select> 个月
                                    </label>
                                </div>
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" class="form-control" style="top: 2px;" value="3" data-bind="checked:objectStorageCartInfo().applyType,name:objectSingle">
                                        <span class="">有效期至 </span>
                                        <input type="text" style="width:126px" data-bind="value:objectStorageCartInfo().applyTime" class="form-control applyDateFormat">
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6" data-bind="visible:objectStorageCartInfo().charge()=='YES'">
                        <div class="row">
                            <label class="col-sm-4 control-label">套餐：</label>
                            <div class="col-sm-3">
								<select class="form-control w-xs" data-bind="options:objectStorageCartInfo().billRuleList,optionsText:'name',optionsValue:'value',value:objectStorageCartInfo().billRuleUuid,event:{change:function(data, event){ $root.chargeChangeCart('OBJECT_STORAGE',data,event) }},optionsCaption:'请选择'"></select>
                            </div>
                            <span class="control-label col-sm-5 text-left" style="height:34px;" data-bind="text:objectStorageCartInfo().price"></span>
                        </div>
                    </div>
                </div>
                <div class='modal-footer' style="text-align:center;">
                    <a class="btn btn-default btn-info" data-bind="click: function(data, event){ $root.confirmCommit('objectStorageCartInfo') }">确定</a>
                    <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
                </div>
            </div>
        </div>
    </div>
    <!-- 对象存储修改 -->
    <!-- 公网IP查看 -->
    <div role="dialog" aria-hidden="true" class="simple_form form-horizontal modal fade applyModeShow" data-bind="modal: { show: isView_PublicNetwork }">
        <div class='modal-dialog modal-lg'>
            <div class='modal-content'>
                <div class='modal-header'>
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
                    <h3 class='modal-title'>公网IP服务查看</h3>
                </div>
                <div class='modal-body form-horizontal row'>
                    <div class="form-inline clearfix" style="padding:0 15px 15px 0">
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">公网IP名称：</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control w" data-bind="value:publicNetworkCartInfo().name" disabled>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">所属VDC：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:publicNetworkCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value:publicNetworkCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('publicNetworkCartInfo',data,event) }},optionsCaption:'请选择'" disabled></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">可用分区：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:publicNetworkCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:publicNetworkCartInfo().azUuid,event:{change:function(data, event){ $root.azChangeGetVpc('publicNetworkCartInfo',data,event)}},optionsCaption:'请选择'" disabled></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">所属VPC：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:publicNetworkCartInfo().vpcList,optionsText:'name',optionsValue:'uuid',value:publicNetworkCartInfo().vpcUuid,event:{change:$root.vpcChangeByPublic},optionsCaption:'请选择'" disabled></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">网络名称：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:publicNetworkCartInfo().networkList,optionsText:'name',optionsValue:'uuid',value:publicNetworkCartInfo().netWorkId,optionsCaption:'请选择'" disabled></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">备注：</label>
                            <div class="col-sm-8">
                                <textarea class="form-control" cols="30" rows="5" data-bind="value: publicNetworkCartInfo().remark" disabled></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">申请时长：</label>
                            <div class="col-sm-8">
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" value="1" data-bind="checked: publicNetworkCartInfo().applyType,name:publicNetworkSingle" disabled> 永久
                                    </label>
                                </div>
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" class="form-control" style="top: 2px;" value="2" data-bind="checked: publicNetworkCartInfo().applyType,name:publicNetworkSingle" disabled>
                                        <select class="form-control" data-bind="options:$root.applyList,optionsText:'name',optionsValue:'value',value:publicNetworkCartInfo().applyNum" disabled></select> 个月
                                    </label>
                                </div>
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" class="form-control" style="top: 2px;" value="3" data-bind="checked: publicNetworkCartInfo().applyType,name:publicNetworkSingle" disabled>
                                        <span class="">有效期至 </span>
                                        <input type="text" style="width:126px" class="form-control applyDateFormat" data-bind="value: publicNetworkCartInfo().applyTime" disabled>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6" data-bind="visible:publicNetworkCartInfo().charge()=='YES'">
                        <div class="row">
                            <label class="col-sm-4 control-label">套餐：</label>
                            <div class="col-sm-3">
								<select class="form-control w-xs" data-bind="options:publicNetworkCartInfo().billRuleList,optionsText:'name',optionsValue:'value',value:publicNetworkCartInfo().billRuleUuid,event:{change:function(data, event){ $root.chargeChangeCart('PUBLICIP',data,event) }},optionsCaption:'请选择'" disabled></select>
                            </div>
                            <span class="control-label col-sm-5 text-left" style="height:34px;" data-bind="text: publicNetworkCartInfo().price"></span>
                        </div>
                    </div>
                </div>
                <div class='modal-footer' style="text-align:center;">
                    <a class="btn btn-default btn-info" data-bind="click: function(data, event){ $root.confirmCommit('publicNetworkCartInfo') }">确定</a>
                    <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
                </div>
            </div>
        </div>
    </div>
    <!-- 公网IP查看 -->
    <!-- 公网IP修改 -->
    <div role="dialog" aria-hidden="true" class="simple_form form-horizontal modal fade applyModeShow" data-bind="modal: { show: isEdit_PublicNetwork }">
        <div class='modal-dialog modal-lg'>
            <div class='modal-content'>
                <div class='modal-header'>
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
                    <h3 class='modal-title'>公网IP服务修改</h3>
                </div>
                <div class='modal-body form-horizontal row'>
                    <div class="form-inline clearfix" style="padding:0 15px 15px 0">
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">公网IP名称：</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control w" data-bind="value:publicNetworkCartInfo().name">
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">所属VDC：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:publicNetworkCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value:publicNetworkCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('publicNetworkCartInfo',data,event) }},optionsCaption:'请选择'"></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">可用分区：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:publicNetworkCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:publicNetworkCartInfo().azUuid,event:{change:function(data, event){ $root.azChangeGetVpc('publicNetworkCartInfo',data,event)}},optionsCaption:'请选择'"></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">所属VPC：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:publicNetworkCartInfo().vpcList,optionsText:'name',optionsValue:'uuid',value:publicNetworkCartInfo().vpcUuid,event:{change:$root.vpcChangeByPublic},optionsCaption:'请选择'"></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">网络名称：</label>
                            <div class="col-sm-8">
                                <select class="form-control input-sm" data-bind="options:publicNetworkCartInfo().networkList,optionsText:'name',optionsValue:'uuid',value:publicNetworkCartInfo().netWorkId,optionsCaption:'请选择'"></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">备注：</label>
                            <div class="col-sm-8">
                                <textarea class="form-control" cols="30" rows="5" data-bind="value: publicNetworkCartInfo().remark"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">申请时长：</label>
                            <div class="col-sm-8">
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" value="1" data-bind="checked: publicNetworkCartInfo().applyType,name:publicNetworkSingle"> 永久
                                    </label>
                                </div>
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" class="form-control" style="top: 2px;" value="2" data-bind="checked: publicNetworkCartInfo().applyType,name:publicNetworkSingle">
                                        <select class="form-control" data-bind="options:$root.applyList,optionsText:'name',optionsValue:'value',value:publicNetworkCartInfo().applyNum"></select> 个月
                                    </label>
                                </div>
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" class="form-control" style="top: 2px;" value="3" data-bind="checked: publicNetworkCartInfo().applyType,name:publicNetworkSingle">
                                        <span class="">有效期至 </span>
                                        <input type="text" style="width:126px" class="form-control applyDateFormat" data-bind="value: publicNetworkCartInfo().applyTime">
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6" data-bind="visible:publicNetworkCartInfo().charge()=='YES'">
                        <div class="row">
                            <label class="col-sm-4 control-label">套餐：</label>
                            <div class="col-sm-3">
								<select class="form-control w-xs" data-bind="options:publicNetworkCartInfo().billRuleList,optionsText:'name',optionsValue:'value',value:publicNetworkCartInfo().billRuleUuid,event:{change:function(data, event){ $root.chargeChangeCart('PUBLICIP',data,event) }},optionsCaption:'请选择'"></select>
                            </div>
                            <span class="control-label col-sm-5 text-left" style="height:34px;" data-bind="text: publicNetworkCartInfo().price"></span>
                        </div>
                    </div>
                </div>
                <div class='modal-footer' style="text-align:center;">
                    <a class="btn btn-default btn-info" data-bind="click: function(data, event){ $root.confirmCommit('publicNetworkCartInfo') }">确定</a>
                    <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
                </div>
            </div>
        </div>
    </div>
    <!-- 公网IP修改 -->
    <!-- 负载均衡 查看-->
    <div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isView_loadbalancer}">
        <div class='modal-dialog modal-lg'>
            <div class='modal-content'>
                <div class='modal-header'>
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
                    <h3 class='modal-title'>负载均衡器服务</h3>
                </div>
                <div class='modal-body form-horizontal row'>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">负载均衡器名称：</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control w" data-bind="value: loadbalancerCartInfo().name" disabled>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">所属VDC：</label>
                            <div class="col-sm-8">
                                <select class="form-control w-xs" data-bind="options:loadbalancerCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value:loadbalancerCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('loadbalancerCartInfo',data,event) }},optionsCaption:'请选择'" disabled></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">可用分区：</label>
                            <div class="col-sm-8">
                                <select class="form-control w-xs" data-bind="options:loadbalancerCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:loadbalancerCartInfo().azUuid,optionsCaption:'请选择'" disabled></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">备注：</label>
                            <div class="col-sm-8">
                                <textarea class="form-control" cols="30" rows="5" data-bind="value: loadbalancerCartInfo().remark" disabled></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">申请时长：</label>
                            <div class="col-sm-8">
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" name="optionsRadiosi" value="1" data-bind="checked: loadbalancerCartInfo().applyType" disabled> 永久
                                    </label>
                                </div>
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="2" data-bind="checked: loadbalancerCartInfo().applyType" disabled>
                                        <select class="form-control" data-bind="options:applyList,optionsText:'name',optionsValue:'value',value: loadbalancerCartInfo().applyNum" disabled></select> 个月
                                    </label>
                                </div>
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="3" data-bind="checked: loadbalancerCartInfo().applyType" disabled>
                                        <span class="">有效期至 </span>
                                        <input type="text" style="width:126px" class="form-control applyDateFormat" data-bind="value: loadbalancerCartInfo().applyTime" disabled>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">套餐：</label>
                            <div class="col-sm-3">
                                <select class="form-control w-xs" disabled>
                                    <option value="1">按天</option>
                                    <option value="1">包月</option>
                                    <option value="1">按季度</option>
                                    <option value="1">包年</option>
                                </select>
                            </div>
                            <span class="control-label col-sm-5 text-left" style="height:34px;">费用：100元/月</span>
                        </div>
                    </div>
                </div>
                <div class='modal-footer' style="text-align:center;">
                    <a class="btn btn-default btn btn-default" data-dismiss="modal">返回</a>
                </div>
            </div>
        </div>
    </div>
    <!-- 负载均衡 查看-->
    <!-- 负载均衡 修改-->
    <div role="dialog" aria-hidden="true" class="modal fade applyModeShow" data-bind="modal: { show: isEdit_loadbalancer}">
        <div class='modal-dialog modal-lg'>
            <div class='modal-content'>
                <div class='modal-header'>
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
                    <h3 class='modal-title'>负载均衡器服务</h3>
                </div>
                <div class='modal-body form-horizontal row'>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">负载均衡器名称：</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control w" data-bind="value: loadbalancerCartInfo().name">
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">所属VDC：</label>
                            <div class="col-sm-8">
                                <select class="form-control w-xs" data-bind="options:loadbalancerCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value:loadbalancerCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('loadbalancerCartInfo',data,event) }},optionsCaption:'请选择'"></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">可用分区：</label>
                            <div class="col-sm-8">
                                <select class="form-control w-xs" data-bind="options:loadbalancerCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:loadbalancerCartInfo().azUuid,optionsCaption:'请选择'"></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">备注：</label>
                            <div class="col-sm-8">
                                <textarea class="form-control" cols="30" rows="5" data-bind="value: loadbalancerCartInfo().remark"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">申请时长：</label>
                            <div class="col-sm-8">
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" name="optionsRadiosi" value="1" data-bind="checked: loadbalancerCartInfo().applyType"> 永久
                                    </label>
                                </div>
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="2" data-bind="checked: loadbalancerCartInfo().applyType">
                                        <select class="form-control" data-bind="options:applyList,optionsText:'name',optionsValue:'value',value: loadbalancerCartInfo().applyNum"></select> 个月
                                    </label>
                                </div>
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="3" data-bind="checked: loadbalancerCartInfo().applyType">
                                        <span class="">有效期至 </span>
                                        <input type="text" style="width:126px" class="form-control applyDateFormat" data-bind="value: loadbalancerCartInfo().applyTime">
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">套餐：</label>
                            <div class="col-sm-3">
                                <select class="form-control w-xs">
                                    <option value="1">按天</option>
                                    <option value="1">包月</option>
                                    <option value="1">按季度</option>
                                    <option value="1">包年</option>
                                </select>
                            </div>
                            <span class="control-label col-sm-5 text-left" style="height:34px;">费用：100元/月</span>
                        </div>
                    </div>
                </div>
                <div class='modal-footer' style="text-align:center;">
                    <a class="btn btn-default btn-info" data-bind="click: function(data, event){ $root.confirmCommit('loadbalancerCartInfo') }">确定</a>
                    <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
                </div>
            </div>
        </div>
    </div>
    <!-- 负载均衡 修改-->
    <!-- ssh密钥 查看-->
    <div role="dialog" aria-hidden="true" class="modal fade applyModeShow" data-bind="modal: { show: isView_sshKeyt}">
        <div class='modal-dialog modal-lg'>
            <div class='modal-content'>
                <div class='modal-header'>
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
                    <h3 class='modal-title'>SSH密钥服务</h3>
                </div>
                <div class='modal-body form-horizontal row'>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">SSH密钥名称：</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control w" data-bind="value: sshKeytCartInfo().name" disabled>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">所属VDC：</label>
                            <div class="col-sm-8">
                                <select class="form-control w-xs" data-bind="options:sshKeytCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value: sshKeytCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('sshKeytCartInfo',data,event) }},optionsCaption:'请选择'" disabled></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">可用分区：</label>
                            <div class="col-sm-8">
                                <select class="form-control w-xs" data-bind="options: sshKeytCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:sshKeytCartInfo().azUuid,optionsCaption:'请选择'" disabled></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">备注：</label>
                            <div class="col-sm-8">
                                <textarea class="form-control" cols="30" rows="5" data-bind="value: sshKeytCartInfo().remark" disabled></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">申请时长：</label>
                            <div class="col-sm-8">
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" name="optionsRadiosi" value="1" data-bind="checked: sshKeytCartInfo().applyType" disabled> 永久
                                    </label>
                                </div>
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="2" data-bind="checked: sshKeytCartInfo().applyType" disabled>
                                        <select class="form-control" data-bind="options:applyList,optionsText:'name',optionsValue:'value',value: sshKeytCartInfo().applyNum" disabled></select> 个月
                                    </label>
                                </div>
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="3" data-bind="checked: sshKeytCartInfo().applyType" disabled>
                                        <span class="">有效期至 </span>
                                        <input type="text" style="width:126px" class="form-control applyDateFormat" data-bind="value: sshKeytCartInfo().applyTime" disabled>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">套餐：</label>
                            <div class="col-sm-3">
                                <select class="form-control w-xs" disabled>
                                    <option value="1">按天</option>
                                    <option value="1">包月</option>
                                    <option value="1">按季度</option>
                                    <option value="1">包年</option>
                                </select>
                            </div>
                            <span class="control-label col-sm-5 text-left" style="height:34px;">费用：100元/月</span>
                        </div>
                    </div>
                </div>
                <div class='modal-footer' style="text-align:center;">
                    <a class="btn btn-default btn btn-default" data-dismiss="modal">返回</a>
                </div>
            </div>
        </div>
    </div>
    <!-- ssh密钥 查看 -->
    <!-- ssh密钥  修改-->
    <div role="dialog" aria-hidden="true" class="modal fade applyModeShow" data-bind="modal: { show: isEdit_sshKeyt}">
        <div class='modal-dialog modal-lg'>
            <div class='modal-content'>
                <div class='modal-header'>
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
                    <h3 class='modal-title'>SSH密钥服务</h3>
                </div>
                <div class='modal-body form-horizontal row'>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">SSH密钥名称：</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control w" data-bind="value: sshKeytCartInfo().name">
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">所属VDC：</label>
                            <div class="col-sm-8">
                                <select class="form-control w-xs" data-bind="options:sshKeytCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value: sshKeytCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('sshKeytCartInfo',data,event) }},optionsCaption:'请选择'"></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">可用分区：</label>
                            <div class="col-sm-8">
                                <select class="form-control w-xs" data-bind="options: sshKeytCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:sshKeytCartInfo().azUuid,optionsCaption:'请选择'"></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">备注：</label>
                            <div class="col-sm-8">
                                <textarea class="form-control" cols="30" rows="5" data-bind="value: sshKeytCartInfo().remark"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">申请时长：</label>
                            <div class="col-sm-8">
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" name="optionsRadiosi" value="1" data-bind="checked: sshKeytCartInfo().applyType"> 永久
                                    </label>
                                </div>
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="2" data-bind="checked: sshKeytCartInfo().applyType">
                                        <select class="form-control" data-bind="options:applyList,optionsText:'name',optionsValue:'value',value: sshKeytCartInfo().applyNum"></select> 个月
                                    </label>
                                </div>
                                <div class="radio">
                                    <label class="form-inline">
                                        <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="3" data-bind="checked: sshKeytCartInfo().applyType">
                                        <span class="">有效期至 </span>
                                        <input type="text" style="width:126px" class="form-control applyDateFormat" data-bind="value: sshKeytCartInfo().applyTime">
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-md-6">
                        <div class="row">
                            <label class="col-sm-4 control-label">套餐：</label>
                            <div class="col-sm-3">
                                <select class="form-control w-xs">
                                    <option value="1">按天</option>
                                    <option value="1">包月</option>
                                    <option value="1">按季度</option>
                                    <option value="1">包年</option>
                                </select>
                            </div>
                            <span class="control-label col-sm-5 text-left" style="height:34px;">费用：100元/月</span>
                        </div>
                    </div>
                </div>
                <div class='modal-footer' style="text-align:center;">
                    <a class="btn btn-default btn-info" data-bind="click: function(data, event){ $root.confirmCommit('sshKeytCartInfo') }">确定</a>
                    <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
                </div>
            </div>
        </div>
    </div>
    <!-- ssh密钥 修改 -->
    <!-- 云主机查看 -->
    <div role="dialog" aria-hidden="true" class="modal fade applyModeShow" data-bind="modal: { show: isView_vm}">
      <div class='modal-dialog modal-lg'>
        <div class='modal-content'>
          <div class='modal-header'>
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>云主机服务</h3>
          </div>
          <div class='modal-body form-horizontal row'>
            <div class="panel panel-default no-height" style="margin:0;border:none">
              <div class="panel-heading">基本信息 <span style="cursor:pointer;" class="glyphicon pull-right" data-bind="click: step1(!step1()),css:{'glyphicon-chevron-up': step1(), 'glyphicon-chevron-down': !step1()}"></span></div>
              <div class="panel-body" data-bind="visible: step1">
                <div class="form-group col-md-6">
                  <div class="row">
                    <label class="col-sm-4 control-label">云主机名称：</label>
                    <div class="col-sm-8">
                      <input type="text" class="form-control w" data-bind="value:vmCartInfo().vmName" disabled>
                    </div>
                  </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-6">
                  <div class="row">
                    <label class="col-sm-4 control-label">所属VDC：</label>
                    <div class="col-sm-8">
                      <select class="form-control w-xs" data-bind="options:vmCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value: vmCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('vmCartInfo',data,event) }},optionsCaption:'请选择'" disabled></select>
                    </div>
                  </div>
                </div>
                <div class="form-group col-md-6">
                  <div class="row">
                    <label class="col-sm-4 control-label">可用分区：</label>
                    <div class="col-sm-8">
                      <select class="form-control w-xs" data-bind="options: vmCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:vmCartInfo().azUuid,event:{changefunction(data, event){ $root.azChangeGetVpc('vmCartInfo',data,event)}},optionsCaption:'请选择'" disabled></select>
                    </div>
                  </div>
                </div>
                <div class="form-group col-md-6">
                  <div class="row">
                    <label class="col-sm-4 control-label">操作系统类型：</label>
                    <div class="col-sm-8">
                      <select class="form-control w-xs" data-bind="options: vmCartInfo().osTypeList,optionsText:$data,optionsValue:$data,value:vmCartInfo().osType,event:{changefunction(data, event){ $root.osTypeChangeGetOsVersion('vmCartInfo',data,event)}},optionsCaption:'请选择'" disabled></select>
                    </div>
                  </div>
                </div>
                <div class="form-group col-md-6">
                  <div class="row">
                    <label class="col-sm-4 control-label">操作系统版本：</label>
                    <div class="col-sm-8">
                      <select class="form-control w-xs" data-bind="options: vmCartInfo().osVersionList,optionsText:'opSysVersion',optionsValue:'uuid',value:vmCartInfo().osVersion,optionsCaption:'请选择'" disabled></select>
                    </div>
                  </div>
                </div>
                <div class="form-group col-md-3">
                  <div class="row">
                    <label class="col-xs-5 control-label">CPU(个)：</label>
                    <div class="col-xs-7">
                      <select class="form-control w-xs" data-bind="options: vmCartInfo().cpuList,optionsText:$data,optionsValue:$data,value:vmCartInfo().cpu,optionsCaption:'请选择'" disabled></select>
                    </div>
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <div class="row">
                    <label class="col-xs-5 control-label">内存(GB)：</label>
                    <div class="col-xs-7">
                      <select class="form-control w-xs" data-bind="options: vmCartInfo().memoryList,optionsText:$data,optionsValue:$data,value:vmCartInfo().memory,optionsCaption:'请选择'" disabled></select>
                    </div>
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <div class="row">
                    <label class="col-xs-5 control-label">存储(GB)：</label>
                    <div class="col-xs-7">
                      <input type="text" class="form-control" data-bind="value: vmCartInfo().storage" disabled>
                    </div>
                  </div>
                </div>
                <div class="form-group col-md-3">
                  <div class="row">
                    <label class="col-xs-5 control-label">VPC/IP池：</label>
                    <div class="col-xs-7">
                      <select class="form-control w-xs" data-bind="options:vmCartInfo().vpcList,optionsText:'name',optionsValue:'uuid',value:vmCartInfo().vpcUuid,event:{change:$root.vpcChange},optionsCaption:'请选择'" disabled></select>
                    </div>
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <div class="row">
                    <label class="col-xs-5 control-label">网络名称：</label>
                    <div class="col-xs-7">
                      <select class="form-control w-xs" data-bind="options:vmCartInfo().networkList,optionsText:'name',optionsValue:'originalId',value:vmCartInfo().vpcNetworkUuid,optionsCaption:'请选择'" disabled></select>
                    </div>
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <div class="row">
                    <label class="col-xs-5 control-label">指定IP：</label>
                    <div class="col-xs-7">
                      <input type="text" class="form-control" data-bind="value: vmCartInfo().ip" disabled>
                    </div>
                  </div>
                </div>
                <div class="form-group col-md-3">
                  <div class="row">
                    <label class="col-xs-5 control-label">主机账号：</label>
                    <div class="col-xs-7">
                      <input type="text" class="form-control"  data-bind="value: vmCartInfo().account" disabled>
                    </div>
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <div class="row">
                    <label class="col-xs-5 control-label">密码：</label>
                    <div class="col-xs-7">
                      <input type="text" class="form-control"  data-bind="value: vmCartInfo().password" disabled>
                    </div>
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <div class="row">
                    <label class="col-xs-5 control-label">重复密码：</label>
                    <div class="col-xs-7">
                      <input type="text" class="form-control"  data-bind="value: vmCartInfo().repeatPassword" disabled>
                    </div>
                  </div>
                </div>
                <div class="form-group col-md-3">
                  <div class="row">
                    <label class="col-xs-5 control-label">绑定密钥：</label>
                    <div class="col-xs-7">
                      <select class="form-control w-xs" data-bind="options:sshIsMountList,optionsText:'name',optionsValue:'value',value:vmCartInfo().sshIsMount" disabled></select>
                    </div>
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <div class="row">
                    <label class="col-xs-5 control-label">选择密钥：</label>
                    <div class="col-xs-7">
                      <select class="form-control w-xs" data-bind="options:vmCartInfo().sshList,optionsText:'name',optionsValue:'uuid',value:vmCartInfo().sshUuid,optionsCaption:'请选择'" disabled></select>
                    </div>
                  </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-5">
                  
                  
                   <div class="row">
                      <label class="col-xs-5 control-label">申请时长：</label>
                      <div class="col-sm-7">
                        <div class="radio">
                          <label class="form-inline">
                            <input type="radio" name="optionsRadiosi"  value="1" data-bind="checked: vmCartInfo().applyType" disabled> 永久
                          </label>
                        </div>
                        <div class="radio">
                          <label class="form-inline">
                            <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="2"  data-bind="checked: vmCartInfo().applyType" disabled> 
                            <select class="form-control" data-bind="options:applyList,optionsText:'name',optionsValue:'value',value: vmCartInfo().applyNum" disabled></select> 个月
                          </label>
                        </div>
                        <div class="radio">
                          <label class="form-inline">
                            <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="3"  data-bind="checked: vmCartInfo().applyType" disabled>
                            <span class="">有效期至 </span>
                            <input type="text" style="width:126px" class="form-control applyDateFormat" data-bind="value: vmCartInfo().applyTime" disabled>
                          </label>
                        </div>
                      </div>
                    </div>
                  
                  
                  
                  
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-3">
                    <div class="row">
                        <label class="col-xs-5 control-label">套餐：</label>
                        <div class="col-xs-7">
                            <select class="form-control w-xs" data-bind="options: vmCartInfo().billRuleList,optionsText:'name',optionsValue:'value',value:vmCartInfo().billRuleUuid,event:{change:$root.chargeChangeCart},optionsCaption:'请选择'" disabled></select>
                        </div>
                    </div>
                </div>
                <span class="control-label col-md-3 text-left" style="height:34px;" data-bind="text: vmCartInfo().price"></span>
              </div>
            </div>
    
            <div class="panel panel-default no-height" style="margin:0;border:none">
              <div class="panel-heading">挂载云硬盘 <span style="cursor:pointer;" class="glyphicon pull-right" data-bind="click: step2(!step2()),css:{'glyphicon-chevron-up': step2(), 'glyphicon-chevron-down': !step2()}"></span></div>
              <div class="panel-body" data-bind="visible: step2">
                <div style="margin:0;">
                  <div class="clearfix" style="height:10px;clear:both;"></div>
                  <div class="panel panel-default table-responsive no-height">
                    <table class="table table-striped">
                      <thead>
                        <th>序号</th>
                        <th>云硬盘名称<i style="color:red">*</i></th>
                        <th>存储大小</th>
                        <th>所属服务</th>
                        <th>申请时长</th>
                        <th>套餐</th>
                        <th>收费标准</th>
                      </thead>
                      <tbody data-bind="foreach:vmCartInfo().mountDisks">
                        <tr>
                            <td><span data-bind="text: ($index()+1)"></span></td>
                            <td><input type="text" class="form-control" data-bind="value:name" disabled/></td>
                            <td><input type="text" class="form-control" data-bind="value:size" disabled/></td>
                            <td><input type="text" data-bind="value:serviceName" disabled/></td>
                            <td><span data-bind="text: $root.vmCartInfo().applyText"></span></td>
                            <td><select class="form-control w-xs" data-bind="options: billRuleList,optionsText:'name',optionsValue:'value',value:billRuleUuid,event:{change:function(data, event){ $root.chargeChangeCart('vdisk_VM',data,event) }},optionsCaption:'请选择'" disabled></select></td>
                            <td><span data-bind="text: price"></span></td>
                        </tr>
                        
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
    
    
    
            <div class="panel panel-default no-height" style="margin:0;border:none">
              <div class="panel-heading">安装软件 <span style="cursor:pointer;" class="glyphicon pull-right" data-bind="click: step3(!step3()),css:{'glyphicon-chevron-up': step3(), 'glyphicon-chevron-down': !step3()}"></span></div>
              <div class="panel-body" data-bind="visible: step3">
                <div style="margin:0;">
                  <div class="clearfix" style="height:10px;clear:both;"></div>
                  <div class="panel panel-default table-responsive no-height">
                    <table class="table table-striped">
                      <thead>
                        <th>软件名称</th>
                        <th>软件分类</th>
                        <th>软件类型</th>
                        <th>软件版本</th>
                        <th>静默安装属性</th>
                      </thead>
                      <tbody>
                        <tr>
                          <td>oracle 10g</td>
                          <td>数据库</td>
                          <td>oracle</td>
                          <td>10G 企业版</td>
                          <td><a class="btn btn-xs btn-default">查看</a></td>
                        </tr>
                        <tr>
                          <td>oracle 10g</td>
                          <td>数据库</td>
                          <td>oracle</td>
                          <td>10G 企业版</td>
                          <td><a class="btn btn-xs btn-default">查看</a> </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
    
            <div class="panel panel-default no-height" style="margin:0;border:none">
              <div class="panel-heading">系统盘分区 <span style="cursor:pointer;" class="glyphicon pull-right" data-bind="click: step4(!step4()),css:{'glyphicon-chevron-up': step4(), 'glyphicon-chevron-down': !step4()}"></span></div>
              <div class="panel-body" data-bind="visible: step4">
                <div style="margin:0;">
                  <div class="clearfix" style="height:10px;clear:both;"></div>
                  <div class="panel panel-default table-responsive no-height">
                    <table class="table table-striped">
                      <thead>
                        <th>分区名称</th>
                        <th>分区大小</th>
                      </thead>
                      <tbody data-bind="foreach:vmCartInfo().partitions">
                        <tr>
                          <td><input type="text" class="form-control" data-bind="value:name" disabled/></td>
                          <td><input type="text" class="form-control" data-bind="value:size" disabled/></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
    
            <div class="panel panel-default no-height" style="margin:0;border:none">
              <div class="panel-heading">高级选项 <span style="cursor:pointer;" class="glyphicon pull-right" data-bind="click: step5(!step5()),css:{'glyphicon-chevron-up': step5(), 'glyphicon-chevron-down': !step5()}"></span></div>
              <div class="panel-body" data-bind="visible: step5">
                <div class="form-group col-md-6">
                  <div class="row">
                    <label class="col-sm-4 control-label">所属业务系统：</label>
                    <div class="col-sm-8">
                      <select class="form-control w-xs" data-bind="options: vmCartInfo().bussyList,optionsText:'name',optionsValue:'uuid',value:vmCartInfo().projectUuid,optionsCaption:'请选择'" disabled></select>
                    </div>
                  </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-6">
                  <div class="row">
                    <label class="col-sm-4 control-label">备注：</label>
                    <div class="col-sm-8">
                    <textarea class="form-control" cols="30" rows="5" data-bind="vmCartInfo().remark" disabled></textarea>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
    
          </div>
          <div class='modal-footer' style="text-align:center;">
            <a class="btn btn-default btn btn-default" data-dismiss="modal">返回</a>
          </div>
        </div>
      </div>
    </div>
    <!-- 云主机 查看-->
    <!-- 云主机 修改 -->
    <div role="dialog" aria-hidden="true" class="modal fade applyModeShow" data-bind="modal: { show: isEdit_vm}">
        <div class='modal-dialog modal-lg'>
            <div class='modal-content'>
                <div class='modal-header'>
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
                    <h3 class='modal-title'>云主机服务</h3>
                </div>
                <div class='modal-body form-horizontal row'>
                    <div class="panel panel-default no-height" style="margin:0;border:none">
                        <div class="panel-heading">基本信息 <span style="cursor:pointer;" class="glyphicon pull-right" data-bind="click: step1(!step1()),css:{'glyphicon-chevron-up': step1(), 'glyphicon-chevron-down': !step1()}"></span></div>
                        <div class="panel-body" data-bind="visible: step1">
                            <div class="form-group col-md-6">
                                <div class="row">
                                    <label class="col-sm-4 control-label">云主机名称：</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control w" data-bind="value:vmCartInfo().vmName">
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="form-group col-md-6">
                                <div class="row">
                                    <label class="col-sm-4 control-label">所属VDC：</label>
                                    <div class="col-sm-8">
                                        <select class="form-control w-xs" data-bind="options:vmCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value: vmCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('vmCartInfo',data,event) }},optionsCaption:'请选择'"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <div class="row">
                                    <label class="col-sm-4 control-label">可用分区：</label>
                                    <div class="col-sm-8">
                                        <select class="form-control w-xs" data-bind="options: vmCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:vmCartInfo().azUuid,event:{changefunction(data, event){ $root.azChangeGetVpc('vmCartInfo',data,event)}},optionsCaption:'请选择'"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <div class="row">
                                    <label class="col-sm-4 control-label">操作系统类型：</label>
                                    <div class="col-sm-8">
                                        <select class="form-control w-xs" data-bind="options: vmCartInfo().osTypeList,optionsText:$data,optionsValue:$data,value:vmCartInfo().osType,event:{changefunction(data, event){ $root.osTypeChangeGetOsVersion('vmCartInfo',data,event)}},optionsCaption:'请选择'"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-6">
                                <div class="row">
                                    <label class="col-sm-4 control-label">操作系统版本：</label>
                                    <div class="col-sm-8">
                                        <select class="form-control w-xs" data-bind="options: vmCartInfo().osVersionList,optionsText:'opSysVersion',optionsValue:'uuid',value:vmCartInfo().osVersion,optionsCaption:'请选择'"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-3">
                                <div class="row">
                                    <label class="col-xs-5 control-label">CPU(个)：</label>
                                    <div class="col-xs-7">
                                        <select class="form-control w-xs" data-bind="options: vmCartInfo().cpuList,optionsText:$data,optionsValue:$data,value:vmCartInfo().cpu,optionsCaption:'请选择'"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-4">
                                <div class="row">
                                    <label class="col-xs-5 control-label">内存(GB)：</label>
                                    <div class="col-xs-7">
                                        <select class="form-control w-xs" data-bind="options: vmCartInfo().memoryList,optionsText:$data,optionsValue:$data,value:vmCartInfo().memory,optionsCaption:'请选择'"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-4">
                                <div class="row">
                                    <label class="col-xs-5 control-label">存储(GB)：</label>
                                    <div class="col-xs-7">
                                        <input type="text" class="form-control" data-bind="value: vmCartInfo().storage">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-3">
                                <div class="row">
                                    <label class="col-xs-5 control-label">VPC/IP池：</label>
                                    <div class="col-xs-7">
                                        <select class="form-control w-xs" data-bind="options:vmCartInfo().vpcList,optionsText:'name',optionsValue:'uuid',value:vmCartInfo().vpcUuid,event:{change:$root.vpcChange},optionsCaption:'请选择'"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-4">
                                <div class="row">
                                    <label class="col-xs-5 control-label">网络名称：</label>
                                    <div class="col-xs-7">
                                        <select class="form-control w-xs" data-bind="options:vmCartInfo().networkList,optionsText:'name',optionsValue:'originalId',value:vmCartInfo().vpcNetworkUuid,optionsCaption:'请选择'"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-4">
                                <div class="row">
                                    <label class="col-xs-5 control-label">指定IP：</label>
                                    <div class="col-xs-7">
                                        <input type="text" class="form-control" data-bind="value: vmCartInfo().ip">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-3">
                                <div class="row">
                                    <label class="col-xs-5 control-label">主机账号：</label>
                                    <div class="col-xs-7">
                                        <input type="text" class="form-control" data-bind="value: vmCartInfo().account">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-4">
                                <div class="row">
                                    <label class="col-xs-5 control-label">密码：</label>
                                    <div class="col-xs-7">
                                        <input type="text" class="form-control" data-bind="value: vmCartInfo().password">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-4">
                                <div class="row">
                                    <label class="col-xs-5 control-label">重复密码：</label>
                                    <div class="col-xs-7">
                                        <input type="text" class="form-control" data-bind="value: vmCartInfo().repeatPassword">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-3">
                                <div class="row">
                                    <label class="col-xs-5 control-label">绑定密钥：</label>
                                    <div class="col-xs-7">
                                        <select class="form-control w-xs" data-bind="options:sshIsMountList,optionsText:'name',optionsValue:'value',value:vmCartInfo().sshIsMount"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-4">
                                <div class="row">
                                    <label class="col-xs-5 control-label">选择密钥：</label>
                                    <div class="col-xs-7">
                                        <select class="form-control w-xs" data-bind="options:vmCartInfo().sshList,optionsText:'name',optionsValue:'uuid',value:vmCartInfo().sshUuid,optionsCaption:'请选择'"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="form-group col-md-5">
                                <div class="row">
                                    <label class="col-xs-5 control-label">申请时长：</label>
                                    <div class="col-sm-7">
                                        <div class="radio">
                                            <label class="form-inline">
                                                <input type="radio" name="optionsRadiosi" value="1" data-bind="checked: vmCartInfo().applyType"> 永久
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label class="form-inline">
                                                <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="2" data-bind="checked: vmCartInfo().applyType">
                                                <select class="form-control" data-bind="options:applyList,optionsText:'name',optionsValue:'value',value: vmCartInfo().applyNum"></select> 个月
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label class="form-inline">
                                                <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="3" data-bind="checked: vmCartInfo().applyType">
                                                <span class="">有效期至 </span>
                                                <input type="text" style="width:126px" class="form-control applyDateFormat" data-bind="value: vmCartInfo().applyTime">
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="form-group col-md-3">
                                <div class="row">
                                    <label class="col-xs-5 control-label">套餐：</label>
                                    <div class="col-xs-7">
                                        <select class="form-control w-xs" data-bind="options: vmCartInfo().billRuleList,optionsText:'name',optionsValue:'value',value:vmCartInfo().billRuleUuid,event:{change:function(data, event){ $root.chargeChangeCart('VM',data,event) }},optionsCaption:'请选择'"></select>
                                    </div>
                                </div>
                            </div>
                            <span class="control-label col-md-3 text-left" style="height:34px;" data-bind="text: vmCartInfo().price"></span>
                        </div>
                    </div>
                    <div class="panel panel-default no-height" style="margin:0;border:none">
                      <div class="panel-heading">挂载云硬盘 <span style="cursor:pointer;" class="glyphicon pull-right" data-bind="click: step2(!step2()),css:{'glyphicon-chevron-up': step2(), 'glyphicon-chevron-down': !step2()}"></span></div>
                      <div class="panel-body" data-bind="visible: step2">
                        <div style="margin:0;">
                          <a class="btn btn-info btn-sm pull-right" data-bind="click: addMountDisks">添加硬盘</a>
                          <div class="clearfix" style="height:10px;clear:both;"></div>
                          <div class="panel panel-default table-responsive no-height">
                            <table class="table table-striped">
                              <thead>
                                <th>序号</th>
                                <th>云硬盘名称<i style="color:red">*</i></th>
                                <th>存储大小</th>
                                <th>所属服务</th>
                                <th>申请时长</th>
                                <th>套餐</th>
                                <th>收费标准</th>
                                <th>操作</th>
                              </thead>
                              <tbody data-bind="foreach:vmCartInfo().mountDisks">
                                <tr>
                                    <td><span data-bind="text: ($index()+1)"></span></td>
                                    <td><input type="text" class="form-control" data-bind="value:name"/></td>
                                    <td><input type="text" class="form-control" data-bind="value:size"/></td>
                                    <td><input type="text" data-bind="value:serviceName" disabled/> <a class="btn btn-xs btn-default" data-bind="click:$root.selectVdiskService_VM">选择</a></td>
                                    <td><span data-bind="text: $root.vmCartInfo().applyText"></span></td>
                                    <td><select class="form-control w-xs" data-bind="options: billRuleList,optionsText:'name',optionsValue:'value',value:billRuleUuid,event:{change:function(data, event){ $root.chargeChangeCart('vdisk_VM',data,event) }},optionsCaption:'请选择'"></select></td>
                                    <td><span data-bind="text: price"></span></td>
                                    <td><a class="btn btn-xs btn-danger" data-bind="click:$root.delMountDisks">删除</a></td>
                                </tr>
                                
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="panel panel-default no-height" style="margin:0;border:none">
                        <div class="panel-heading">安装软件 <span style="cursor:pointer;" class="glyphicon pull-right" data-bind="click: step3(!step3()),css:{'glyphicon-chevron-up': step3(), 'glyphicon-chevron-down': !step3()}"></span></div>
                        <div class="panel-body" data-bind="visible: step3">
                            <div style="margin:0;">
                                <a class="btn btn-info btn-sm pull-right" >添加软件</a>
                                <div class="clearfix" style="height:10px;clear:both;"></div>
                                <div class="panel panel-default table-responsive no-height">
                                    <table class="table table-striped">
                                        <thead>
                                            <th>软件名称</th>
                                            <th>软件分类</th>
                                            <th>软件类型</th>
                                            <th>软件版本</th>
                                            <th>静默安装属性</th>
                                            <th>操作</th>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>oracle 10g</td>
                                                <td>数据库</td>
                                                <td>oracle</td>
                                                <td>10G 企业版</td>
                                                <td><a class="btn btn-xs btn-default">查看</a> <a class="btn btn-xs btn-default">修改</a></td>
                                                <td><a class="btn btn-xs btn-danger" onclick="confirm(\'确定删除吗？\')">删除</a></td>
                                            </tr>
                                            <tr>
                                                <td>oracle 10g</td>
                                                <td>数据库</td>
                                                <td>oracle</td>
                                                <td>10G 企业版</td>
                                                <td><a class="btn btn-xs btn-default">查看</a> <a class="btn btn-xs btn-default">修改</a></td>
                                                <td><a class="btn btn-xs btn-danger" onclick="confirm(\'确定删除吗？\')">删除</a></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default no-height" style="margin:0;border:none">
                      <div class="panel-heading">系统盘分区 <span style="cursor:pointer;" class="glyphicon pull-right" data-bind="click: step4(!step4()),css:{'glyphicon-chevron-up': step4(), 'glyphicon-chevron-down': !step4()}"></span></div>
                      <div class="panel-body" data-bind="visible: step4">
                        <div style="margin:0;">
                          <a class="btn btn-info btn-sm pull-right" data-bind="click: addPartitions">添加分区</a>
                          <div class="clearfix" style="height:10px;clear:both;"></div>
                          <div class="panel panel-default table-responsive no-height">
                            <table class="table table-striped">
                              <thead>
                                <th>分区名称</th>
                                <th>分区大小</th>
                                <th>操作</th>
                              </thead>
                              <tbody data-bind="foreach:vmCartInfo().partitions">
                                <tr>
                                  <td><input type="text" class="form-control" data-bind="value:name"/></td>
                                  <td><input type="text" class="form-control" data-bind="value:size"/></td>
                                  <td><a class="btn btn-xs btn-danger" data-bind="click:$root.delPartitions">删除</a></td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="panel panel-default no-height" style="margin:0;border:none">
                        <div class="panel-heading">高级选项 <span style="cursor:pointer;" class="glyphicon pull-right" data-bind="click: step5(!step5()),css:{'glyphicon-chevron-up': step5(), 'glyphicon-chevron-down': !step5()}"></span></div>
                        <div class="panel-body" data-bind="visible: step5">
                            <div class="form-group col-md-6">
                                <div class="row">
                                    <label class="col-sm-4 control-label">所属业务系统：</label>
                                    <div class="col-sm-8">
                                        <select class="form-control w-xs" data-bind="options: vmCartInfo().bussyList,optionsText:'name',optionsValue:'uuid',value:vmCartInfo().projectUuid,optionsCaption:'请选择'"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="form-group col-md-6">
                                <div class="row">
                                    <label class="col-sm-4 control-label">备注：</label>
                                    <div class="col-sm-8">
                                        <textarea class="form-control" cols="30" rows="5" data-bind="vmCartInfo().remark"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class='modal-footer' style="text-align:center;">
                    <a class="btn btn-default btn-info" data-bind="click: function(data, event){ $root.confirmCommit('vmCartInfo') }">确定</a>
                    <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
                  </div>
            </div>
        </div>
    </div>
    <!-- 云主机 修改 -->
    <!-- 选择云服务页面 -->
    <div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: selectVdiskService }">
      <div class='modal-dialog modal-lg' role='document'>
        <div class='modal-content'>
          <div class='modal-header'>
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>选择云硬盘服务</h3>
          </div>
          <div class='modal-body form-horizontal'>
            <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px" data-bind="with: $root.table_Vdisk_VM">
             <table class="table table-striped">
               <thead>
                 <th></th>
                 <th>云硬盘服务名称<i style="color:red">*</i></th>
                 <th>类型<i style="color:red">*</i></th>
                 <th>是否收费<i style="color:red">*</i></th>
               </thead>
               <tbody>
               <!-- ko foreach: {data: pagedRows, as: '$row'}  -->
                 <tr>
                   <td><input type="radio" style="top:-2px;" name="optionsRadios0"  data-bind="checkedValue: $data, checked: $parent.chosenItems"></td>
                   <td data-bind="text:serviceName"></td>
                   <td data-bind="text:diskType">类型</td>
                   <td data-bind="text:isFee">是/否</td>
                 </tr>
                 <!-- /ko -->
               </tbody>
             </table>
             <footer class="panel-footer" data-bind="with: $root.table_Vdisk_VM">
        <ul class="pagination">
            <li data-bind="css: leftPagerClass, click: prevPage">
              <a href="#">&laquo;</a>
            </li>
            <!-- ko foreach: {data: (new Array(pages()))} -->
            <li data-bind="css: $parent.pageClass($index() + 1)">
              <a href="#" data-bind="text: $index() + 1, click: $parent.gotoPage($index() + 1)"></a>
            </li>
            <!-- /ko -->
            <li data-bind="css: rightPagerClass, click: nextPage">
              <a href="#">&raquo;</a>
            </li>
        </ul>
        </footer>
           </div>
           
         </div>
         <div class='modal-footer' style="text-align:center;">
            <a class="btn btn-default btn-info" data-bind="click: submitVdiskService">确定添加</a>
            <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
          </div>
        </div>
      </div>
    </div>
    <!-- 选择云服务页面 -->
    <!-- 添加软件 -->
    <!-- <div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isAdd_Software }">
      <div class='modal-dialog modal-lg' role='document'>
        <div class='modal-content'>
          <div class='modal-header'>
            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>选择软件</h3>
          </div>
          <div class='modal-body form-horizontal'>
            <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
             <table class="table table-striped">
               <thead>
                 <th></th>
                 <th>软件名称<i style="color:red">*</i></th>
                 <th>软件类型<i style="color:red">*</i></th>
                 <th>软件版本<i style="color:red">*</i></th>
               </thead>
               <tbody>
                 <tr>
                   <td><input type="radio" style="top:-2px;" name="optionsRadios0" id="optionsRadios01" value="option1" checked=""></td>
                   <td>名称</td>
                   <td>类型</td>
                   <td>版本</td>
                 </tr>
               </tbody>
             </table>
           </div>
           
         </div>
         <div class='modal-footer' style="text-align:center;">
            <a class="btn btn-default btn-info" data-bind="click: addSoftwareToList">确定添加</a>
            <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
          </div>
        </div>
      </div>
    </div> -->
    <!-- 添加软件 -->
