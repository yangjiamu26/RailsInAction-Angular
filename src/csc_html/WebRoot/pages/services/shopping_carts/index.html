<style>
	.checkbox{font-size:14px;margin:0;}
	.carts-list-box{padding:20px 20px 0;}
	.table > tbody > tr > th{padding:8px 15px;}
</style>
<div class="bg-light lter b-b wrapper-sm">
  <ol class="breadcrumb">
    <li>当前位置：</li>
    <li>服务</li>
    <li class="active">购物车</li>
  </ol>
</div>
<div class='wrapper-md'>
  <div class="panel panel-default">
  <div class="wrapper-md">
    <div class="clearfix">
      <span class="pull-left corner-1"></span>
      <span class="pull-right corner-2"></span>
    </div>
  </div>
  <div class="wrapper-md">
	<div class="form-inline">
    <div class="checkbox">
      <label class="i-checks">
        <input type="checkbox" data-bind="checked: isSelectedAll">
        <i></i>全选
      </label>
    </div>
		<a class="btn btn-primary btn-sm">生成订单</a>
	</div>
	<div class="carts-list-box">
		<div class="form-inline">
			<div class="checkbox">
        <label class="i-checks">
          <input type="checkbox" data-bind="checked: vmList_isSelectedAll">
          <i></i>云主机
			  </label>
			</div>
			<span class="badge" data-bind="text:vmNum"></span>
		</div>
		<div class="panel panel-default table-responsive no-height" style="margin:10px 15px">
          <table class="table table-striped">
            <thead>
              <th></th>
              <th>云主机名称</th>
              <th>操作系统版本</th>
              <th>CPU(个)</th>
              <th>内存(G)</th>
              <th>存储(G)</th>
              <th>挂载云盘个数</th>
              <th>云软件个数</th>
              <th>所属VDC</th>
              <th>VPC/IP池</th>
              <th>网络名称</th>
              <th>可用分区</th>
              <th>申请时长</th>
              <th>操作</th>
            </thead>
            <tbody>
                <!-- ko foreach: vmList  -->
              <tr>
	              <td>
                      <div class="checkbox">
                          <label class="i-checks"><input type="checkbox" data-bind="checkedValue: $data, checked: $root.vmList_chosens"><i></i></label>
                      </div>
                  </td>
	              <td data-bind="text:vmName"></td>
	              <td data-bind="text:osVersion"></td>
	              <td data-bind="text:cpu"></td>
	              <td data-bind="text:memory"></td>
	              <td data-bind="text:storage"></td>
	              <td data-bind="text:mountDiskNum"></td>
	              <td data-bind="text:softwareNum"></td>
	              <td data-bind="text:vdcName"></td>
	              <td data-bind="text:vpcName"></td>
	              <td data-bind="text:vpcNetworkName"></td>
	              <td data-bind="text:azName"></td>
	              <td data-bind="text:applyText"></td>
	              <td><a data-bind="click: function(data, event){ $root.editElement('view','vmCartInfo',data,event) }">查看</a> 
        				| <a data-bind="click: function(data, event){ $root.editElement('edit','vmCartInfo',data,event) }">修改</a> 
        				| <a data-bind="click: function(data, event){ $root.deleteElement('vmCartInfo',data,event) }">删除</a>
                </td>
              </tr>
              <!-- /ko -->
            </tbody>
          </table>
        </div>
	</div>

	<div class="carts-list-box">
		<div class="form-inline">
			<div class="checkbox">
        <label class="i-checks">
          <input type="checkbox" data-bind="checked: vdiskList_isSelectedAll">
          <i></i>云硬盘
        </label>
			</div>
			<span class="badge" data-bind="text:vdiskNum">1</span>
		</div>
		<div class="panel panel-default table-responsive no-height" style="margin:10px 15px" >
          <table class="table table-striped">
            <thead>
              <th>
              </th>
              <th>云硬盘名称</th>
              <th>存储(G)</th>
              <th>挂载云主机</th>
              <th>所属VDC</th>
              <th>可用分区</th>
              <th>操作</th>
            </thead>
            <tbody>
              <!-- ko foreach: vdiskList  -->
              <tr>
              	<td>
                  <div class="checkbox">
                    <label class="i-checks">
                      <input type="checkbox" data-bind="checkedValue: $data, checked: $root.vdiskList_chosens">
                      <i></i>
                    </label>
                  </div>
                </td>
        				<td data-bind="text:name"></td>
        				<td data-bind="text:size"></td>
        				<td data-bind="text:mountVmName"></td>
        				<td data-bind="text:vdcName"></td>
        				<td data-bind="text:azName"></td>
        				<td><a data-bind="click: function(data, event){ $root.queryElement('vdiskCartInfo',data,event) }">查看</a> 
        				| <a data-bind="click: function(data, event){ $root.editElement('vdiskCartInfo',data,event) }">修改</a> 
        				| <a data-bind="click: function(data, event){ $root.deleteElement('vdiskCartInfo',data,event) }">删除</a>
                </td>
              </tr>
              <!-- /ko -->
            </tbody>
          </table>
        </div>
    </div>

    <div class="carts-list-box">
		<div class="form-inline">
			<div class="checkbox">
			  <label class="i-checks">
          <input type="checkbox" data-bind="checked: objectStorageList_isSelectedAll">
          <i></i>对象存储
        </label>
			</div>
			<span class="badge" data-bind="text:objectStorageNum"></span>
		</div>
		<div class="panel panel-default table-responsive no-height" style="margin:10px 15px">
          <table class="table table-striped">
            <thead>
              <th>
              </th>
              <th>对象存储名称</th>
              <th>存储(G)</th>
              <th>所属VDC</th>
              <th>可用分区</th>
              <th>申请时长</th>
              <th>操作</th>
            </thead>
            <tbody>
              <!-- ko foreach: objectStorageList  -->
              <tr>
              	<td>
                  <div class="checkbox">
                    <label class="i-checks">
                      <input type="checkbox" data-bind="checkedValue: $data, checked: $root.objectStorageList_chosens">
                      <i></i>
                    </label>
                  </div>
                </td>
               	<td data-bind="text:name"></td>
 				<td data-bind="text:size"></td>
 				<td data-bind="text:vdcName"></td>
 				<td data-bind="text:azName"></td>
 				<td data-bind="text:applyType"></td>
				<td><a data-bind="click: function(data, event){ $root.queryElement('objectStorageCartInfo',data,event) }">查看</a> 
        				| <a data-bind="click: function(data, event){ $root.editElement('objectStorageCartInfo',data,event) }">修改</a> 
        				| <a data-bind="click: function(data, event){ $root.deleteElement('objectStorageCartInfo',data,event) }">删除</a>
        		</td>
              </tr>
              <!-- /ko -->
            </tbody>
          </table>
        </div>
    </div>

    <div class="carts-list-box">
		<div class="form-inline">
			<div class="checkbox">
			  <label class="i-checks">
          <input type="checkbox" data-bind="checked: publicNetworkList_isSelectedAll">
          <i></i>公网IP
        </label>
			</div>
			<span class="badge" data-bind="text:publicNetworkNum"></span>
		</div>
		<div class="panel panel-default table-responsive no-height" style="margin:10px 15px">
          <table class="table table-striped">
            <thead>
              <th>
              </th>
              <th>公网IP名称</th>
              <th>所属VDC</th>
              <th>所属VPC</th>
              <th>网络名称</th>
              <th>可用分区</th>
              <th>申请时长</th>
              <th>操作</th>
            </thead>
            <tbody>
            <!-- ko foreach:publicNetworkList -->
              <tr>
              	<td>
                  <div class="checkbox">
                    <label class="i-checks">
                      <input type="checkbox" data-bind="checkedValue: $data, checked: $root.publicNetworkList_chosens">
                      <i></i>
                    </label>
                  </div>
                </td>
               	<td data-bind="text:name"></td>
 				<td data-bind="text:vdcName"></td>
 				<td data-bind="text:vpcName"></td>
 				<td data-bind="text:workip"></td>
 				<td data-bind="text:azName"></td>
 				<td data-bind="text:applyTime"></td>
				<td>
						<a data-bind="click: function(data, event){ $root.queryElement('publicNetworkCartInfo',data,event) }">查看</a> 
        				| <a data-bind="click: function(data, event){ $root.editElement('publicNetworkCartInfo',data,event) }">修改</a> 
        				| <a data-bind="click: function(data, event){ $root.deleteElement('publicNetworkCartInfo',data,event) }">删除</a>
				</td>
              </tr>
              <!-- /ko -->
            </tbody>
          </table>
        </div>
    </div>

    <div class="carts-list-box">
		<div class="form-inline">
			<div class="checkbox">
        <label class="i-checks">
          <input type="checkbox" data-bind="checked: loadbalancerList_isSelectedAll">
          <i></i>负载均衡器
        </label>
			</div>
			<span class="badge" data-bind="text:lbNum"></span>
		</div>
		<div class="panel panel-default table-responsive no-height" style="margin:10px 15px">
          <table class="table table-striped">
            <thead>
              <th>
              </th>
              <th>负载均衡器名称</th>
              <th>所属VDC</th>
              <th>可用分区</th>
              <th>申请时长</th>
              <th>操作</th>
            </thead>
            <tbody>
            <!-- ko foreach:loadbalancerList -->
              <tr>
              	<td>
                  <div class="checkbox">
                    <label class="i-checks">
                      <input type="checkbox" data-bind="checkedValue: $data, checked: $root.loadbalancerList_chosens">
                      <i></i>
                    </label>
                  </div>
                </td>
				<td data-bind="text:name"></td>
				<td data-bind="text:vdcName">研发部</td>
				<td data-bind="text:azName"></td>
				<td data-bind="text:applyText"></td>
				<td>
                    <a data-bind="click: function(data, event){ $root.editElement('view','loadbalancerCartInfo',data,event) }">查看</a> 
        			| <a data-bind="click: function(data, event){ $root.editElement('edit','loadbalancerCartInfo',data,event) }">修改</a> 
        			| <a data-bind="click: function(data, event){ $root.deleteElement('loadbalancerCartInfo',data,event) }">删除</a>
                </td>
              </tr>
              <!-- /ko -->
            </tbody>
          </table>
        </div>
    </div>

    <div class="carts-list-box">
		<div class="form-inline">
			<div class="checkbox">
        <label class="i-checks">
          <input type="checkbox"  data-bind="checked: sshKeytList_isSelectedAll">
          <i></i>SSH密钥
        </label>        
			</div>
			<span class="badge" data-bind="text:sshNum"></span>
		</div>
		<div class="panel panel-default table-responsive no-height" style="margin:10px 15px">
          <table class="table table-striped">
            <thead>
              <th>
              </th>
              <th>SSH密钥名称</th>
              <th>所属VDC</th>
              <th>可用分区</th>
              <th>申请时长</th>
              <th>操作</th>
            </thead>
            <tbody>
            <!-- ko foreach:sshKeytList -->
              <tr>
              	<td>
                  <div class="checkbox">
                    <label class="i-checks">
                      <input type="checkbox"  data-bind="checkedValue: $data, checked: $root.sshKeytList_chosens">
                      <i></i>
                    </label>
                  </div>
                </td>
				<td data-bind="text:name"></td>
				<td data-bind="text:vdcName"></td>
				<td data-bind="text:azName"></td>
				<td data-bind="text:applyText"></td>
				<td>
				    <a data-bind="click: function(data, event){ $root.editElement('view','sshKeytCartInfo',data,event) }">查看</a> 
        			| <a data-bind="click: function(data, event){ $root.editElement('edit','sshKeytCartInfo',data,event) }">修改</a> 
        			| <a data-bind="click: function(data, event){ $root.deleteElement('sshKeytCartInfo',data,event) }">删除</a>
				</td>
              </tr>
              <!-- /ko -->
            </tbody>
          </table>
        </div>
    </div>
	
  	<div class="form-inline" style="margin-top:20px;">
  		<div class="checkbox">
        <label class="i-checks">
          <input type="checkbox" checked>
          <i></i>全选
        </label>
      </div>
  		<a class="btn btn-primary btn-sm">生成订单</a>
  	</div>

    <div class="wrapper-md">
      <div class="clearfix">
        <span class="pull-left corner-3"></span>
        <span class="pull-right corner-4"></span>
      </div>
    </div>

  </div>
	
</div>

<!-- page specific plugin scripts -->
<script type="text/javascript">
var scripts = [null, "assets/lib/moment/moment.js","assets/lib/bootstrap-daterangepicker/daterangepicker.js", null];
  $('.page-content-area').ace_ajax('loadScripts', scripts, function(args) { 	
	  $(".applyModeShow").on("shown.bs.modal",function(){ 
	      $('.applyDateFormat').val(moment().format('YYYY/MM/DD')).daterangepicker( 
	                  { 
	                    format:'YYYY/MM/DD', 
	                    startDate: moment(), 
	                    singleDatePicker:true, 
	                    endDate: moment(), 
	                    separator:'至', 
	                    locale:{ 
	                      applyLabel: '确认', 
	                      cancelLabel: '取消', 
	                      fromLabel: '开始日期', 
	                      toLabel: '结束日期', 
	                      weekLabel: '周', 
	                      customRangeLabel: '自定义范围',                             
	                      daysOfWeek:["日","一","二","三","四","五","六"], 
	                      monthNames:['01月','02月','03月','04月','05月','06月','07月','08月','09月','10月','11月','12月',] 
	                    } 
	                  } 
	                ); 
	   })
	  
	  
	  
	  
	 	function ViewModel(){
		    var self = this;
		    var countries = [{name:'1',value:'1'},{name: '2',value:'2'},{name: '3', value:'3'}];
		    this.applyList = ko.observableArray(countries);
		    var sshIsMounts = [{name:'否',value:'NO'},{name: '是',value:'YES'}];
		    this.sshIsMountList = ko.observableArray(sshIsMounts);
		    //###########    列表、全选     ###############
		    this.isSelectedAll = ko.pureComputed({
		        read: function () {
		            return (this.vdiskList_chosens().length === this.vdiskList().length)
		              && (this.objectStorageList_chosens().length === this.objectStorageList().length)
		              && (this.publicNetworkList_chosens().length === this.publicNetworkList().length)
		              && (this.loadbalancerList_chosens().length === this.loadbalancerList().length)
		              && (this.sshKeytList_chosens().length === this.sshKeytList().length)
		              && (this.vmList_chosens().length === this.vmList().length);
		        },
		        write: function (value) {
		          if(value){
		        	 this.vdiskList_isSelectedAll(true);
		        	 this.objectStorageList_isSelectedAll(true);
		        	 this.publicNetworkList_isSelectedAll(true);
		        	 this.loadbalancerList_isSelectedAll(true);
		        	 this.sshKeytList_isSelectedAll(true);
		        	 this.vmList_isSelectedAll(true);
		          }else{
		             this.vdiskList_isSelectedAll(false);
		             this.objectStorageList_isSelectedAll(false);
		             this.publicNetworkList_isSelectedAll(false);
		             this.loadbalancerList_isSelectedAll(false);
		             this.sshKeytList_isSelectedAll(false);
		             this.vmList_isSelectedAll(false);
		          }
		        },
		        owner: this
		      });
		    
		    this.vdiskList = ko.observableArray();
		    this.objectStorageList = ko.observableArray();
		    this.publicNetworkList = ko.observableArray();
		    this.vdiskList_chosens = ko.observableArray();
		    this.objectStorageList_chosens = ko.observableArray();
		    this.publicNetworkList_chosens = ko.observableArray();
		    
		    this.loadbalancerList = ko.observableArray();
		    this.sshKeytList = ko.observableArray();
		    this.vmList = ko.observableArray();
		    this.loadbalancerList_chosens = ko.observableArray();
		    this.sshKeytList_chosens = ko.observableArray();
		    this.vmList_chosens = ko.observableArray();
		    
		    this.vdiskList_isSelectedAll = ko.pureComputed({
		        read: function () {
		            return (this.vdiskList_chosens().length > 0) && (this.vdiskList_chosens().length === this.vdiskList().length);
		        },
		        write: function (value) {
		          if(value){
		            this.vdiskList_chosens([]);
		            var rows = this.vdiskList();
		            for(var i=0; i<rows.length; i++){
		              this.vdiskList_chosens.push(rows[i]);
		            }
		          }else{
		            this.vdiskList_chosens([]);
		          }
		        },
		        owner: this
		      });
		    
		    this.objectStorageList_isSelectedAll = ko.pureComputed({
		        read: function () {
		            return (this.objectStorageList_chosens().length > 0) && (this.objectStorageList_chosens().length === this.objectStorageList().length);
		        },
		        write: function (value) {
		          if(value){
		            this.objectStorageList_chosens([]);
		            var rows = this.objectStorageList();
		            for(var i=0; i<rows.length; i++){
		              this.objectStorageList_chosens.push(rows[i]);
		            }
		          }else{
		            this.objectStorageList_chosens([]);
		          }
		        },
		        owner: this
		      });
		    
		    this.publicNetworkList_isSelectedAll = ko.pureComputed({
		        read: function () {
		            return (this.publicNetworkList_chosens().length > 0) && (this.publicNetworkList_chosens().length === this.publicNetworkList().length);
		        },
		        write: function (value) {
		          if(value){
		            this.publicNetworkList_chosens([]);
		            var rows = this.publicNetworkList();
		            for(var i=0; i<rows.length; i++){
		              this.publicNetworkList_chosens.push(rows[i]);
		            }
		          }else{
		            this.publicNetworkList_chosens([]);
		          }
		        },
		        owner: this
		      });
		    
		    this.loadbalancerList_isSelectedAll = ko.pureComputed({
		        read: function () {
		            return (this.loadbalancerList_chosens().length > 0) && (this.loadbalancerList_chosens().length === this.loadbalancerList().length);
		        },
		        write: function (value) {
		          if(value){
		            this.loadbalancerList_chosens([]);
		            var rows = this.loadbalancerList();
		            for(var i=0; i<rows.length; i++){
		              this.loadbalancerList_chosens.push(rows[i]);
		            }
		          }else{
		            this.loadbalancerList_chosens([]);
		          }
		        },
		        owner: this
		      });
		    
		    this.sshKeytList_isSelectedAll = ko.pureComputed({
		        read: function () {
		            return (this.sshKeytList_chosens().length > 0) && (this.sshKeytList_chosens().length === this.sshKeytList().length);
		        },
		        write: function (value) {
		          if(value){
		            this.sshKeytList_chosens([]);
		            var rows = this.sshKeytList();
		            for(var i=0; i<rows.length; i++){
		              this.sshKeytList_chosens.push(rows[i]);
		            }
		          }else{
		            this.sshKeytList_chosens([]);
		          }
		        },
		        owner: this
		      });
		    
		    this.vmList_isSelectedAll = ko.pureComputed({
		        read: function () {
		            return (this.vmList_chosens().length > 0) && (this.vmList_chosens().length === this.vmList().length);
		        },
		        write: function (value) {
		          if(value){
		            this.vmList_chosens([]);
		            var rows = this.vmList();
		            for(var i=0; i<rows.length; i++){
		              this.vmList_chosens.push(rows[i]);
		            }
		          }else{
		            this.vmList_chosens([]);
		          }
		        },
		        owner: this
		      });

            function ListVO(obj){       	
            	for(var s in obj){
            	   var v=obj[s];	
            	   if(s=="applyText" && v==null){
            		   if("1"==obj["applyType"]){
            			   v="永久";
            		   }else if("2"==obj["applyType"]){
            			   v=obj["applyNum"]+"个月";
            		   }else if("3"==obj["applyType"]){
            			   v= "有效期至:"+obj["applyTime"].substr(0,10); 
            		   }
            	   }	
                   this[s] = ko.observable(v);
            	}
            } 
		    
            
		    this.vdiskNum = ko.observable("");
		    this.objectStorageNum = ko.observable("");
		    this.publicNetworkNum = ko.observable("");
		    this.lbNum = ko.observable("");
		    this.sshNum = ko.observable("");
		    this.vmNum = ko.observable("");
 		 	csc.rest.get('api/v5.0.0/cart',function(data){
 		 		console.log(data);
 		 		self.vdiskNum(data['vdiskCartInfo'].length);
 		 		data['vdiskCartInfo'].forEach(function(e){
 		 			var vo=new ListVO(e);
  		 			self.vdiskList.push(vo);
 		 		});
		 		self.objectStorageNum(data['objectStorageCartInfo'].length);
 		 		data['objectStorageCartInfo'].forEach(function(e){
 		 			var vo=new ListVO(e);
  		 			self.objectStorageList.push(vo);
 		 		});
		 		self.publicNetworkNum(data['publicNetworkCartInfo'].length);
 		 		data['publicNetworkCartInfo'].forEach(function(e){
 		 			var vo=new ListVO(e);
  		 			self.publicNetworkList.push(vo);
 		 		});
 		 		
 		 		self.lbNum(data['loadbalancerCartInfo'].length);
 		 		data['loadbalancerCartInfo'].forEach(function(e){
 		 			var vo=new ListVO(e);
  		 			self.loadbalancerList.push(vo);
 		 		});
 		 		self.sshNum(data['sshKeytCartInfo'].length);
 		 		data['sshKeytCartInfo'].forEach(function(e){
 		 			var vo=new ListVO(e);
  		 			self.sshKeytList.push(vo);
 		 		});
 		 		self.vmNum(data['vmCartInfo'].length);
 		 		data['vmCartInfo'].forEach(function(e){
 		 			var vo=new ListVO(e);
  		 			self.vmList.push(vo);
 		 		});
		    }); 
 		 	
 		 	//##########    查看、修改、删除     ##############
 		 	this.isView_Vdisk = ko.observable(false);
 		 	this.isView_ObjectStorage = ko.observable(false);
 		 	this.isView_PublicNetwork = ko.observable(false);
 		 	
 		 	this.isView_loadbalancer = ko.observable(false);
 		 	this.isView_sshKeyt = ko.observable(false);
 		 	this.isView_vm = ko.observable(false);

 		 	this.vdcChange = function(arg,data,event){//根据变化的vdc及服务ID查找其下的可用分区
 		        csc.rest.get("api/v5.0.0/cart/getAzList/1/"+data[arg]().vdcUuid, function(result){//需修改为服务UUID作为参数传递
 		        	data[arg]().azList(result);
 		        });	        
 		    };
 		    
 		    this.azChangeGetVm = function(arg,data,event){
 		        csc.rest.get("api/v5.0.0/cart/getVmList/"+data[arg]().vdcUuid+"/"+data[arg]().azUuid, function(data){
 		        	data[arg]().vmList(data);
 		        });	    	
 		    }
 		    
 		    this.azChangeGetVpc = function(arg,data,event){
 		        csc.rest.get("api/v5.0.0/cart/getVpcList/"+data[arg].vdcUuid+"/"+data[arg].azUuid, function(data){
 		        	data[arg].vpcList(data);
 		        });
 		    }
 		   
 		   
 		    this.vpcChange = function(arg,data,event){
 		        csc.rest.get("api/v5.0.0/cart/getNetworkList/1/"+data[arg].vpcUuid, function(data){//需修改为服务UUID作为参数传递
 		        	data[arg].networkList(data);
 		        });
 		    }
 		 	
 		   this.osTypeChangeGetOsVersion = function(arg,data,event){
		        csc.rest.get("api/v5.0.0/cart/getOsVersionList/"+data[arg].azUuid+"/"+data[arg].osType, function(data){
		        	data[arg].osVersionList(data);
		        });
		    }
 		   
 		    
 		 	this.vdiskCartInfo = ko.validatedObservable({
    			id:"",
    			name:"",
    			size:"",
    			vdcUuid:"",
    			azUuid:"",
    			mountVmUuid:"",
    			vdcList:ko.observableArray([]),
    			azList:ko.observableArray([]),
    			vmList:ko.observableArray([])
 		 	});
 		 	
 		 	this.objectStorageCartInfo = ko.validatedObservable({
    			id:"",
    			name:"",
    			size:"",
    			applyTime:"",
    			vdcUuid:"",
    			azUuid:"",
    			billRuleUuid:"",
       			vdcList:ko.observableArray([]),
       			azList:ko.observableArray([])
		 	});
 		 	
 		 	this.publicNetworkCartInfo = ko.validatedObservable({
    			id:"",
    			name:"",
    			vdcUuid:"",
    			azUuid:"",
    			vpdcUuid:"",
    			workip:"",
    			applyTime:"",
    			billRuleUuid:"",
       			vdcList:ko.observableArray([]),
       			azList:ko.observableArray([]),
       			vpcList:ko.observableArray([]),
       			networkList:ko.observableArray([])
		 	});
 		 	
 		 	this.loadbalancerCartInfo = ko.validatedObservable({
    			id:"",
    			name:"",
    			vdcUuid:"",
    			azUuid:"",
    			applyTime:"",
    			applyType:"",
    			applyNum:"",
    			applyText:"",
    			remark:"",
    			billRuleUuid:"",
    			vdcList:ko.observableArray([]),
       			azList:ko.observableArray([])
		 	});
 		 	
 		 	this.sshKeytCartInfo = ko.validatedObservable({
 		 		id:"",
    			name:"",
    			vdcUuid:"",
    			azUuid:"",
    			applyTime:"",
    			applyType:"",
    			applyNum:"",
    			applyText:"",
    			remark:"",
    			billRuleUuid:"",
    			vdcList:ko.observableArray([]),
       			azList:ko.observableArray([])
		 	});
 		 	
 		 	
 		 	
 		 	this.vmCartInfo = ko.validatedObservable({
 		 		id:ko.observable(""),
    			vmName:ko.observable(""),
    			vdcUuid:ko.observable(""),
    			azUuid:ko.observable(""),
    			applyTime:ko.observable(""),
    			applyType:ko.observable(""),
    			applyNum:ko.observable(""),
    			applyText:ko.observable(""),
    			remark:ko.observable(""),
    			billRuleUuid:ko.observable(""),
    			
    			osType:ko.observable(""),
    			osVersion:ko.observable(""),
    			cpu:ko.observable(""),
    			memory:ko.observable(""),
    			storage:ko.observable(""),
    			vpcUuid:ko.observable(""),
    			vpcNetworkUuid:ko.observable(""),
    			ip:ko.observable(""),
    			account:ko.observable(""),
    			password:ko.observable(""),
    			repeatPassword:ko.observable(""),
    			sshIsMount:ko.observable(""),
    			
    			//分区
                partitions : ko.observableArray([]),
                //硬盘
                mountDisks : ko.observableArray([]),
                
                softwares : ko.observableArray([]),
    			
    			
    			vdcList:ko.observableArray([]),
       			azList:ko.observableArray([]),
       			osTypeList:ko.observableArray([]),
       			osVersionList:ko.observableArray([]),
       			cpuList:ko.observableArray([]),
       			memoryList:ko.observableArray([]),
       			vpcList:ko.observableArray([]),
       			networkList:ko.observableArray([])
       			
       			
		 	});
 		 	this.queryElement = function(arg,object, event){
 	 		 	csc.rest.get('api/v5.0.0/cart/query/'+arg+'/'+object.uuid(),function(data){
 	 		 	  if(arg=='vdiskCartInfo'){
 	 		 		self.vdiskCartInfo.fromJSON(data);
 	 		 		self.isView_Vdisk(true);
 	 		 	  }else if(arg=='objectStorageCartInfo'){
 	 		 		self.objectStorageCartInfo.fromJSON(data);
 	 		 		self.isView_ObjectStorage(true);	 		 		  
 	 		 	  }else if(arg=="publicNetworkCartInfo"){
 	 		 		self.publicNetworkCartInfo.fromJSON(data);
 	 		 		self.isView_PublicNetwork(true);	 	 		 		  
 	 		 	  }else if(arg=="loadbalancerCartInfo"){
 	 		 	  }else if(arg=="sshKeytCartInfo"){
 	 		 	  }else if(arg=="vmCartInfo"){
  	 		 		self.vmCartInfo.fromJSON(data);
 	 		 		self.isView_vm(true);	 	 		 		  
 	 		 	  }
 			    }); 
 		 	}
 		 	
 		 	this.isEdit_Vdisk = ko.observable(false);
 		 	this.isEdit_ObjectStorage = ko.observable(false);
 		 	this.isEdit_PublicNetwork = ko.observable(false);
 		 	
 		 	this.isEdit_loadbalancer = ko.observable(false);
 		 	this.isEdit_sshKeyt = ko.observable(false);
 		 	this.isEdit_vm = ko.observable(false);
 		 	var editObject;
 		 	this.editElement = function(dis,arg,object, event){
 		 		self.vmCartInfo().mountDisks([]);
 		 		
 	 		 	csc.rest.get('api/v5.0.0/cart/query/'+arg+'/'+object.uuid(),function(data){
 	 	 		 	  if(arg=='vdiskCartInfo'){
	 	 	 		        csc.rest.get("api/v5.0.0/cart/getVdcList/1", function(result1){//需修改为服务UUID作为参数传递
	 	 	 		        	self.vdiskCartInfo().vdcList(result1);
	 	 	 	 		        csc.rest.get("api/v5.0.0/cart/getAzList/1/"+data.vdcUuid, function(result2){//需修改为服务UUID作为参数传递
	 	 	 	 		        	self.vdiskCartInfo().azList(result2);
		 		 	 		        csc.rest.get("api/v5.0.0/cart/getVmList/"+data.vdcUuid+"/"+data.azUuid, function(result3){
		 	 	 	 		        	self.vdiskCartInfo().vmList(result3);
		 	 	 	 		        	self.vdiskCartInfo.fromJSON(data);
		 		 	 	 		 		self.vdiskCartInfo().id = object.id();
		 		 	  	 		 		self.isEdit_Vdisk(true);	
		 		 	  	 		 		editObject = object;
		 	 	 	 		        });	
	 	 	 	 		        });
	 	 	 		        });
 	  	 		 	  }else if(arg=='objectStorageCartInfo'){
	 	 	 		        csc.rest.get("api/v5.0.0/cart/getVdcList/1", function(result1){//需修改为服务UUID作为参数传递
	 	 	 		        	self.objectStorageCartInfo().vdcList(result1);
	 	 	 	 		        csc.rest.get("api/v5.0.0/cart/getAzList/1/"+data.vdcUuid, function(result2){//需修改为服务UUID作为参数传递
	 	 	 	 		        	self.objectStorageCartInfo().azList(result2);
	 	 	 	 		            console.log(data);
	 		 	 	 		 		self.objectStorageCartInfo.fromJSON(data);
	 	 	 	 	 		 		self.objectStorageCartInfo().id = object.id();
	 	 	 	  	 		 		self.isEdit_ObjectStorage(true);
	 	 	 	  	 		 		editObject = object;
	 	 	 	 		        });
	 	 	 		        });
 	 	 		 	  }else if(arg=="publicNetworkCartInfo"){
	 	 	 		        csc.rest.get("api/v5.0.0/cart/getVdcList/1", function(result1){//需修改为服务UUID作为参数传递
	 	 	 		        	self.publicNetworkCartInfo().vdcList(result1);
	 	 	 	 		        csc.rest.get("api/v5.0.0/cart/getAzList/1/"+data.vdcUuid, function(result2){//需修改为服务UUID作为参数传递
	 	 	 	 		        	self.publicNetworkCartInfo().azList(result2);
		 		 	 		        csc.rest.get("api/v5.0.0/cart/getVpcList/"+data.vdcUuid+"/"+data.azUuid, function(result3){
		 	 	 	 		        	console.log("vpc");
		 	 	 	 		        	console.log(result3);
		 		 	 		        	self.publicNetworkCartInfo().vpcList(result3);
			 	 	 	 		        csc.rest.get("api/v5.0.0/cart/getNetworkList/1/"+data.vpcUuid, function(result4){
			 	 	 	 		        	console.log(data);
			 	 	 	 		        	console.log(result4);
			 	 	 	 		        	self.publicNetworkCartInfo().networkList(result4);
			 		 	 	 		 		self.publicNetworkCartInfo.fromJSON(data);
			 	 	 	 	 		 		self.publicNetworkCartInfo().id = object.id();
			 	 	 	  	 		 		self.isEdit_PublicNetwork(true);
			 	 	 	  	 		 		editObject = object;
			 	 	 	 		        });
		 	 	 	 		        });	
	 	 	 	 		        });
	 	 	 		        });
	 		      	  }else if(arg=="loadbalancerCartInfo"){
	 		      		csc.rest.get("api/v5.0.0/cart/getVdcList/1", function(result1){//需修改为服务UUID作为参数传递
 	 	 		        	self.loadbalancerCartInfo().vdcList(result1);
 	 	 	 		        csc.rest.get("api/v5.0.0/cart/getAzList/1/"+data.vdcUuid, function(result2){//需修改为服务UUID作为参数传递
 	 	 	 		        	self.loadbalancerCartInfo().azList(result2);
 	 	 	 		            self.loadbalancerCartInfo.fromJSON(data);
 	 	 	 		            if(dis=='view'){
	 	 	 	 	 		 		self.isView_loadbalancer(true);
 	 	 	 		            }else{
			 	 	 		 		self.loadbalancerCartInfo().id = object.id();
			 	  	 		 		self.isEdit_loadbalancer(true);	
			 	  	 		 		editObject = object;
 	 	 	 		            }
 	 	 	 		            
 	 	 	 		        });
 	 	 		        });
	 		      	  }else if(arg=="sshKeytCartInfo"){
		 		      		csc.rest.get("api/v5.0.0/cart/getVdcList/1", function(result1){//需修改为服务UUID作为参数传递
	 	 	 		        	self.sshKeytCartInfo().vdcList(result1);
	 	 	 	 		        csc.rest.get("api/v5.0.0/cart/getAzList/1/"+data.vdcUuid, function(result2){//需修改为服务UUID作为参数传递
	 	 	 	 		        	self.sshKeytCartInfo().azList(result2);
	 	 	 	 		            self.sshKeytCartInfo.fromJSON(data);
	 	 	 	 		            if(dis=='view'){
		 	 	 	 	 		 		self.isView_sshKeyt(true);
	 	 	 	 		            }else{
				 	 	 		 		self.sshKeytCartInfo().id = object.id();
				 	  	 		 		self.isEdit_sshKeyt(true);	
				 	  	 		 		editObject = object;
	 	 	 	 		            }
	 	 	 	 		            
	 	 	 	 		        });
	 	 	 		        });
		 		      }else if(arg=="vmCartInfo"){
		 		    	  var serviceUuid=1;
		 		    	  var vdcUuid=data.vdcUuid;
		 		    	  var azUuid=data.azUuid;
		 		    	  var vpcUuid=data.vpcUuid;
		 		    	  var osType=1;
		 		    	  var uri="serviceUuid="+serviceUuid+"&vdcUuid="+vdcUuid+"&azUuid="+azUuid+"&vpcUuid="+vpcUuid+"&osType="+osType;
		 		         
		 		    	 csc.rest.get("api/v5.0.0/cart/getCartSelectList?"+uri, function(result){debugger
		 		    		console.log(result.osTypeList);
		 		    	    self.vmCartInfo().vdcList(result.vdcList);
		 		    	    self.vmCartInfo().vpcList(result.vpcList);
		 		    	    self.vmCartInfo().networkList(result.networkList);
		 		    	    self.vmCartInfo().azList(result.azList);
		 		    	    self.vmCartInfo().osTypeList(result.osTypeList);
		 		    	    self.vmCartInfo().cpuList(result.cpuList);
		 		    	    self.vmCartInfo().memoryList(result.memoryList);
	 	 	 		 		
		 		    	    
		 		    	    
		 		    	    self.vmCartInfo.fromJSON({
		 		    	    	id:data.id,
		 		    			vmName:data.vmName,
		 		    			vdcUuid:data.vdcUuid,
		 		    			azUuid:data.azUuid,
		 		    			applyTime:data.applyTime,
		 		    			applyType:data.applyType,
		 		    			applyNum:data.applyNum,
		 		    			applyText:data.applyText,
		 		    			remark:data.remark,
		 		    			billRuleUuid:data.billRuleUuid,
		 		    			
		 		    			osType:data.osType,
		 		    			osVersion:data.osVersion,
		 		    			cpu:data.cpu,
		 		    			memory:data.memory,
		 		    			storage:data.storage,
		 		    			vpcUuid:data.vpcUuid,
		 		    			vpcNetworkUuid:data.vpcNetworkUuid,
		 		    			ip:data.ip,
		 		    			account:data.account,
		 		    			password:data.password,
		 		    			repeatPassword:data.repeatPassword,
		 		    			sshIsMount:data.sshIsMount
		 		    	    });
		 		    	    
		 		    	    data.mountDisks.forEach(function(e){
		 	 		 			var vo=new VO(e);
		 	 		 			self.vmCartInfo().mountDisks.push(vo);
		 	 		 		});
		 		    	   
		 		    	    
		 		    	    //self.vmCartInfo().id = object.id();
	 	  	 		 		self.isEdit_vm(true);
	 	  	 		 		editObject = object;
		 		    	 });
	 		      	  }
 	 	 		 	  
 	 	 		 	
 	 	 		 	
 	 			    }); 	 		
 		 	}
 		 	
 		 	function VO(obj){       	
            	for(var s in obj){
            	   var v=obj[s];	
                   this[s] = ko.observable(v);
            	}
            } 
 		 	
	      	this.deleteElement = function(arg,object,event){
	      		    var id;
	      		    var name;
	      			if(arg=="vmCartInfo"){
	      				id=object.uuid();
	      				name=object.vmName();
	      			}else{
	      				id=object.id();
	      				name=object.name();
	      			}
  	      		systemMsg.confirm("确定删除"+name+"吗?",function(){
  	      			
	 	 		 	csc.rest.del('api/v5.0.0/cart/delete/'+arg+'/'+id,function(data){
	 	 		 		systemMsg.alert('删除成功！');	
					 	if(arg=="vdiskCartInfo"){
					 		self.vdiskList.remove(object);
			      		}else if(arg=="objectStorageCartInfo"){
			      			self.objectStorageList.remove(object);
			      		}else if(arg=="publicNetworkCartInfo"){
			      			self.publicNetworkList.remove(object);
			      		}else if(arg=="loadbalancerCartInfo"){
			      			self.loadbalancerList.remove(object);
			      			self.lbNum(self.lbNum()-1);
			      		}else if(arg=="sshKeytCartInfo"){
			      			self.sshKeytList.remove(object);
			      			self.sshNum(self.sshNum()-1);
			      		}else if(arg=="vmCartInfo"){
			      			self.vmList.remove(object);
			      			self.vmNum(self.vmNum()-1);
			      		}
					 	
	 			    }); 
	      		});
	      	}
	      	
	      	
	      	this.convertApplyText=function(applyType,applyNum,applyTime){
	      	   var v="";
      		   if("1"==applyType){
      			   v="永久";
      		   }else if("2"==applyType){
      			   v=applyNum+"个月";
      		   }else if("3"==applyType){
      			   v= "有效期至:"+applyTime.substr(0,10); 
      		   }
      		   editObject.applyText(v);
	      	}
	      	
	      	this.confirmCommit = function(arg){
	      		var json;
	      		if(arg=="vdiskCartInfo"){
					json = self.vdiskCartInfo.toJSON();
	      		}else if(arg=="objectStorageCartInfo"){
	      			json = self.objectStorageCartInfo.toJSON();
	      		}else if(arg=="publicNetworkCartInfo"){
	      			json = self.publicNetworkCartInfo.toJSON();
	      		}else if(arg=="loadbalancerCartInfo"){
	      			json = self.loadbalancerCartInfo.toJSON();
	      		}else if(arg=="sshKeytCartInfo"){
	      			json = self.sshKeytCartInfo.toJSON();
	      		}
	      		console.log(json)
			 	csc.rest.put('api/v5.0.0/cart/update/'+arg,json,function(data){
			 		systemMsg.alert('修改成功！');
					 if(arg=="vdiskCartInfo"){
		      			self.isEdit_Vdisk(false);
		      			var vdcItem = _.findWhere(self.vdiskCartInfo().vdcList(), {uuid: data.vdcUuid});
		      			var azItem = _.findWhere(self.vdiskCartInfo().azList(), {uuid: data.azUuid});
		      			var vmItem = _.findWhere(self.vdiskCartInfo().vmList(), {uuid: data.mountVmUuid});
		      			editObject.name(self.vdiskCartInfo().name);
		      			editObject.size(self.vdiskCartInfo().size);
		      			editObject.vdcName(vdcItem.name);
		      			editObject.azName(azItem.name);
		      			editObject.mountVmName(vmItem.resourceName);
		      		}else if(arg=="objectStorageCartInfo"){
		      			self.isEdit_ObjectStorage(false);
		      			var vdcItem = _.findWhere(self.objectStorageCartInfo().vdcList(), {uuid: data.vdcUuid});
		      			var azItem = _.findWhere(self.objectStorageCartInfo().azList(), {uuid: data.azUuid});
		      			editObject.name(self.objectStorageCartInfo().name);
		      			editObject.size(self.objectStorageCartInfo().size);
		      			editObject.vdcName(vdcItem.name);
		      			editObject.azName(azItem.name);
		      		}else if(arg=="publicNetworkCartInfo"){
		      			self.isEdit_PublicNetwork(false);
		      			var vdcItem = _.findWhere(self.publicNetworkCartInfo().vdcList(), {uuid: data.vdcUuid});
		      			var azItem = _.findWhere(self.publicNetworkCartInfo().azList(), {uuid: data.azUuid});
		      			var vpcItem = _.findWhere(self.publicNetworkCartInfo().vpcList(), {uuid: data.vpcUuid});
		      			var networkItem = _.findWhere(self.publicNetworkCartInfo().networkList(), {uuid: data.workip});
		      			editObject.name(self.publicNetworkCartInfo().name);
		      			editObject.vdcName(vdcItem.name);
		      			editObject.azName(azItem.name);
		      			editObject.vpcName(vpcItem.name);
		      			editObject.workip(networkItem.name);
		      			//..
		      		}else if(arg=="loadbalancerCartInfo"){
		      			self.isEdit_loadbalancer(false);
		      			var vdcItem = _.findWhere(self.loadbalancerCartInfo().vdcList(), {uuid: data.vdcUuid});
		      			var azItem = _.findWhere(self.loadbalancerCartInfo().azList(), {uuid: data.azUuid});
		      			editObject.name(self.loadbalancerCartInfo().name);
		      			editObject.vdcName(vdcItem.name);
		      			editObject.azName(azItem.name);
		      			self.convertApplyText(data.applyType,data.applyNum,data.applyTime)
		      		}else if(arg=="sshKeytCartInfo"){
		      			self.isEdit_sshKeyt(false);
		      			var vdcItem = _.findWhere(self.sshKeytCartInfo().vdcList(), {uuid: data.vdcUuid});
		      			var azItem = _.findWhere(self.sshKeytCartInfo().azList(), {uuid: data.azUuid});
		      			editObject.name(self.sshKeytCartInfo().name);
		      			editObject.vdcName(vdcItem.name);
		      			editObject.azName(azItem.name);
		      			self.convertApplyText(data.applyType,data.applyNum,data.applyTime)
		      		}
			    });
	      	}
	      	
	      	
	      	
	      	
	      	this.step1 = ko.observable(false);
	        this.step2 = ko.observable(true);
	        this.step3 = ko.observable(true);
	        this.step4 = ko.observable(true);
	        this.step5 = ko.observable(true);

	        function MountDiskVO(){
		    	this.name = ko.observable();
			  	this.size = ko.observable();
			  	this.type = ko.observable();
			  	this.serviceUuid = ko.observable();
		    }
	        
	        this.isAdd_Vdisk = ko.observable(false);
	        this.addVdisk = function(){
	        	self.vmCartInfo().mountDisks.push(new MountDiskVO);
	        	
	        	debugger;
	            //this.isAdd_Vdisk(true);
	        }
	        this.addVdiskToList = function(){
	          this.isAdd_Vdisk(false);
	        }

	        this.isAdd_Software = ko.observable(false);
	        this.addSoftware = function(){
	          this.isAdd_Software(true);
	        }
	        this.addSoftwareToList = function(){
	          this.isAdd_Software(false);
	        }

	        this.isAdd_Partition = ko.observable(false);
	        this.addPartition = function(){
	          this.isAdd_Partition(true);
	        }
	        this.addPartitionToList = function(){
	          this.isAdd_Partition(false);
	        }
	    }
		ko.applyBindings(new ViewModel, $('#page-content .tab-pane')[0]);
  });
</script>




<!-- 云硬盘查看 -->
<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isView_Vdisk}">	
  <div class='modal-dialog modal-lg' style="width:800px;">
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>查看云硬盘服务</h3>
      </div>
      <div class='modal-body'>
        <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
          <table class="table table-striped">
            <thead>
              <tr>
              <th>云硬盘名称<i style="color:red">*</i></th>
              <th>存储大小(G)<i style="color:red">*</i></th>
              <th>所属VDC<i style="color:red">*</i></th>
              <th>挂载云主机</th>
              <th>可用分区</th>
              <th>收费标准</th>
            </tr></thead>
            <tbody><tr>
            <td><span data-bind="text:vdiskCartInfo().name"></span></td>
            <td><span data-bind="text:vdiskCartInfo().size"></span></td>
            <td><span data-bind="text:vdiskCartInfo().vdcName"></span></td>
            <td><span data-bind="text:vdiskCartInfo().azName"></span></td>
            <td><span data-bind="text:vdiskCartInfo().mountVmName"></span></td>
            <td>0.5元/小时</td></tr></tbody>
          </table>
        </div>
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn btn-default" data-dismiss="modal">返回</a>
      </div>
    </div>
  </div>
</div>
<!-- 云硬盘查看 -->
<!-- 云硬盘修改 -->
<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isEdit_Vdisk}">	
  <div class='modal-dialog modal-lg' style="width:800px;">
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>修改云硬盘服务</h3>
      </div>
      <div class='modal-body'>
        <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
        <input style="display:none" type="text" class="form-control input-sm" data-bind="value:vdiskCartInfo().id">
          <table class="table table-striped">
            <thead>
              <tr>
              <th>云硬盘名称<i style="color:red">*</i></th>
              <th>存储大小(G)<i style="color:red">*</i></th>
              <th>所属VDC<i style="color:red">*</i></th>
              <th>可用分区<i style="color:red">*</i></th>
              <th>挂载云主机</th>
              <th>收费标准</th>
            </tr></thead>
            <tbody><tr>
            <td><input type="text" class="form-control input-sm" data-bind="value:vdiskCartInfo().name"></td>
            <td><input type="text" class="form-control input-sm" data-bind="value:vdiskCartInfo().size"></td>
            <td><select class="form-control input-sm" data-bind="options:vdiskCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value:vdiskCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('vdiskCartInfo',data,event) }},optionsCaption:'请选择'"></select></td>
            <td><select class="form-control input-sm" data-bind="options:vdiskCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:vdiskCartInfo().azUuid,event:{change:$root.azChangeGetVm},optionsCaption:'请选择'"></select></td>
            <td><select class="form-control input-sm" data-bind="options:vdiskCartInfo().vmList,optionsText:'resourceName',optionsValue:'uuid',value:vdiskCartInfo().mountVmUuid,optionsCaption:'请选择'"></select></td>
            <td><input type="text" class="form-control input-sm" data-bind="value:vdiskCartInfo().mountVmUuid"></td>
            <td>0.5元/小时</td></tr></tbody>
          </table>
        </div>
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info" data-bind="click: function(data, event){ $root.confirmCommit('vdiskCartInfo') }">确定</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>
<!-- 云硬盘修改 -->
<!-- 对象存储查看 -->
<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isView_ObjectStorage}">
  <div class='modal-dialog modal-lg' style="width:800px;">
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>修改对象存储服务</h3>
      </div>
      <div class='modal-body'>
        <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
          <table class="table table-striped">
            <thead>
              <tr>
              <th>对象存储名称<i style="color:red">*</i></th>
              <th>存储大小(G)<i style="color:red">*</i></th>
              <th>所属VDC<i style="color:red">*</i></th>
              <th>可用分区<i style="color:red">*</i></th>
              <th>申请时长</th>
              <th>套餐</th>
              <th>收费标准</th>
            </tr></thead>
            <tbody>
            <tr>
	            <td><span data-bind="text:objectStorageCartInfo().name"></span></td>
	            <td><span data-bind="text:objectStorageCartInfo().size"></span></td>
	            <td><span data-bind="text:objectStorageCartInfo().vdcName"></span></td>
	            <td><span data-bind="text:objectStorageCartInfo().azName"></span></td>
	            <td><span data-bind="text:objectStorageCartInfo().applyTime"></span></td>
	            <td><span data-bind="text:objectStorageCartInfo().billRuleUuid"></span></td>
	            <td>0.5元/小时</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn btn-default" data-dismiss="modal">返回</a>
      </div>
    </div>
  </div>
</div>
<!-- 对象存储查看 -->
<!-- 对象存储修改 -->
<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isEdit_ObjectStorage}">
  <div class='modal-dialog modal-lg' style="width:800px;">
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>修改对象存储服务</h3>
      </div>
      <div class='modal-body'>
      	<input style="display:none" type="text" class="form-control input-sm" data-bind="value:objectStorageCartInfo().id">
        <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
          <table class="table table-striped">
            <thead>
              <tr>
              <th>对象存储名称<i style="color:red">*</i></th>
              <th>存储大小(G)<i style="color:red">*</i></th>
              <th>所属VDC<i style="color:red">*</i></th>
              <th>可用分区<i style="color:red">*</i></th>
              <th>申请时长</th>
              <th>套餐</th>
              <th>收费标准</th>
            </tr></thead>
            <tbody>
            <tr>
            <td><input type="text" class="form-control input-sm" data-bind="value:objectStorageCartInfo().name"></td>
            <td><input type="text" class="form-control input-sm" data-bind="value:objectStorageCartInfo().size"></td>
            <td><select class="form-control input-sm" data-bind="options:objectStorageCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value:objectStorageCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('objectStorageCartInfo',data,event) }},optionsCaption:'请选择'"></select></td>
            <td><select class="form-control input-sm" data-bind="options:objectStorageCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:objectStorageCartInfo().azUuid,optionsCaption:'请选择'"></select></td>
            <td><input type="text" class="form-control input-sm" data-bind="value:objectStorageCartInfo().applyTime"></td>
            <td><input type="text" class="form-control input-sm" data-bind="value:objectStorageCartInfo().billRuleUuid"></td>
            <td>0.5元/小时</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info" data-bind="click: function(data, event){ $root.confirmCommit('objectStorageCartInfo') }">确定</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>
<!-- 对象存储修改 -->
<!-- 公网IP查看 -->
<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isView_PublicNetwork}">
  <div class='modal-dialog modal-lg' style="width:800px;">
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>修改公网IP服务</h3>
      </div>
      <div class='modal-body'>
        <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
          <table class="table table-striped">
            <thead>
              <tr>
              <th>公网IP名称<i style="color:red">*</i></th>
              <th>所属VDC<i style="color:red">*</i></th>
              <th>VPC名称<i style="color:red">*</i></th>
              <th>指定IP</th>
              <th>申请时长<i style="color:red">*</i></th>
              <th>收费标准</th>
            </tr></thead>
            <tbody>
            <tr>
	            <td><span data-bind="text:publicNetworkCartInfo().name"></span></td>
	            <td><span data-bind="text:publicNetworkCartInfo().vdcUuid"></span></td>
	            <td><span data-bind="text:publicNetworkCartInfo().vpcUuid"></span></td>
	            <td><span data-bind="text:publicNetworkCartInfo().workip"></span></td>
	            <td><span data-bind="text:publicNetworkCartInfo().applyTime"></span></td>
	            <td><span data-bind="text:publicNetworkCartInfo().billRuleUuid"></span></td>
            </tr></tbody>
          </table>
        </div>
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn btn-default" data-dismiss="modal">返回</a>
      </div>
    </div>
  </div>
</div>
<!-- 公网IP查看 -->
<!-- 公网IP修改 -->
<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isEdit_PublicNetwork}">
  <div class='modal-dialog modal-lg' style="width:800px;">
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>修改公网IP服务</h3>
      </div>
      <div class='modal-body'>
        <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
          <table class="table table-striped">
            <thead>
              <tr>
              <th>公网IP名称<i style="color:red">*</i></th>
              <th>所属VDC<i style="color:red">*</i></th>
              <th>可用分区<i style="color:red">*</i></th>
              <th>所属VPC<i style="color:red">*</i></th>
              <th>网络名称<i style="color:red">*</i></th>
              <th>申请时长<i style="color:red">*</i></th>
              <th>收费标准</th>
            </tr></thead>
            <tbody>
            	<tr>
	            	<td><input type="text" class="form-control input-sm" data-bind="value:publicNetworkCartInfo().name"></td>
           		    <td><select class="form-control input-sm" data-bind="options:publicNetworkCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value:publicNetworkCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('publicNetworkCartInfo',data,event) }},optionsCaption:'请选择'"></select></td>
                    <td><select class="form-control input-sm" data-bind="options:publicNetworkCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:publicNetworkCartInfo().azUuid,event:{change:$root.azChangeGetVpc},optionsCaption:'请选择'"></select></td>
                    <td><select class="form-control input-sm" data-bind="options:publicNetworkCartInfo().vpcList,optionsText:'name',optionsValue:'uuid',value:publicNetworkCartInfo().vpcUuid,event:{change:$root.vpcChange},optionsCaption:'请选择'"></select></td>
                    <td><select class="form-control input-sm" data-bind="options:publicNetworkCartInfo().networkList,optionsText:'name',optionsValue:'uuid',value:publicNetworkCartInfo().workip,optionsCaption:'请选择'"></select></td>
		            <td><input type="text" class="form-control input-sm" data-bind="value:publicNetworkCartInfo().applyTime"></td>
		            <td><input type="text" class="form-control input-sm" data-bind="value:publicNetworkCartInfo().billRuleUuid"></td>
            	</tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info" data-bind="click: function(data, event){ $root.confirmCommit('publicNetworkCartInfo') }">确定</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>
<!-- 公网IP修改 -->

<!-- 负载均衡 查看-->
<div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isView_loadbalancer}">
    <div class='modal-dialog modal-lg'>
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>负载均衡器服务</h3>
      </div>
      <div class='modal-body form-horizontal row'>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">负载均衡器名称：</label>
              <div class="col-sm-8">
                <input type="text" class="form-control w" data-bind="value: loadbalancerCartInfo().name" disabled>
              </div>
            </div>
          </div>
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">所属VDC：</label>
              <div class="col-sm-8">
                <select class="form-control w-xs" data-bind="options:loadbalancerCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value:loadbalancerCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('loadbalancerCartInfo',data,event) }},optionsCaption:'请选择'" disabled></select>
                
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">可用分区：</label>
              <div class="col-sm-8">
                <select class="form-control w-xs" data-bind="options:loadbalancerCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:loadbalancerCartInfo().azUuid,optionsCaption:'请选择'" disabled></select>
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">备注：</label>
              <div class="col-sm-8">
                <textarea class="form-control" cols="30" rows="5" data-bind="value: loadbalancerCartInfo().remark" disabled></textarea>
              </div>
            </div>
          </div>
          
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">申请时长：</label>
              <div class="col-sm-8">
                <div class="radio">
                  <label class="form-inline">
                    <input type="radio" name="optionsRadiosi"  value="1" data-bind="checked: loadbalancerCartInfo().applyType" disabled> 永久
                  </label>
                </div>
                <div class="radio">
                  <label class="form-inline">
                    <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="2"  data-bind="checked: loadbalancerCartInfo().applyType" disabled> 
                    <select class="form-control" data-bind="options:applyList,optionsText:'name',optionsValue:'value',value: loadbalancerCartInfo().applyNum" disabled></select> 个月
                  </label>
                </div>
                <div class="radio">
                  <label class="form-inline">
                    <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="3"  data-bind="checked: loadbalancerCartInfo().applyType" disabled>
                    <span class="">有效期至 </span>
                    <input type="text" style="width:126px" class="form-control applyDateFormat" data-bind="value: loadbalancerCartInfo().applyTime" disabled>
                  </label>
                </div>
              </div>
            </div>
           
            
            
          </div>
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">套餐：</label>
              <div class="col-sm-3">
                <select class="form-control w-xs" disabled>
                  <option value="1">按天</option><option value="1">包月</option><option value="1">按季度</option><option value="1">包年</option>
                </select>
              </div>
              <span class="control-label col-sm-5 text-left" style="height:34px;">费用：100元/月</span>
            </div>

          </div>
          

      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>
<!-- 负载均衡 查看-->

<!-- 负载均衡 修改-->
<div role="dialog" aria-hidden="true" class="modal fade applyModeShow" data-bind="modal: { show: isEdit_loadbalancer}">
    <div class='modal-dialog modal-lg'>
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>负载均衡器服务</h3>
      </div>
      <div class='modal-body form-horizontal row'>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">负载均衡器名称：</label>
              <div class="col-sm-8">
                <input type="text" class="form-control w" data-bind="value: loadbalancerCartInfo().name">
              </div>
            </div>
          </div>
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">所属VDC：</label>
              <div class="col-sm-8">
                <select class="form-control w-xs" data-bind="options:loadbalancerCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value:loadbalancerCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('loadbalancerCartInfo',data,event) }},optionsCaption:'请选择'"></select>
                
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">可用分区：</label>
              <div class="col-sm-8">
                <select class="form-control w-xs" data-bind="options:loadbalancerCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:loadbalancerCartInfo().azUuid,optionsCaption:'请选择'"></select>
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">备注：</label>
              <div class="col-sm-8">
                <textarea class="form-control" cols="30" rows="5" data-bind="value: loadbalancerCartInfo().remark"></textarea>
              </div>
            </div>
          </div>
          
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">申请时长：</label>
              <div class="col-sm-8">
                <div class="radio">
                  <label class="form-inline">
                    <input type="radio" name="optionsRadiosi"  value="1" data-bind="checked: loadbalancerCartInfo().applyType"> 永久
                  </label>
                </div>
                <div class="radio">
                  <label class="form-inline">
                    <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="2"  data-bind="checked: loadbalancerCartInfo().applyType"> 
                    <select class="form-control" data-bind="options:applyList,optionsText:'name',optionsValue:'value',value: loadbalancerCartInfo().applyNum"></select> 个月
                  </label>
                </div>
                <div class="radio">
                  <label class="form-inline">
                    <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="3"  data-bind="checked: loadbalancerCartInfo().applyType">
                    <span class="">有效期至 </span>
                    <input type="text" style="width:126px" class="form-control applyDateFormat" data-bind="value: loadbalancerCartInfo().applyTime">
                  </label>
                </div>
              </div>
            </div>
           
            
            
          </div>
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">套餐：</label>
              <div class="col-sm-3">
                <select class="form-control w-xs">
                  <option value="1">按天</option><option value="1">包月</option><option value="1">按季度</option><option value="1">包年</option>
                </select>
              </div>
              <span class="control-label col-sm-5 text-left" style="height:34px;">费用：100元/月</span>
            </div>

          </div>
          

      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info" data-bind="click: function(data, event){ $root.confirmCommit('loadbalancerCartInfo') }">确定</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>
<!-- 负载均衡 修改-->

<!-- ssh密钥 查看-->
<div role="dialog" aria-hidden="true" class="modal fade applyModeShow" data-bind="modal: { show: isView_sshKeyt}">
  <div class='modal-dialog modal-lg'>
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>SSH密钥服务</h3>
      </div>
      <div class='modal-body form-horizontal row'>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">SSH密钥名称：</label>
              <div class="col-sm-8">
                <input type="text" class="form-control w" data-bind="value: sshKeytCartInfo().name" disabled>
              </div>
            </div>
          </div>
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">所属VDC：</label>
              <div class="col-sm-8">
                <select class="form-control w-xs" data-bind="options:sshKeytCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value: sshKeytCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('sshKeytCartInfo',data,event) }},optionsCaption:'请选择'"  disabled></select>
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">可用分区：</label>
              <div class="col-sm-8">
                <select class="form-control w-xs" data-bind="options: sshKeytCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:sshKeytCartInfo().azUuid,optionsCaption:'请选择'"  disabled></select>
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">备注：</label>
              <div class="col-sm-8">
                <textarea class="form-control" cols="30" rows="5" data-bind="value: sshKeytCartInfo().remark"  disabled></textarea>
              </div>
            </div>
          </div>
          
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
	            <div class="row">
	              <label class="col-sm-4 control-label">申请时长：</label>
	              <div class="col-sm-8">
	                <div class="radio">
	                  <label class="form-inline">
	                    <input type="radio" name="optionsRadiosi"  value="1" data-bind="checked: sshKeytCartInfo().applyType"  disabled> 永久
	                  </label>
	                </div>
	                <div class="radio">
	                  <label class="form-inline">
	                    <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="2"  data-bind="checked: sshKeytCartInfo().applyType"  disabled> 
	                    <select class="form-control" data-bind="options:applyList,optionsText:'name',optionsValue:'value',value: sshKeytCartInfo().applyNum"  disabled></select> 个月
	                  </label>
	                </div>
	                <div class="radio">
	                  <label class="form-inline">
	                    <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="3"  data-bind="checked: sshKeytCartInfo().applyType"  disabled>
	                    <span class="">有效期至 </span>
	                    <input type="text" style="width:126px" class="form-control applyDateFormat" data-bind="value: sshKeytCartInfo().applyTime"  disabled>
	                  </label>
	                </div>
	              </div>
	            </div>
          </div>
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">套餐：</label>
              <div class="col-sm-3">
                <select class="form-control w-xs"  disabled>
                  <option value="1">按天</option><option value="1">包月</option><option value="1">按季度</option><option value="1">包年</option>
                </select>
              </div>
              <span class="control-label col-sm-5 text-left" style="height:34px;">费用：100元/月</span>
            </div>

          </div>
          

      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>
<!-- ssh密钥 查看 -->


<!-- ssh密钥  修改-->
<div role="dialog" aria-hidden="true" class="modal fade applyModeShow" data-bind="modal: { show: isEdit_sshKeyt}">
  <div class='modal-dialog modal-lg'>
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>SSH密钥服务</h3>
      </div>
      <div class='modal-body form-horizontal row'>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">SSH密钥名称：</label>
              <div class="col-sm-8">
                <input type="text" class="form-control w" data-bind="value: sshKeytCartInfo().name">
              </div>
            </div>
          </div>
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">所属VDC：</label>
              <div class="col-sm-8">
                <select class="form-control w-xs" data-bind="options:sshKeytCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value: sshKeytCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('sshKeytCartInfo',data,event) }},optionsCaption:'请选择'"></select>
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">可用分区：</label>
              <div class="col-sm-8">
                <select class="form-control w-xs" data-bind="options: sshKeytCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:sshKeytCartInfo().azUuid,optionsCaption:'请选择'"></select>
              </div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">备注：</label>
              <div class="col-sm-8">
                <textarea class="form-control" cols="30" rows="5" data-bind="value: sshKeytCartInfo().remark"></textarea>
              </div>
            </div>
          </div>
          
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
	            <div class="row">
	              <label class="col-sm-4 control-label">申请时长：</label>
	              <div class="col-sm-8">
	                <div class="radio">
	                  <label class="form-inline">
	                    <input type="radio" name="optionsRadiosi"  value="1" data-bind="checked: sshKeytCartInfo().applyType"> 永久
	                  </label>
	                </div>
	                <div class="radio">
	                  <label class="form-inline">
	                    <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="2"  data-bind="checked: sshKeytCartInfo().applyType"> 
	                    <select class="form-control" data-bind="options:applyList,optionsText:'name',optionsValue:'value',value: sshKeytCartInfo().applyNum"></select> 个月
	                  </label>
	                </div>
	                <div class="radio">
	                  <label class="form-inline">
	                    <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="3"  data-bind="checked: sshKeytCartInfo().applyType">
	                    <span class="">有效期至 </span>
	                    <input type="text" style="width:126px" class="form-control applyDateFormat" data-bind="value: sshKeytCartInfo().applyTime">
	                  </label>
	                </div>
	              </div>
	            </div>
          </div>
          <div class="clearfix"></div>
          <div class="form-group col-md-6">
            <div class="row">
              <label class="col-sm-4 control-label">套餐：</label>
              <div class="col-sm-3">
                <select class="form-control w-xs">
                  <option value="1">按天</option><option value="1">包月</option><option value="1">按季度</option><option value="1">包年</option>
                </select>
              </div>
              <span class="control-label col-sm-5 text-left" style="height:34px;">费用：100元/月</span>
            </div>

          </div>
          

      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info" data-bind="click: function(data, event){ $root.confirmCommit('sshKeytCartInfo') }">确定</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>
<!-- ssh密钥 修改 -->  


<!-- 云主机 修改 -->
<div role="dialog" aria-hidden="true" class="modal fade applyModeShow" data-bind="modal: { show: isEdit_vm}">
  <div class='modal-dialog modal-lg'>
    <div class='modal-content'>
      <div class='modal-header'>
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>云主机服务</h3>
      </div>
      <div class='modal-body form-horizontal row'>
        <div class="panel panel-default no-height" style="margin:0;border:none">
          <div class="panel-heading">基本信息 <span style="cursor:pointer;" class="glyphicon pull-right" data-bind="click: step1(!step1()),css:{'glyphicon-chevron-up': step1(), 'glyphicon-chevron-down': !step1()}"></span></div>
          <div class="panel-body" data-bind="visible: step1">
            <div class="form-group col-md-6">
              <div class="row">
                <label class="col-sm-4 control-label">云主机名称：</label>
                <div class="col-sm-8">
                  <input type="text" class="form-control w" data-bind="value:vmCartInfo().vmName">
                </div>
              </div>
            </div>
            <div class="clearfix"></div>
            <div class="form-group col-md-6">
              <div class="row">
                <label class="col-sm-4 control-label">所属VDC：</label>
                <div class="col-sm-8">
                  <select class="form-control w-xs" data-bind="options:vmCartInfo().vdcList,optionsText:'name',optionsValue:'uuid',value: vmCartInfo().vdcUuid,event:{change:function(data, event){ $root.vdcChange('vmCartInfo',data,event) }},optionsCaption:'请选择'"></select>
                </div>
              </div>
            </div>
            <div class="form-group col-md-6">
              <div class="row">
                <label class="col-sm-4 control-label">可用分区：</label>
                <div class="col-sm-8">
                  <select class="form-control w-xs" data-bind="options: vmCartInfo().azList,optionsText:'name',optionsValue:'uuid',value:vmCartInfo().azUuid,event:{changefunction(data, event){ $root.azChangeGetVpc('vmCartInfo',data,event)}},optionsCaption:'请选择'"></select>
                </div>
              </div>
            </div>
            <div class="form-group col-md-6">
              <div class="row">
                <label class="col-sm-4 control-label">操作系统类型：</label>
                <div class="col-sm-8">
                  <select class="form-control w-xs" data-bind="options: vmCartInfo().osTypeList,optionsText:$data,optionsValue:$data,value:vmCartInfo().osType,event:{changefunction(data, event){ $root.osTypeChangeGetOsVersion('vmCartInfo',data,event)}},optionsCaption:'请选择'"></select>
                </div>
              </div>
            </div>
            <div class="form-group col-md-6">
              <div class="row">
                <label class="col-sm-4 control-label">操作系统版本：</label>
                <div class="col-sm-8">
                  <select class="form-control w-xs" data-bind="options: vmCartInfo().osVersionList,optionsText:'name',optionsValue:'uuid',value:vmCartInfo().osVersion,optionsCaption:'请选择'"></select>
                </div>
              </div>
            </div>
            <div class="form-group col-md-3">
              <div class="row">
                <label class="col-xs-5 control-label">CPU(个)：</label>
                <div class="col-xs-7">
                  <select class="form-control w-xs" data-bind="options: vmCartInfo().cpuList,optionsText:$data,optionsValue:$data,value:vmCartInfo().cpu,optionsCaption:'请选择'"></select>
                </div>
              </div>
            </div>
            <div class="form-group col-md-4">
              <div class="row">
                <label class="col-xs-5 control-label">内存(GB)：</label>
                <div class="col-xs-7">
                  <select class="form-control w-xs" data-bind="options: vmCartInfo().memoryList,optionsText:$data,optionsValue:$data,value:vmCartInfo().memory,optionsCaption:'请选择'"></select>
                </div>
              </div>
            </div>
            <div class="form-group col-md-4">
              <div class="row">
                <label class="col-xs-5 control-label">存储(GB)：</label>
                <div class="col-xs-7">
                  <input type="text" class="form-control" data-bind="value: vmCartInfo().storage">
                </div>
              </div>
            </div>
            <div class="form-group col-md-3">
              <div class="row">
                <label class="col-xs-5 control-label">VPC/IP池：</label>
                <div class="col-xs-7">
                  <select class="form-control w-xs" data-bind="options:vmCartInfo().vpcList,optionsText:'name',optionsValue:'uuid',value:vmCartInfo().vpcUuid,event:{change:$root.vpcChange},optionsCaption:'请选择'"></select>
                </div>
              </div>
            </div>
            <div class="form-group col-md-4">
              <div class="row">
                <label class="col-xs-5 control-label">网络名称：</label>
                <div class="col-xs-7">
                  <select class="form-control w-xs" data-bind="options:vmCartInfo().networkList,optionsText:'name',optionsValue:'uuid',value:vmCartInfo().vpcNetworkUuid,optionsCaption:'请选择'"></select>
                </div>
              </div>
            </div>
            <div class="form-group col-md-4">
              <div class="row">
                <label class="col-xs-5 control-label">指定IP：</label>
                <div class="col-xs-7">
                  <input type="text" class="form-control" data-bind="value: vmCartInfo().ip">
                </div>
              </div>
            </div>
            <div class="form-group col-md-3">
              <div class="row">
                <label class="col-xs-5 control-label">主机账号：</label>
                <div class="col-xs-7">
                  <input type="text" class="form-control"  data-bind="value: vmCartInfo().account">
                </div>
              </div>
            </div>
            <div class="form-group col-md-4">
              <div class="row">
                <label class="col-xs-5 control-label">密码：</label>
                <div class="col-xs-7">
                  <input type="text" class="form-control"  data-bind="value: vmCartInfo().password">
                </div>
              </div>
            </div>
            <div class="form-group col-md-4">
              <div class="row">
                <label class="col-xs-5 control-label">重复密码：</label>
                <div class="col-xs-7">
                  <input type="text" class="form-control"  data-bind="value: vmCartInfo().repeatPassword">
                </div>
              </div>
            </div>
            <div class="form-group col-md-3">
              <div class="row">
                <label class="col-xs-5 control-label">绑定密钥：</label>
                <div class="col-xs-7">
                  <select class="form-control w-xs" data-bind="options:sshIsMountList,optionsText:'name',optionsValue:'value',value:vmCartInfo().sshIsMount"></select>
                </div>
              </div>
            </div>
            <div class="form-group col-md-4">
              <div class="row">
                <label class="col-xs-5 control-label">选择密钥：</label>
                <div class="col-xs-7">
                  <select class="form-control w-xs"><option value="">密钥1</option><option value="">密钥2</option></select>
                </div>
              </div>
            </div>
            <div class="clearfix"></div>
            <div class="form-group col-md-5">
              
              
               <div class="row">
	              <label class="col-xs-5 control-label">申请时长：</label>
	              <div class="col-sm-7">
	                <div class="radio">
	                  <label class="form-inline">
	                    <input type="radio" name="optionsRadiosi"  value="1" data-bind="checked: vmCartInfo().applyType"> 永久
	                  </label>
	                </div>
	                <div class="radio">
	                  <label class="form-inline">
	                    <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="2"  data-bind="checked: vmCartInfo().applyType"> 
	                    <select class="form-control" data-bind="options:applyList,optionsText:'name',optionsValue:'value',value: vmCartInfo().applyNum"></select> 个月
	                  </label>
	                </div>
	                <div class="radio">
	                  <label class="form-inline">
	                    <input type="radio" class="form-control" style="top:2px;" name="optionsRadiosi" value="3"  data-bind="checked: vmCartInfo().applyType">
	                    <span class="">有效期至 </span>
	                    <input type="text" style="width:126px" class="form-control applyDateFormat" data-bind="value: vmCartInfo().applyTime">
	                  </label>
	                </div>
	              </div>
	            </div>
              
              
              
              
            </div>
            <div class="clearfix"></div>
            <div class="form-group col-md-3">
              <div class="row">
                <label class="col-xs-5 control-label">套餐：</label>
                <div class="col-xs-7">
                  <select class="form-control w-xs">
                    <option value="1">按天</option><option value="1">包月</option><option value="1">按季度</option><option value="1">包年</option>
                  </select>
                </div>
              </div>
            </div>
            <span class="control-label col-md-3 text-left" style="height:34px;">费用：100元/月</span>
          </div>
        </div>

        <div class="panel panel-default no-height" style="margin:0;border:none">
          <div class="panel-heading">挂载云硬盘 <span style="cursor:pointer;" class="glyphicon pull-right" data-bind="click: step2(!step2()),css:{'glyphicon-chevron-up': step2(), 'glyphicon-chevron-down': !step2()}"></span></div>
          <div class="panel-body" data-bind="visible: step2">
            <div style="margin:0;">
              <a class="btn btn-info btn-sm pull-right" data-bind="click: addVdisk">添加硬盘</a>
              <div class="clearfix" style="height:10px;clear:both;"></div>
              <div class="panel panel-default table-responsive no-height">
                <table class="table table-striped">
                  <thead>
                    <th>序号</th>
                    <th>云硬盘名称<i style="color:red">*</i></th>
                    <th>存储大小</th>
                    <th>所属服务</th>
                    <th>申请时长</th>
                    <th>套餐</th>
                    <th>收费标准</th>
                    <th>操作</th>
                  </thead>
                  <tbody data-bind="foreach:vmCartInfo().mountDisks">
                    <tr>
                        <td><span data-bind="text: ($index()+1)"></span></td>
                        <td><input type="text" class="form-control" data-bind="value:name"/></td>
                        <td><input type="text" class="form-control" data-bind="value:size"/></td>
                        <td><input type="text" data-bind="value:size" disabled/><a class="btn btn-xs btn-default" data-bind="click:function(object, event){ $root.updateMountdisks($parent, object, event) }">选择</a> 
                        </td>
                        <td><input type="text" class="form-control" data-bind="value:name"/></td>
                        <td><span data-bind="text:size"></span></td>
                        <td><span data-bind="text:size"></span></td>
                        <td>
                            <a class="btn btn-xs btn-danger" data-bind="click:function(object, event){ $root.delMountdisks($parent, object, event) }">删除</a></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>



        <div class="panel panel-default no-height" style="margin:0;border:none">
          <div class="panel-heading">安装软件 <span style="cursor:pointer;" class="glyphicon pull-right" data-bind="click: step3(!step3()),css:{'glyphicon-chevron-up': step3(), 'glyphicon-chevron-down': !step3()}"></span></div>
          <div class="panel-body" data-bind="visible: step3">
            <div style="margin:0;">
              <a class="btn btn-info btn-sm pull-right" data-bind="click: addSoftware">添加软件</a>
              <div class="clearfix" style="height:10px;clear:both;"></div>
              <div class="panel panel-default table-responsive no-height">
                <table class="table table-striped">
                  <thead>
                    <th>软件名称</th>
                    <th>软件分类</th>
                    <th>软件类型</th>
                    <th>软件版本</th>
                    <th>静默安装属性</th>
                    <th>操作</th>
                  </thead>
                  <tbody>
                    <tr>
                      <td>oracle 10g</td>
                      <td>数据库</td>
                      <td>oracle</td>
                      <td>10G 企业版</td>
                      <td><a class="btn btn-xs btn-default">查看</a> <a class="btn btn-xs btn-default">修改</a></td>
                      <td><a class="btn btn-xs btn-danger" onclick="confirm(\'确定删除吗？\')">删除</a></td>
                    </tr>
                    <tr>
                      <td>oracle 10g</td>
                      <td>数据库</td>
                      <td>oracle</td>
                      <td>10G 企业版</td>
                      <td><a class="btn btn-xs btn-default">查看</a> <a class="btn btn-xs btn-default">修改</a></td>
                      <td><a class="btn btn-xs btn-danger" onclick="confirm(\'确定删除吗？\')">删除</a></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <div class="panel panel-default no-height" style="margin:0;border:none">
          <div class="panel-heading">系统盘分区 <span style="cursor:pointer;" class="glyphicon pull-right" data-bind="click: step4(!step4()),css:{'glyphicon-chevron-up': step4(), 'glyphicon-chevron-down': !step4()}"></span></div>
          <div class="panel-body" data-bind="visible: step4">
            <div style="margin:0;">
              <a class="btn btn-info btn-sm pull-right" data-bind="click: addPartition">添加分区</a>
              <div class="clearfix" style="height:10px;clear:both;"></div>
              <div class="panel panel-default table-responsive no-height">
                <table class="table table-striped">
                  <thead>
                    <th>分区名称</th>
                    <th>分区大小</th>
                    <th>操作</th>
                  </thead>
                  <tbody>
                    <tr>
                      <td>NFS</td>
                      <td>100G</td>
                      <td><a class="btn btn-xs btn-default">修改</a> <a class="btn btn-xs btn-danger" onclick="confirm(\'确定删除吗？\')">删除</a></td>
                    </tr>
                    <tr>
                      <td>NFS</td>
                      <td>100G</td>
                      <td><a class="btn btn-xs btn-default">修改</a> <a class="btn btn-xs btn-danger" onclick="confirm(\'确定删除吗？\')">删除</a></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <div class="panel panel-default no-height" style="margin:0;border:none">
          <div class="panel-heading">高级选项 <span style="cursor:pointer;" class="glyphicon pull-right" data-bind="click: step5(!step5()),css:{'glyphicon-chevron-up': step5(), 'glyphicon-chevron-down': !step5()}"></span></div>
          <div class="panel-body" data-bind="visible: step5">
            <div class="form-group col-md-6">
              <div class="row">
                <label class="col-sm-4 control-label">所属业务系统：</label>
                <div class="col-sm-8">
                  <select class="form-control w"><option value="">1</option></select>
                </div>
              </div>
            </div>
            <div class="clearfix"></div>
            <div class="form-group col-md-6">
              <div class="row">
                <label class="col-sm-4 control-label">备注：</label>
                <div class="col-sm-8">
                <textarea class="form-control" cols="30" rows="5"></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>
        

      </div>
      <div class='modal-footer' style="text-align:center;">
        <a class="btn btn-default btn-info" data-bind="click: function(data, event){ $root.confirmCommit('sshKeytCartInfo') }">确定</a>
        <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
      </div>
    </div>
  </div>
</div>
<!-- 云主机 修改 -->

  <!-- 添加云硬盘 -->
  <div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isAdd_Vdisk }">
    <div class='modal-dialog modal-lg' role='document'>
      <div class='modal-content'>
        <div class='modal-header'>
          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>选择云硬盘</h3>
        </div>
        <div class='modal-body form-horizontal'>
          <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
            <table class="table table-striped">
              <thead>
                <th></th>
                <th>云硬盘名称<i style="color:red">*</i></th>
                <th>类型<i style="color:red">*</i></th>
                <th>是否收费<i style="color:red">*</i></th>
              </thead>
              <tbody>
                <tr>
                  <td><input type="radio" style="top:-2px;" name="optionsRadios0" id="optionsRadios01" value="option1" checked=""></td>
                  <td>名称</td>
                  <td>类型</td>
                  <td>是/否</td>
                </tr>
              </tbody>
            </table>
          </div>
          
        </div>
        <div class='modal-footer' style="text-align:center;">
          <a class="btn btn-default btn-info" data-bind="click: addVdiskToList">确定添加</a>
          <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
        </div>
      </div>
    </div>
  </div>
  <!-- 添加云硬盘 -->
  <!-- 添加软件 -->
  <div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isAdd_Software }">
    <div class='modal-dialog modal-lg' role='document'>
      <div class='modal-content'>
        <div class='modal-header'>
          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>选择软件</h3>
        </div>
        <div class='modal-body form-horizontal'>
          <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
            <table class="table table-striped">
              <thead>
                <th></th>
                <th>软件名称<i style="color:red">*</i></th>
                <th>软件类型<i style="color:red">*</i></th>
                <th>软件版本<i style="color:red">*</i></th>
              </thead>
              <tbody>
                <tr>
                  <td><input type="radio" style="top:-2px;" name="optionsRadios0" id="optionsRadios01" value="option1" checked=""></td>
                  <td>名称</td>
                  <td>类型</td>
                  <td>版本</td>
                </tr>
              </tbody>
            </table>
          </div>
          
        </div>
        <div class='modal-footer' style="text-align:center;">
          <a class="btn btn-default btn-info" data-bind="click: addSoftwareToList">确定添加</a>
          <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
        </div>
      </div>
    </div>
  </div>
  <!-- 添加软件 -->
  <!-- 添加分区 -->
  <div role="dialog" aria-hidden="true" class="modal fade" data-bind="modal: { show: isAdd_Partition }">
    <div class='modal-dialog modal-lg' role='document'>
      <div class='modal-content'>
        <div class='modal-header'>
          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button><h3 class='modal-title'>选择分区</h3>
        </div>
        <div class='modal-body form-horizontal'>
          <div class="panel panel-default table-responsive no-height" style="margin:0;margin-top:10px">
            <table class="table table-striped">
              <thead>
                <th></th>
                <th>分区名称<i style="color:red">*</i></th>
                <th>分区大小<i style="color:red">*</i></th>
              </thead>
              <tbody>
                <tr>
                  <td><input type="radio" style="top:-2px;" name="optionsRadios0" id="optionsRadios01" value="option1" checked=""></td>
                  <td>名称</td>
                  <td>大小</td>
                </tr>
              </tbody>
            </table>
          </div>
          
        </div>
        <div class='modal-footer' style="text-align:center;">
          <a class="btn btn-default btn-info" data-bind="click: addPartitionToList">确定添加</a>
          <a class="btn btn-default btn btn-default" data-dismiss="modal">取消</a>
        </div>
      </div>
    </div>
  </div>
  <!-- 添加分区 -->


